/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={18:(e,t,n)=>{var r=1/0,o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();function s(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var l=Object.prototype,c=l.hasOwnProperty,u=l.toString,f=a.Symbol,p=l.propertyIsEnumerable,d=f?f.isConcatSpreadable:void 0;function h(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=y),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?h(l,t-1,n,r,o):s(o,l):r||(o[o.length]=l)}return o}function y(e){return m(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?u.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&c.call(e,"callee")&&(!p.call(e,"callee")||"[object Arguments]"==u.call(e))}(e)||!!(d&&e&&e[d])}var m=Array.isArray;e.exports=function(e){return e&&e.length?h(e,r):[]}},20:(e,t,n)=>{"use strict";var r=n(540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,f="".concat(c," ").concat(u);i[c]=u+1;var p=n(f),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=o(d,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},149:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".indicator-settings-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.indicator-settings-panel {\n  background: white;\n  border-radius: 8px;\n  width: 400px;\n  max-height: 600px;\n  overflow: hidden;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.settings-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #f8f9fa;\n}\n\n.settings-header h3 {\n  margin: 0;\n  font-size: 16px;\n  color: #333;\n  font-weight: 600;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  color: #666;\n}\n\n.close-button:hover {\n  background: #e0e0e0;\n  color: #333;\n}\n\n.settings-content {\n  padding: 0;\n}\n\n.settings-tabs {\n  display: flex;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.tab-button {\n  flex: 1;\n  padding: 12px 16px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 13px;\n  color: #666;\n  border-bottom: 2px solid transparent;\n  transition: all 0.2s;\n}\n\n.tab-button.active {\n  color: #2962ff;\n  border-bottom-color: #2962ff;\n  background: rgba(41, 98, 255, 0.05);\n}\n\n.tab-button:hover:not(.active) {\n  background: #f5f5f5;\n  color: #333;\n}\n\n.settings-form {\n  padding: 20px;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.setting-group {\n  margin-bottom: 16px;\n}\n\n.setting-group label {\n  display: block;\n  margin-bottom: 6px;\n  font-size: 13px;\n  font-weight: 500;\n  color: #333;\n}\n\n.setting-group input,\n.setting-group select {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 13px;\n  background: white;\n  color: #333;\n}\n\n.setting-group input:focus,\n.setting-group select:focus {\n  outline: none;\n  border-color: #2962ff;\n  box-shadow: 0 0 0 2px rgba(41, 98, 255, 0.1);\n}\n\n.checkbox-label {\n  display: flex !important;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  margin-bottom: 0 !important;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: auto !important;\n  margin: 0;\n}\n\n.settings-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-top: 1px solid #e0e0e0;\n  background: #f8f9fa;\n}\n\n.defaults-button {\n  background: #f5f5f5;\n  border: 1px solid #ddd;\n  color: #333;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 13px;\n  transition: all 0.2s;\n}\n\n.defaults-button:hover {\n  background: #e0e0e0;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n.cancel-button,\n.ok-button {\n  padding: 8px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.cancel-button {\n  background: #f5f5f5;\n  color: #333;\n  border: 1px solid #ddd;\n}\n\n.cancel-button:hover {\n  background: #e0e0e0;\n}\n\n.ok-button {\n  background: #2962ff;\n  color: white;\n  min-width: 60px;\n}\n\n.ok-button:hover {\n  background: #1e4db8;\n}\n\n/* Scrollbar styling for form */\n.settings-form::-webkit-scrollbar {\n  width: 6px;\n}\n\n.settings-form::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n.settings-form::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.settings-form::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}",""]);const s=a},159:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},210:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".pinescript-importer-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.pinescript-importer-panel {\n  background: white;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 900px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n}\n\n.importer-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #f8f9fa;\n  border-radius: 8px 8px 0 0;\n}\n\n.importer-header h3 {\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  color: #666;\n}\n\n.close-button:hover {\n  background: #e0e0e0;\n  color: #333;\n}\n\n.importer-content {\n  padding: 20px;\n}\n\n/* Sample Indicators */\n.sample-indicators {\n  margin-bottom: 24px;\n}\n\n.sample-indicators h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.sample-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.sample-button {\n  background: #e3f2fd;\n  border: 1px solid #2196f3;\n  color: #1976d2;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s ease;\n}\n\n.sample-button:hover {\n  background: #2196f3;\n  color: white;\n}\n\n/* Script Input */\n.script-input-section {\n  margin-bottom: 24px;\n}\n\n.script-input-section h4 {\n  margin: 0 0 16px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.input-group {\n  margin-bottom: 16px;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: 4px;\n  font-weight: 500;\n  color: #333;\n}\n\n.input-group input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.script-textarea-container {\n  margin-bottom: 16px;\n}\n\n.script-textarea {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 13px;\n  line-height: 1.4;\n  resize: vertical;\n  min-height: 200px;\n}\n\n.script-textarea:focus {\n  outline: none;\n  border-color: #2196f3;\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);\n}\n\n.script-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.validate-button,\n.import-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.validate-button {\n  background: #f0f0f0;\n  color: #333;\n  border: 1px solid #ddd;\n}\n\n.validate-button:hover:not(:disabled) {\n  background: #e0e0e0;\n}\n\n.import-button {\n  background: #4caf50;\n  color: white;\n}\n\n.import-button:hover:not(:disabled) {\n  background: #45a049;\n}\n\n.validate-button:disabled,\n.import-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Validation Results */\n.validation-result {\n  margin: 16px 0;\n  padding: 12px;\n  border-radius: 4px;\n}\n\n.validation-result.valid {\n  background: #e8f5e8;\n  border: 1px solid #4caf50;\n}\n\n.validation-result.invalid {\n  background: #ffebee;\n  border: 1px solid #f44336;\n}\n\n.validation-success {\n  color: #2e7d32;\n  font-weight: 500;\n}\n\n.validation-errors {\n  color: #c62828;\n}\n\n.validation-errors h5 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n}\n\n.validation-errors ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.validation-errors li {\n  margin-bottom: 4px;\n  font-size: 13px;\n}\n\n/* Imported Indicators */\n.imported-indicators {\n  margin-bottom: 24px;\n}\n\n.imported-indicators h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.indicators-list {\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n}\n\n.indicator-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e0e0e0;\n  transition: background-color 0.2s ease;\n}\n\n.indicator-item:last-child {\n  border-bottom: none;\n}\n\n.indicator-item.enabled {\n  background: #f8f9fa;\n}\n\n.indicator-item.disabled {\n  background: #f5f5f5;\n  opacity: 0.7;\n}\n\n.indicator-info {\n  flex: 1;\n}\n\n.indicator-name {\n  display: block;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 2px;\n}\n\n.indicator-plots {\n  display: block;\n  font-size: 12px;\n  color: #666;\n}\n\n.toggle-button {\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 4px;\n}\n\n/* Built-in Functions */\n.builtin-functions h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.functions-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.function-tag {\n  background: #f5f5f5;\n  color: #666;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-family: monospace;\n}\n\n.function-more {\n  background: #e0e0e0;\n  color: #888;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-style: italic;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .pinescript-importer-panel {\n    width: 95%;\n    margin: 20px;\n  }\n  \n  .script-actions {\n    flex-direction: column;\n  }\n  \n  .sample-buttons {\n    flex-direction: column;\n  }\n}",""]);const s=a},267:e=>{"use strict";e.exports="data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23868993%27 stroke-width=%272%27%3e%3cpath d=%27M6 9l6 6 6-6%27/%3e%3c/svg%3e"},287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,y(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:k.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+j(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(P,"$&/")+"/"),_(a,t,o,"",function(e){return e})):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+j(s=e[c],c);l+=_(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=_(s=s.value,t,o,u=i+j(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},338:(e,t,n)=>{"use strict";var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},383:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(417),l=n.n(s),c=new URL(n(267),n.b),u=a()(o()),f=l()(c);u.push([e.id,`.header-toolbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 44px;\n  background: #1e222d;\n  border-bottom: 1px solid #2a2e39;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 12px;\n  z-index: 1002;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n/* Symbol Search Area */\n.symbol-search-area {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.search-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.search-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n.symbol-display {\n  padding: 4px 8px;\n  cursor: pointer;\n}\n\n.current-symbol {\n  color: #d1d4dc;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n/* Search Dropdown */\n.symbol-search-dropdown {\n  position: absolute;\n  top: calc(100% + 8px);\n  left: 0;\n  width: 320px;\n  background: #1e222d;\n  border: 1px solid #2a2e39;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n}\n\n.search-input-wrapper {\n  padding: 12px;\n  border-bottom: 1px solid #2a2e39;\n  background: #131722;\n}\n\n.symbol-search-input {\n  width: 100%;\n  background: transparent;\n  border: none;\n  outline: none;\n  color: #d1d4dc;\n  font-size: 14px;\n  padding: 4px;\n}\n\n.symbol-search-input::placeholder {\n  color: #5d606b;\n}\n\n.symbol-results {\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.symbol-result-item {\n  padding: 10px 12px;\n  cursor: pointer;\n  transition: background 0.2s;\n  border-bottom: 1px solid rgba(42, 46, 57, 0.5);\n}\n\n.symbol-result-item:hover {\n  background: rgba(41, 98, 255, 0.1);\n}\n\n.symbol-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 4px;\n}\n\n.symbol-ticker {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.symbol-exchange {\n  color: #5d606b;\n  font-size: 11px;\n  padding: 2px 4px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 2px;\n}\n\n.symbol-name {\n  color: #868993;\n  font-size: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.symbol-type {\n  color: #606060;\n  font-size: 10px;\n  padding: 1px 3px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: 2px;\n  margin-left: 4px;\n}\n\n.loading-message, .no-results {\n  padding: 8px 12px;\n  color: #868993;\n  font-size: 13px;\n  text-align: center;\n}\n\n/* Toolbar Separator */\n.toolbar-separator {\n  width: 1px;\n  height: 24px;\n  background: #2a2e39;\n  margin: 0 4px;\n}\n\n/* Time Interval Dropdown */\n.time-interval-dropdown {\n  position: relative;\n}\n\n.interval-select {\n  background: #1e222d;\n  border: 1px solid #2a2e39;\n  color: #d1d4dc;\n  padding: 6px 24px 6px 10px;\n  font-size: 13px;\n  border-radius: 4px;\n  cursor: pointer;\n  outline: none;\n  appearance: none;\n  background-image: url(${f});\n  background-repeat: no-repeat;\n  background-position: right 6px center;\n  background-size: 16px;\n  min-width: 60px;\n  transition: all 0.2s;\n}\n\n.interval-select:hover {\n  border-color: #434651;\n  background-color: #242935;\n}\n\n.interval-select:focus {\n  border-color: #2962ff;\n  background-color: #242935;\n}\n\n.interval-select option {\n  background: #1e222d;\n  color: #d1d4dc;\n  padding: 4px;\n}\n\n.interval-select optgroup {\n  background: #1e222d;\n  color: #868993;\n  font-weight: bold;\n  font-size: 12px;\n}\n\n.interval-select optgroup option {\n  background: #242935;\n  color: #d1d4dc;\n  font-weight: normal;\n  padding-left: 8px;\n}\n\n/* Chart Type Button */\n.chart-type-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.chart-type-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n/* Indicators Button */\n.indicators-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.indicators-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n.pinescript-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.pinescript-button:hover {\n  background: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n}\n\n/* Header Icon Buttons */\n.header-icon-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.header-icon-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n/* Scrollbar */\n.symbol-results::-webkit-scrollbar {\n  width: 6px;\n}\n\n.symbol-results::-webkit-scrollbar-track {\n  background: #131722;\n}\n\n.symbol-results::-webkit-scrollbar-thumb {\n  background: #2a2e39;\n  border-radius: 3px;\n}\n\n.symbol-results::-webkit-scrollbar-thumb:hover {\n  background: #3a3e49;\n}`,""]);const p=u},384:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* TradingView-style Drawing Toolbar */\n.drawing-toolbar {\n  position: fixed;\n  left: 0;\n  top: 44px; /* Position below header */\n  width: 48px;\n  height: calc(100vh - 44px); /* Adjust height for header */\n  background: #1e222d;\n  border-right: 1px solid #2a2e39;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 0;\n  gap: 2px;\n  z-index: 1000;\n}\n\n.tool-button {\n  width: 36px;\n  height: 36px;\n  background: transparent;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  color: #868993;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.tool-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: #2a2e39;\n  color: #d1d4dc;\n}\n\n.tool-button.active {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: white;\n}\n\n.tool-button.active::after {\n  content: '';\n  position: absolute;\n  right: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 3px;\n  height: 24px;\n  background: #2962ff;\n  border-radius: 2px;\n}\n\n.tool-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.tool-icon svg {\n  width: 16px;\n  height: 16px;\n  color: inherit;\n  transition: color 0.2s ease;\n}\n\n.toolbar-separator {\n  width: 24px;\n  height: 1px;\n  background: #2a2e39;\n  margin: 4px 0;\n}\n\n/* Line tool dropdown styles */\n.line-tool-container {\n  position: relative;\n}\n\n.line-tool-button {\n  position: relative;\n}\n\n.dropdown-arrow {\n  position: absolute;\n  bottom: 2px;\n  right: 2px;\n  background: rgba(30, 34, 45, 0.9);\n  border-radius: 2px;\n  padding: 1px 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  z-index: 2;\n}\n\n.dropdown-arrow:hover {\n  background: rgba(255, 255, 255, 0.15);\n  transform: scale(1.1);\n}\n\n.line-tool-button.active .dropdown-arrow {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.line-dropdown {\n  position: absolute;\n  left: 48px; /* Position to the right of the toolbar */\n  top: 0;\n  background: #1e222d;\n  border: 1px solid #2a2e39;\n  border-radius: 6px;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n  min-width: 180px;\n  z-index: 1001;\n  padding: 6px 0;\n}\n\n.dropdown-item {\n  width: 100%;\n  height: 32px;\n  background: transparent;\n  border: none;\n  color: #d1d4dc;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  padding: 0 12px;\n  gap: 10px;\n  font-size: 13px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  transition: background-color 0.2s ease;\n}\n\n.dropdown-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.dropdown-item.selected {\n  background: rgba(41, 98, 255, 0.15);\n  color: #2962ff;\n}\n\n.dropdown-item.selected:hover {\n  background: rgba(41, 98, 255, 0.25);\n}\n\n.dropdown-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.dropdown-icon svg {\n  width: 16px;\n  height: 16px;\n  color: inherit;\n}\n\n.dropdown-label {\n  flex: 1;\n  text-align: left;\n  white-space: nowrap;\n}",""]);const s=a},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,p=null,d=3,h=!1,y=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!y)if(null!==r(c))y=!0,M(S);else{var t=r(u);null!==t&&N(w,t.startTime-e)}}function S(e,n){y=!1,m&&(m=!1,v(O),O=-1),h=!0;var i=d;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!_());){var a=p.callback;if("function"==typeof a){p.callback=null,d=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&o(c),x(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var f=r(u);null!==f&&N(w,f.startTime-n),l=!1}return l}finally{p=null,d=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,O=-1,P=5,j=-1;function _(){return!(t.unstable_now()-j<P)}function T(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"==typeof b)k=function(){b(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){g(T,0)};function M(e){C=e,E||(E=!0,k())}function N(e,n){O=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(v(O),O=-1):m=!0,N(w,i-a))):(e.sortIndex=s,n(c,e),y||h||(y=!0,M(S))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},483:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".indicators-panel {\n  position: fixed;\n  top: 60px;\n  left: 200px;\n  width: 300px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.indicators-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.indicators-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.indicators-section {\n  padding: 16px 20px;\n}\n\n.indicators-section h4 {\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #787b86;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.indicators-list {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.indicator-item {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\n\n.indicator-item:hover {\n  background: #363a45;\n}\n\n.indicator-item.enabled {\n  background: rgba(41, 98, 255, 0.1);\n  color: #ffffff;\n}\n\n.indicator-item.enabled:hover {\n  background: rgba(41, 98, 255, 0.2);\n}\n\n.indicator-checkbox {\n  width: 16px;\n  height: 16px;\n  border: 1px solid #787b86;\n  border-radius: 3px;\n  margin-right: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #2962ff;\n  transition: all 0.2s;\n}\n\n.indicator-item.enabled .indicator-checkbox {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: #ffffff;\n}\n\n.indicator-label {\n  flex: 1;\n  font-weight: 400;\n}",""]);const s=a},523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif;\n    background-color: #131722;\n    color: #d1d4dc;\n    overflow: hidden;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    font-size: 18px;\n    color: #d1d4dc;\n}",""]);const s=a},540:(e,t,n)=>{"use strict";e.exports=n(287)},551:(e,t,n)=>{"use strict";var r=n(540),o=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function y(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(h,e)||!f.call(d,e)&&(p.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,R=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,fe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(de).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Oe(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Pe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function je(e,t){return e(t)}function _e(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return je(e,t,n)}finally{Te=!1,(null!==ke||null!==Ee)&&(_e(),Pe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Me=!1}function Ie(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Le=!1,Re=null,Fe=!1,ze=null,Ve={onError:function(e){Le=!0,Re=e}};function Be(e,t,n,r,o,i,a,s,l){Le=!1,Re=null,Ie.apply(Ve,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(i(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ze=o.unstable_now,Ke=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,St,kt,Et,Ct,Ot=!1,Pt=[],jt=null,_t=null,Tt=null,At=new Map,Dt=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=xo(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Rt(e){var t=bo(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ot=!1,null!==jt&&Ft(jt)&&(jt=null),null!==_t&&Ft(_t)&&(_t=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(zt),Dt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Pt.length){Bt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Bt(jt,e),null!==_t&&Bt(_t,e),null!==Tt&&Bt(Tt,e),At.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Mt.shift()}var Ut=x.ReactCurrentBatchConfig,Ht=!0;function Yt(e,t,n,r){var o=bt,i=Ut.transition;Ut.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=o,Ut.transition=i}}function Xt(e,t,n,r){var o=bt,i=Ut.transition;Ut.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=o,Ut.transition=i}}function qt(e,t,n,r){if(Ht){var o=Gt(e,t,n,r);if(null===o)Hr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jt=Lt(jt,e,t,n,r,o),!0;case"dragenter":return _t=Lt(_t,e,t,n,r,o),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Dt.set(i,Lt(Dt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Gt(e,t,n,r))&&Hr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Gt(e,t,n,r){if($t=null,null!==(e=bo(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),fn=R({},cn,{view:0,detail:0}),pn=on(fn),dn=R({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(dn),yn=on(R({},dn,{dataTransfer:0})),mn=on(R({},fn,{relatedTarget:0})),gn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var On=R({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(On),jn=on(R({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(R({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=R({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(An),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Ln=u&&"TextEvent"in window&&!In,Rn=u&&(!Nn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Xr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,qn=null;function $n(e){Fr(e,0)}function Gn(e){if(q(wo(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Kn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Kn=Jn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),qn=Xn=null)}function nr(e){if("value"===e.propertyName&&Gn(qn)){var t=[];Yn(t,qn,e,we(e)),Ae($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(qn)}function ir(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Xr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Or=Cr("animationend"),Pr=Cr("animationiteration"),jr=Cr("animationstart"),_r=Cr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Nr=Ar[Mr];Dr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Dr(Or,"onAnimationEnd"),Dr(Pr,"onAnimationIteration"),Dr(jr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Re;Le=!1,Re=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Rr(o,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var o=Yt;break;case 4:o=Xt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=i,o=we(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Or:case Pr:case jr:l=gn;break;case _r:l=Tn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=!!(4&t),f=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var d,h=r;null!==h;){var y=(d=h).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==p&&null!=(y=De(h,p))&&u.push(Yr(h,y,d))),f)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[yo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(f=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,y="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,y="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==l?s:wo(l),d=null==c?s:wo(c),(s=new u(y,h+"leave",l,n,o)).target=f,s.relatedTarget=d,y=null,bo(o)===r&&((u=new u(p,h+"enter",c,n,o)).target=d,u.relatedTarget=f,y=u),f=y,l&&c)e:{for(p=c,h=0,d=u=l;d;d=qr(d))h++;for(d=0,y=p;y;y=qr(y))d++;for(;0<h-d;)u=qr(u),h--;for(;0<d-h;)p=qr(p),d--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=qr(u),p=qr(p)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==f&&$r(a,f,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(Hn(s))if(Zn)m=ar;else{m=or;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Yn(a,m,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wo(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,o);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(a,n,o)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=en()):(Kt="value"in(Zt=o)?Zt.value:Zt.textContent,Wn=!0)),0<(g=Xr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:g}),(v||null!==(v=Bn(n)))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Jt=Kt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Xr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v)}Fr(a,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=De(e,n))&&r.unshift(Yr(e,i,o)),null!=(i=De(e,t))&&r.push(Yr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=De(n,i))&&a.unshift(Yr(n,l,s)):o||null!=(l=De(n,i))&&a.push(Yr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Wt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,yo="__reactContainer$"+fo,mo="__reactEvents$"+fo,go="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var ko=[],Eo=-1;function Co(e){return{current:e}}function Oo(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function Po(e,t){Eo++,ko[Eo]=e.current,e.current=t}var jo={},_o=Co(jo),To=Co(!1),Ao=jo;function Do(e,t){var n=e.type.contextTypes;if(!n)return jo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!=e.childContextTypes}function No(){Oo(To),Oo(_o)}function Io(e,t,n){if(_o.current!==jo)throw Error(i(168));Po(_o,t),Po(To,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,U(e)||"Unknown",o));return R({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jo,Ao=_o.current,Po(_o,e),Po(To,To.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,Oo(To),Oo(_o),Po(_o,e)):Oo(To),Po(To,n)}var zo=null,Vo=!1,Bo=!1;function Wo(e){null===zo?zo=[e]:zo.push(e)}function Uo(){if(!Bo&&null!==zo){Bo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Vo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),qe(Je,Uo),t}finally{bt=t,Bo=!1}}return null}var Ho=[],Yo=0,Xo=null,qo=0,$o=[],Go=0,Qo=null,Zo=1,Ko="";function Jo(e,t){Ho[Yo++]=qo,Ho[Yo++]=Xo,Xo=e,qo=t}function ei(e,t,n){$o[Go++]=Zo,$o[Go++]=Ko,$o[Go++]=Qo,Qo=e;var r=Zo;e=Ko;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Ko=i+e}else Zo=1<<i|n<<o|r,Ko=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Xo;)Xo=Ho[--Yo],Ho[Yo]=null,qo=Ho[--Yo],Ho[Yo]=null;for(;e===Qo;)Qo=$o[--Go],$o[Go]=null,Ko=$o[--Go],$o[Go]=null,Zo=$o[--Go],$o[Go]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Zo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw di(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function di(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function yi(e){null===ai?ai=[e]:ai.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===D&&bi(i)===t.type)?((r=o(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case D:return p(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case D:return d(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:f(e,t,n,r,null);vi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case D:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return f(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function y(o,i,s,l){for(var c=null,u=null,f=i,y=i=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var g=d(o,f,s[y],l);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),i=a(g,i,y),null===u?c=g:u.sibling=g,u=g,f=m}if(y===s.length)return n(o,f),ii&&Jo(o,y),c;if(null===f){for(;y<s.length;y++)null!==(f=p(o,s[y],l))&&(i=a(f,i,y),null===u?c=f:u.sibling=f,u=f);return ii&&Jo(o,y),c}for(f=r(o,f);y<s.length;y++)null!==(m=h(f,o,y,s[y],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),i=a(m,i,y),null===u?c=m:u.sibling=m,u=m);return e&&f.forEach(function(e){return t(o,e)}),ii&&Jo(o,y),c}function m(o,s,l,c){var u=I(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var f=u=null,y=s,m=s=0,g=null,v=l.next();null!==y&&!v.done;m++,v=l.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=d(o,y,v.value,c);if(null===b){null===y&&(y=g);break}e&&y&&null===b.alternate&&t(o,y),s=a(b,s,m),null===f?u=b:f.sibling=b,f=b,y=g}if(v.done)return n(o,y),ii&&Jo(o,m),u;if(null===y){for(;!v.done;m++,v=l.next())null!==(v=p(o,v.value,c))&&(s=a(v,s,m),null===f?u=v:f.sibling=v,f=v);return ii&&Jo(o,m),u}for(y=r(o,y);!v.done;m++,v=l.next())null!==(v=h(y,o,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),s=a(v,s,m),null===f?u=v:f.sibling=v,f=v);return e&&y.forEach(function(e){return t(o,e)}),ii&&Jo(o,m),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&bi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Ic(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Nc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case D:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return y(r,i,a,l);if(I(a))return m(r,i,a,l);vi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Rc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),ki=Co(null),Ei=null,Ci=null,Oi=null;function Pi(){Oi=Ci=Ei=null}function ji(e){var t=ki.current;Oo(ki),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Ei=e,Oi=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ei)throw Error(i(308));Ci=e,Ei.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Di=null;function Mi(e){null===Di?Di=[e]:Di.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&jl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ii(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ii(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Wi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var f=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,d=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,d=n,y.tag){case 1:if("function"==typeof(h=y.payload)){f=h.call(d,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=y.payload)?h.call(d,f,p):h))break e;f=R({},f,p);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=d,l=f):u=u.next=d,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=f}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Yi={},Xi=Co(Yi),qi=Co(Yi),$i=Co(Yi);function Gi(e){if(e===Yi)throw Error(i(174));return e}function Qi(e,t){switch(Po($i,t),Po(qi,e),Po(Xi,Yi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oo(Xi),Po(Xi,t)}function Zi(){Oo(Xi),Oo(qi),Oo($i)}function Ki(e){Gi($i.current);var t=Gi(Xi.current),n=le(t,e.type);t!==n&&(Po(qi,e),Po(Xi,n))}function Ji(e){qi.current===e&&(Oo(Xi),Oo(qi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,fa=!1,pa=0,da=0;function ha(){throw Error(i(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Ja:es,e=n(r,o),fa){a=0;do{if(fa=!1,pa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(fa)}if(oa.current=Ka,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ga(){var e=0!==pa;return pa=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"==typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var f=u.lane;if((aa&f)===f)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,sa.lanes|=f,Ll|=f}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,La(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Oa.bind(null,n,r,o,t),void 0,null),null===_l)throw Error(i(349));30&aa||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&_a(e)}function Pa(e,t,n){return n(function(){ja(t)&&_a(e)})}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function _a(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ma(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ya(r,a.deps))return void(o.memoizedState=Aa(t,n,i,r))}sa.flags|=e,o.memoizedState=Aa(1|t,n,i,r)}function Ia(e,t){return Ma(8390656,8,e,t)}function La(e,t){return Na(2048,8,e,t)}function Ra(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!=n?n.concat([e]):null,Na(4,4,za.bind(null,t,e),n)}function Ba(){}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 21&aa?(sr(n,t)||(n=yt(),sa.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Xa(){return ba().memoizedState}function qa(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Qa(t,n):null!==(n=Ni(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function $a(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Qa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Mi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Za(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){fa=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ka={readContext:Ai,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Ja={readContext:Ai,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ta,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Ya.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_l)throw Error(i(349));30&aa||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ia(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=_l.identifierPrefix;if(ii){var n=Ko;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Wa,useContext:Ai,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ra,useLayoutEffect:Fa,useMemo:Ua,useReducer:wa,useRef:Da,useState:function(){return wa(xa)},useDebugValue:Ba,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Xa,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Wa,useContext:Ai,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ra,useLayoutEffect:Fa,useMemo:Ua,useReducer:Sa,useRef:Da,useState:function(){return Sa(xa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Sa(xa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Xa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=jo,i=t.contextType;return"object"==typeof i&&null!==i?i=Ai(i):(o=Mo(t)?Ao:_o.current,i=(r=null!=(r=t.contextTypes))?Do(e,o):jo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ri(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ai(i):(i=Mo(t)?Ao:_o.current,o.context=Do(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Ui(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Yl=r),fs(0,t)},n}function hs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return Ti(t,o),r=ma(e,t,n,r,i,o),n=ga(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);131072&e.flags&&(bs=!0)}}return Os(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Po(Ml,Dl),Dl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(Ml,Dl),Dl|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Po(Ml,Dl),Dl|=r;return xs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,o){var i=Mo(n)?Ao:_o.current;return i=Do(t,i),Ti(t,o),n=ma(e,t,n,r,i,o),r=ga(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ps(e,t,n,r,o){if(Mo(n)){var i=!0;Ro(t)}else i=!1;if(Ti(t,o),null===t.stateNode)Us(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Ai(c):Do(t,c=Mo(n)?Ao:_o.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Li=!1;var p=t.memoizedState;a.state=p,Ui(t,r,a,o),l=t.memoizedState,s!==r||p!==l||To.current||Li?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Li||is(t,n,s,r,p,l,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,f=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ai(l):Do(t,l=Mo(n)?Ao:_o.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||p!==l)&&ss(t,a,r,l),Li=!1,p=t.memoizedState,a.state=p,Ui(t,r,a,o);var h=t.memoizedState;s!==f||p!==h||To.current||Li?("function"==typeof d&&(rs(t,n,d,r),h=t.memoizedState),(c=Li||is(t,n,c,r,p,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,i,o)}function js(e,t,n,r,o,i){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Hs(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Qi(e,t.containerInfo)}function Ts(e,t,n,r,o){return hi(),yi(o),t.flags|=256,xs(e,t,n,r),t.child}var As,Ds,Ms,Ns,Is={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Po(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Lc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Ic(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Is,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Ic(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&wi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Is,a);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=_l)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ii(e,o),nc(r,e,o,-1))}return yc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&($o[Go++]=Zo,$o[Go++]=Ko,$o[Go++]=Qo,Zo=e.id,Ko=e.overflow,Qo=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Mc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=Mc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&yi(r),wi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Bs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ws(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Po(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Us(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Mo(t.type)&&No(),Xs(t),null;case 3:return r=t.stateNode,Zi(),Oo(To),Oo(_o),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ds(e,t),Xs(t),null;case 5:Ji(t);var o=Gi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Xs(t),null}if(e=Gi(Xi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":oe(r,a),zr("invalid",r)}for(var l in ve(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":X(r),J(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Q(e,r),o=G(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=R({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(a in ve(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"==typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi($i.current),Gi(Xi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Kr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Xs(t),null;case 13:if(Oo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))di(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Nl&&(Nl=3):yc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Zi(),Ds(e,t),null===e&&Wr(t.stateNode.containerInfo),Xs(t),null;case 10:return ji(t.type._context),Xs(t),null;case 19:if(Oo(ea),null===(a=t.memoizedState))return Xs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Ys(a,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ys(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Po(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Wl&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Xs(t),null}else 2*Ze()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Po(ea,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Dl)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Oo(To),Oo(_o),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Oo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oo(ea),null;case 4:return Zi(),null;case 10:return ji(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gi(Xi.current);var i,a=null;switch(n){case"input":o=G(e,o),r=G(e,r),a=[];break;case"select":o=R({},o,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Qs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Ks=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[mo],delete t[go],delete t[vo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=ul,o=fl;ul=null,pl(e,t,n),fl=o,null!==(ul=r)&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Wt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=fl,ul=n.stateNode.containerInfo,fl=!0,pl(e,t,n),ul=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Qs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pl(e,t,n),Qs=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,fl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));dl(a,s,o),ul=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:yl(t,e),gl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(yl(t,e),gl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];"style"===f?me(o,p):"dangerouslySetInnerHTML"===f?fe(o,p):"children"===f?pe(o,p):b(o,f,p,u)}switch(l){case"input":K(o,a);break;case"textarea":ie(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(yl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(yl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:yl(t,e),gl(e);break;case 13:yl(t,e),gl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Ze())),4&r&&hl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||f,yl(t,e),Qs=u):yl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!f&&1&e.mode)for(Ks=e,f=e.child;null!==f;){for(p=Ks=f;null!==Ks;){switch(h=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Js(d,d.return);var y=d.stateNode;if("function"==typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wl(p);continue}}null!==h?(h.return=d,Ks=h):wl(p)}f=f.sibling}e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{o=p.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ye("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ks=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Ks;){var o=Ks,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Gs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Gs;var c=Qs;if(Gs=a,(Qs=l)&&!c)for(Ks=o;null!==Ks;)l=(a=Ks).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Ks=l):Sl(o);for(;null!==i;)Ks=i,bl(i,t,n),i=i.sibling;Ks=o,Gs=s,Qs=c}xl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Ks=i):xl(e)}}function xl(e){for(;null!==Ks;){var t=Ks;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var f=u.memoizedState;if(null!==f){var p=f.dehydrated;null!==p&&Wt(p)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function wl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function Sl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var kl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Ol=x.ReactCurrentOwner,Pl=x.ReactCurrentBatchConfig,jl=0,_l=null,Tl=null,Al=0,Dl=0,Ml=Co(0),Nl=0,Il=null,Ll=0,Rl=0,Fl=0,zl=null,Vl=null,Bl=0,Wl=1/0,Ul=null,Hl=!1,Yl=null,Xl=null,ql=!1,$l=null,Gl=0,Ql=0,Zl=null,Kl=-1,Jl=0;function ec(){return 6&jl?Ze():-1!==Kl?Kl:Kl=Ze()}function tc(e){return 1&e.mode?2&jl&&0!==Al?Al&-Al:null!==mi.transition?(0===Jl&&(Jl=yt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(i(185));gt(e,n,r),2&jl&&e===_l||(e===_l&&(!(2&jl)&&(Rl|=n),4===Nl&&sc(e,Al)),rc(e,r),1===n&&0===jl&&!(1&t.mode)&&(Wl=Ze()+500,Vo&&Uo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===_l?Al:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Vo=!0,Wo(e)}(lc.bind(null,e)):Wo(lc.bind(null,e)),ao(function(){!(6&jl)&&Uo()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Kl=-1,Jl=0,6&jl)throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pt(e,e===_l?Al:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var o=jl;jl|=2;var a=hc();for(_l===e&&Al===t||(Ul=null,Wl=Ze()+500,pc(e,t));;)try{vc();break}catch(t){dc(e,t)}Pi(),Cl.current=a,jl=o,null!==Tl?t=0:(_l=null,Al=0,t=Nl)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=ic(e,o)),1===t)throw n=Il,pc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=mc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Il,pc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Vl,Ul);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Vl,Ul),t);break}wc(e,Vl,Ul);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Vl,Ul),r);break}wc(e,Vl,Ul);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function sc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&jl)throw Error(i(327));Sc();var t=pt(e,0);if(!(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Il,pc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Ul),rc(e,Ze()),null}function cc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Wl=Ze()+500,Vo&&Uo())}}function uc(e){null!==$l&&0===$l.tag&&!(6&jl)&&Sc();var t=jl;jl|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,!(6&(jl=t))&&Uo()}}function fc(){Dl=Ml.current,Oo(Ml)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:Zi(),Oo(To),Oo(_o),ra();break;case 5:Ji(r);break;case 4:Zi();break;case 13:case 19:Oo(ea);break;case 10:ji(r.type._context);break;case 22:case 23:fc()}n=n.return}if(_l=e,Tl=e=Mc(e.current,null),Al=Dl=t,Nl=0,Il=null,Fl=Rl=Ll=0,Vl=zl=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Di=null}return e}function dc(e,t){for(;;){var n=Tl;try{if(Pi(),oa.current=Ka,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,fa=!1,pa=0,Ol.current=null,null===n||null===n.return){Nl=1,Il=t,Tl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,f=l,p=f.tag;if(!(1&f.mode||0!==p&&11!==p&&15!==p)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&ys(a,u,t),c=u;var y=(t=h).updateQueue;if(null===y){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}if(!(1&t)){ys(a,u,t),yc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var g=ms(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),yi(cs(c,l));break e}}a=c=cs(c,l),4!==Nl&&(Nl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wi(a,ds(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Xl&&Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wi(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(e){t=e,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=Ka,null===e?Ka:e}function yc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===_l||!(268435455&Ll)&&!(268435455&Rl)||sc(_l,Al)}function mc(e,t){var n=jl;jl|=2;var r=hc();for(_l===e&&Al===t||(Ul=null,pc(e,t));;)try{gc();break}catch(t){dc(e,t)}if(Pi(),jl=n,Cl.current=r,null!==Tl)throw Error(i(261));return _l=null,Al=0,Nl}function gc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Ge();)bc(Tl)}function bc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Ol.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=$s(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Nl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qs(n,t,Dl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Nl&&(Nl=5)}function wc(e,t,n){var r=bt,o=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==$l);if(6&jl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===_l&&(Tl=_l=null,Al=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,_c(tt,function(){return Sc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=jl;jl|=4,Ol.current=null,function(e,t){if(eo=Ht,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++u===o&&(l=s),d===a&&++f===r&&(c=s),null!==(h=p.nextSibling))break;d=(p=d).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var y=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}y=tl,tl=!1}(e,n),ml(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,vl(n,e,o),Qe(),jl=l,bt=s,Pl.transition=a}else e.current=n;if(ql&&(ql=!1,$l=e,Gl=o),0===(a=e.pendingLanes)&&(Xl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Yl,Yl=null,e;!!(1&Gl)&&0!==e.tag&&Sc(),1&(a=e.pendingLanes)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Uo()}(e,t,n,r)}finally{Pl.transition=o,bt=r}return null}function Sc(){if(null!==$l){var e=xt(Gl),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Gl=0,6&jl)throw Error(i(331));var o=jl;for(jl|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(16&Ks.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ks=u;null!==Ks;){var f=Ks;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var p=f.child;if(null!==p)p.return=f,Ks=p;else for(;null!==Ks;){var d=(f=Ks).sibling,h=f.return;if(il(f),f===u){Ks=null;break}if(null!==d){d.return=h,Ks=d;break}Ks=h}}}var y=a.alternate;if(null!==y){var m=y.child;if(null!==m){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ks=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(2048&(a=Ks).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Ks=v;break e}Ks=a.return}}var b=e.current;for(Ks=b;null!==Ks;){var x=(s=Ks).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Ks=x;else e:for(s=b;null!==Ks;){if(2048&(l=Ks).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Ks=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ks=w;break e}Ks=l.return}}if(jl=o,Uo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=ds(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Vi(t,e=hs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>Ze()-Bl?pc(e,0):Fl|=n),rc(e,t)}function Oc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ii(e,t))&&(gt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Oc(e,n)}function _c(e,t){return qe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Dc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Ic(n.children,o,a,t);case E:s=8,o|=8;break;case C:return(e=Ac(12,n,t,2|o)).elementType=C,e.lanes=a,e;case _:return(e=Ac(13,n,t,o)).elementType=_,e.lanes=a,e;case T:return(e=Ac(19,n,t,o)).elementType=T,e.lanes=a,e;case M:return Lc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case P:s=9;break e;case j:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Bc(e){if(!e)return jo;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Lo(e,n,t)}return t}function Wc(e,t,n,r,o,i,a,s,l){return(e=Vc(n,r,!0,e,0,i,0,s,l)).context=Bc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=null!=t?t:null,Vi(n,i,o),e.current.lanes=o,gt(e,o,r),rc(e,r),e}function Uc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,a))&&(nc(e,o,a,i),Bi(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)bs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),hi();break;case 5:Ki(t);break;case 1:Mo(t.type)&&Ro(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Po(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Po(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Po(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Po(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Po(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,ii&&1048576&t.flags&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var o=Do(t,_o.current);Ti(t,n),o=ma(null,t,r,e,o,n);var a=ga();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Ro(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===j)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(_s(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Fi(e,t),Ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ts(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Ki(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Rs(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Po(ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!To.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var f=(u=u.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_i(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_i(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ti(t,n),r=r(o=Ai(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Us(e,t),t.tag=1,Mo(r)?(e=!0,Ro(t)):e=!1,Ti(t,n),as(t,r,o),ls(t,r,o,n),js(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var qc="function"==typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Jc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Uc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=a,e[yo]=a.current,Wr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[yo]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){Uc(t,l,n,r)}),l}(n,t,e,o,r);return Hc(a)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Uc(null,e,null,null)}),t[yo]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),!(6&jl)&&(Wl=Ze()+500,Uo()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Xc(e,1)}},St=function(e){if(13===e.tag){var t=Ii(e,134217728);null!==t&&nc(t,e,134217728,ec()),Xc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);null!==n&&nc(n,e,t,ec()),Xc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));q(r),K(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,_e=uc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,So,Oe,Pe,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=qc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[yo]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=qc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,o,0,a,s),e[yo]=t.current,Wr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},601:e=>{"use strict";e.exports=function(e){return e[1]}},626:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* TradingView-style App Layout */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif;\n    background-color: #131722;\n    color: #d1d4dc;\n    overflow: hidden;\n}\n\n.app-container {\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    height: 100vh;\n    background: #131722;\n}\n\n.chart-container {\n    flex: 1;\n    position: relative;\n    background: #131722;\n    overflow: hidden;\n    margin-left: 10px; /* Account for drawing toolbar */\n    margin-top: 44px; /* Account for header toolbar */\n}\n\n/* Override default center styling */\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: calc(100vh - 44px);\n    font-size: 18px;\n    color: #d1d4dc;\n    margin-left: 10px; /* Account for drawing toolbar */\n    margin-top: 44px; /* Account for header toolbar */\n}",""]);const s=a},649:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".chart-type-panel {\n  position: fixed;\n  top: 60px;\n  left: 100px;\n  width: 280px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.chart-type-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.chart-type-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.chart-types-list {\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.chart-type-item {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.2s;\n  border: 1px solid transparent;\n}\n\n.chart-type-item:hover {\n  background: #363a45;\n}\n\n.chart-type-item.selected {\n  background: rgba(41, 98, 255, 0.1);\n  border-color: #2962ff;\n  color: #ffffff;\n}\n\n.chart-type-item.selected:hover {\n  background: rgba(41, 98, 255, 0.2);\n}\n\n.chart-type-icon {\n  width: 32px;\n  height: 32px;\n  margin-right: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #787b86;\n  transition: color 0.2s;\n}\n\n.chart-type-item.selected .chart-type-icon {\n  color: #2962ff;\n}\n\n.chart-type-info {\n  flex: 1;\n}\n\n.chart-type-label {\n  font-weight: 500;\n  font-size: 14px;\n  margin-bottom: 2px;\n}\n\n.chart-type-description {\n  font-size: 12px;\n  color: #787b86;\n  line-height: 1.3;\n}\n\n.chart-type-item.selected .chart-type-description {\n  color: #b3c6ff;\n}\n\n.chart-type-selected {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #2962ff;\n  font-size: 14px;\n  font-weight: 600;\n}",""]);const s=a},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},691:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".settings-panel {\n  position: fixed;\n  top: 60px;\n  right: 20px;\n  width: 380px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.settings-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.settings-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.settings-content {\n  padding: 20px;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.setting-group {\n  margin-bottom: 24px;\n  padding-bottom: 20px;\n  border-bottom: 1px solid #363a45;\n}\n\n.setting-group:last-child {\n  border-bottom: none;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n\n.setting-label {\n  display: block;\n  font-size: 14px;\n  font-weight: 600;\n  color: #d1d4dc;\n  margin-bottom: 4px;\n}\n\n.setting-description {\n  font-size: 12px;\n  color: #787b86;\n  margin-bottom: 12px;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #787b86;\n  font-size: 18px;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: #363a45;\n  color: #d1d4dc;\n}\n\n/* Zoom Controls */\n.zoom-control {\n  margin-top: 12px;\n}\n\n.zoom-slider-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.zoom-slider {\n  flex: 1;\n  height: 4px;\n  background: #363a45;\n  outline: none;\n  transition: opacity 0.2s;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.zoom-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #2962ff;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.zoom-slider::-webkit-slider-thumb:hover {\n  transform: scale(1.2);\n}\n\n.zoom-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #2962ff;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.zoom-value {\n  min-width: 45px;\n  text-align: right;\n  font-weight: 600;\n  color: #2962ff;\n}\n\n.zoom-presets {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n\n.preset-button {\n  flex: 1;\n  padding: 8px 4px;\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  border-radius: 4px;\n  color: #787b86;\n  font-size: 11px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n}\n\n.preset-button:hover {\n  background: #363a45;\n  color: #d1d4dc;\n}\n\n.preset-button.active {\n  background: rgba(41, 98, 255, 0.1);\n  border-color: #2962ff;\n  color: #2962ff;\n}\n\n.preset-value {\n  font-size: 10px;\n  opacity: 0.8;\n  font-weight: 600;\n}\n\n.setting-info {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 12px;\n  background: #131722;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.info-label {\n  color: #787b86;\n}\n\n.info-value {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-family: 'SF Mono', Monaco, monospace;\n}\n\n/* Timezone Controls */\n.timezone-control {\n  margin-top: 12px;\n}\n\n.timezone-select {\n  width: 100%;\n  padding: 8px 12px;\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  border-radius: 4px;\n  color: #d1d4dc;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.timezone-select:hover {\n  border-color: #2962ff;\n}\n\n.timezone-select:focus {\n  outline: none;\n  border-color: #2962ff;\n  box-shadow: 0 0 0 2px rgba(41, 98, 255, 0.1);\n}\n\n.timezone-info {\n  margin-top: 12px;\n  padding: 12px;\n  background: #131722;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.timezone-info .info-item {\n  margin-bottom: 6px;\n}\n\n.timezone-info .info-item:last-child {\n  margin-bottom: 0;\n}\n\n/* Scrollbar styling */\n.settings-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.settings-content::-webkit-scrollbar-track {\n  background: #131722;\n  border-radius: 3px;\n}\n\n.settings-content::-webkit-scrollbar-thumb {\n  background: #363a45;\n  border-radius: 3px;\n}\n\n.settings-content::-webkit-scrollbar-thumb:hover {\n  background: #4e525e;\n}\n\n/* Data Management */\n.data-management {\n  margin-top: 12px;\n}\n\n.current-symbol-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  padding: 8px 12px;\n  background: #131722;\n  border-radius: 4px;\n}\n\n.symbol-highlight {\n  background: rgba(41, 98, 255, 0.1);\n  color: #2962ff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-weight: bold;\n  font-family: 'SF Mono', Monaco, monospace;\n}\n\n.refresh-data-button {\n  width: 100%;\n  padding: 12px 16px;\n  background: #2196f3;\n  border: none;\n  border-radius: 6px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.refresh-data-button:hover {\n  background: #1976d2;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);\n}\n\n.refresh-data-button:active {\n  transform: translateY(0);\n  box-shadow: 0 2px 6px rgba(33, 150, 243, 0.2);\n}\n\n.data-management-info {\n  padding: 12px;\n  background: #131722;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.data-management-info .info-item {\n  margin-bottom: 8px;\n  align-items: flex-start;\n}\n\n.data-management-info .info-item:last-child {\n  margin-bottom: 0;\n}\n\n.data-management-info .info-label {\n  min-width: 80px;\n  color: #787b86;\n}\n\n.data-management-info .info-value {\n  color: #d1d4dc;\n  text-align: right;\n  flex: 1;\n}",""]);const s=a},716:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".replay-controls-overlay {\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10000;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\n  padding: 16px;\n  min-width: 400px;\n}\n\n.replay-controls {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.replay-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #363a45;\n}\n\n.replay-title {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.replay-exit {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.replay-exit:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.replay-date-picker {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n  border-bottom: 1px solid #363a45;\n  margin-bottom: 8px;\n}\n\n.replay-date-picker label {\n  color: #787b86;\n  font-size: 12px;\n  white-space: nowrap;\n}\n\n.date-input {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.date-input:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.date-input:focus {\n  outline: none;\n  border-color: #2962ff;\n}\n\n.current-datetime {\n  color: #2962ff;\n  font-size: 12px;\n  font-weight: 600;\n  margin-left: auto;\n}\n\n.end-datetime {\n  color: #ff9800;\n  font-size: 12px;\n  font-weight: 600;\n  margin-left: auto;\n}\n\n.clear-end-date-btn {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 14px;\n  padding: 4px;\n  margin-left: 8px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.clear-end-date-btn:hover {\n  background: #363a45;\n  color: #ff9800;\n}\n\n.replay-progress {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  color: #787b86;\n  font-size: 12px;\n}\n\n.progress-bar {\n  position: relative;\n  height: 24px;\n  background: #2a2e39;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  background: linear-gradient(90deg, #2962ff, #1e88e5);\n  transition: width 0.2s ease;\n  pointer-events: none;\n}\n\n.progress-slider {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  opacity: 0;\n  cursor: pointer;\n}\n\n.replay-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n}\n\n.replay-btn {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n}\n\n.replay-btn:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.replay-btn.play-pause {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: white;\n  padding: 8px 20px;\n}\n\n.replay-btn.play-pause:hover {\n  background: #1e88e5;\n  border-color: #1e88e5;\n}\n\n.replay-speed {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  justify-content: center;\n}\n\n.replay-speed label {\n  color: #787b86;\n  font-size: 12px;\n}\n\n.speed-selector {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.speed-selector:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.speed-selector:focus {\n  outline: none;\n  border-color: #2962ff;\n}",""]);const s=a},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{"use strict";e.exports=n(20)},931:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".chart-indicators-panel {\n  position: absolute;\n  top: 60px;\n  left: 60px; /* Move further right to avoid cutoff */\n  background: rgba(30, 34, 45, 0.95); /* Use dark theme by default */\n  border: 1px solid #2a2e39;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);\n  min-width: 180px;\n  max-width: 220px;\n  z-index: 1000; /* Higher z-index to stay on top */\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  font-size: 12px;\n}\n\n.indicators-header {\n  padding: 8px 12px;\n  border-bottom: 1px solid #2a2e39;\n  background: #131722;\n  border-radius: 4px 4px 0 0;\n}\n\n.indicators-title {\n  font-weight: 600;\n  color: #d1d4dc;\n  font-size: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.indicators-list {\n  padding: 4px 0;\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.indicator-row {\n  display: flex;\n  align-items: center;\n  padding: 6px 12px;\n  transition: background-color 0.2s;\n  cursor: default;\n}\n\n.indicator-row:hover {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n\n.indicator-toggle {\n  background: none;\n  border: none;\n  padding: 2px;\n  margin-right: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 1;\n  opacity: 0.9;\n  transition: opacity 0.2s;\n  border-radius: 2px;\n}\n\n.indicator-toggle:hover {\n  opacity: 1;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.indicator-label {\n  flex: 1;\n  color: #d1d4dc;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 11px;\n}\n\n.indicator-label.disabled {\n  color: #5d606b;\n  text-decoration: line-through;\n  opacity: 0.6;\n}\n\n.indicator-controls {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.indicator-color-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n.indicator-settings {\n  background: none;\n  border: none;\n  padding: 2px;\n  cursor: pointer;\n  font-size: 12px;\n  opacity: 0.7;\n  transition: opacity 0.2s;\n  border-radius: 2px;\n}\n\n.indicator-settings:hover {\n  opacity: 1;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n/* Dark theme support */\n@media (prefers-color-scheme: dark) {\n  .chart-indicators-panel {\n    background: rgba(30, 34, 45, 0.95);\n    border-color: #2a2e39;\n  }\n  \n  .indicators-header {\n    background: #131722;\n    border-bottom-color: #2a2e39;\n  }\n  \n  .indicators-title {\n    color: #d1d4dc;\n  }\n  \n  .indicator-row:hover {\n    background-color: rgba(255, 255, 255, 0.05);\n  }\n  \n  .indicator-label {\n    color: #d1d4dc;\n  }\n  \n  .indicator-label.disabled {\n    color: #5d606b;\n  }\n}\n\n/* Scrollbar styling */\n.indicators-list::-webkit-scrollbar {\n  width: 6px;\n}\n\n.indicators-list::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.indicators-list::-webkit-scrollbar-thumb {\n  background: #c0c0c0;\n  border-radius: 3px;\n}\n\n.indicators-list::-webkit-scrollbar-thumb:hover {\n  background: #a0a0a0;\n}",""]);const s=a},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},982:(e,t,n)=>{"use strict";e.exports=n(463)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Rx,hasStandardBrowserEnv:()=>zx,hasStandardBrowserWebWorkerEnv:()=>Vx,navigator:()=>Fx,origin:()=>Bx});var t=n(540),r=n(338);function o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var i,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t;return new l({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function l(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function c(e,t){var n=o(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}s.prototype=l.prototype,l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const u={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c(100*e,t),r:c,s:function(e,t){var n=o(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+o(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function f(e){return e}var p,d,h=Array.prototype.map,y=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];p=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?f:(t=h.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?f:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(h.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=s(e)).fill,n=e.align,o=e.sign,f=e.symbol,h=e.zero,v=e.width,b=e.comma,x=e.precision,w=e.trim,S=e.type;"n"===S?(b=!0,S="g"):u[S]||(void 0===x&&(x=12),w=!0,S="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var k="$"===f?a:"#"===f&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E="$"===f?l:/[%p]/.test(S)?d:"",C=u[S],O=/[defgprs%]/.test(S);function P(e){var a,s,l,u=k,f=E;if("c"===S)f=C(e)+f,e="";else{var d=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:C(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),d&&0===+e&&"+"!==o&&(d=!1),u=(d?"("===o?o:m:"-"===o||"("===o?"":o)+u,f=("s"===S?y[8+i/3]:"")+f+(d&&"("===o?")":""),O)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){f=(46===l?c+e.slice(a+1):e.slice(a))+f,e=e.slice(0,a);break}}b&&!h&&(e=r(e,1/0));var P=u.length+e.length+f.length,j=P<v?new Array(v-P+1).join(t):"";switch(b&&h&&(e=r(j+e,j.length?v-f.length:1/0),j=""),n){case"<":e=u+e+f+j;break;case"=":e=u+j+e+f;break;case"^":e=j.slice(0,P=j.length>>1)+u+e+f+j.slice(P);break;default:e=j+u+e+f}return p(e)}return x=void 0===x?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),P.toString=function(){return e+""},P}return{format:v,formatPrefix:function(e,t){var n,r=v(((e=s(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=o(Math.abs(n)))?n[1]:NaN)/3)))),a=Math.pow(10,-i),l=y[8+i/3];return function(e){return r(a*e)+l}}}}({thousands:",",grouping:[3],currency:["$",""]}),d=p.format,p.formatPrefix;var m=n(848);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}var v=function(e){return(e>0)-(e<0)},b=function(e){return"function"==typeof e?e:function(){return e}};function x(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}var w="mouseenter.interaction",S="mouseleave.interaction",k="mousemove.pan",E="mouseup.pan",C="touchmove.pan",O="touchend.pan touchcancel.pan";function P(e){return{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}}function j(e,t){if(!t||!e)return e?e[0]:void 0;for(var n,r=0;r<e.length;r++)if(n=e[r],A(t(n)))return n}var _=j;function T(e,t){if(!t||!e){var n=e?e.length:0;return n?e[n-1]:void 0}for(var r,o=e.length-1;o>=0;o--)if(r=e[o],A(t(r)))return r}var A=function(e){return null!=e};function D(e){return!A(e)}function M(e,t){var n=t.currentTarget,r=n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,i=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function N(e,t){var n=e.currentTarget,r=null!=t?t:n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,i=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function I(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=Object.keys(e),r=new Array(n.length);return n.forEach(function(n,o){r[o]=t(e[n],n,e)}),r}var R=function(){};function F(e,t,n,r){if(A(e)&&e.index===t){var o=e[n];if(A(o))return o}return r}function z(){this.setState({current:null,override:null})}function V(e){var t=this;return function(n){A(t.nodes)?D(n)&&A(t.nodes[e])?delete t.nodes[e]:t.nodes[e]=n:t.nodes=[]}}function B(e){return function(t){if(A(this.nodes)){var n=this.nodes.map(function(e){return e.isHover(t)});return this.props[e].map(function(e,t){return Object.assign(Object.assign({},e),{selected:n[t]})})}}}function W(e){return L(this.nodes,function(t){return t.isHover(e)}).reduce(function(e,t){return e||t})}var U=function(e){var t=H(e).split(",");return 1===t.length?[]:t.map(function(e){return Number(e)})},H=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},Y=function(e){return e};function X(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function q(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function $(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}var G=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n=Object.keys(e),r=n.length,o=0;o<r;o++)if(!(n[o]in t))return!1;for(var i=0;i<r;i++)if(e[n[i]]!==t[n[i]])return!1;return r===Object.keys(t).length},Q=Math.sqrt(50),Z=Math.sqrt(10),K=Math.sqrt(2);function J(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Q?10:i>=Z?5:i>=K?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Q?10:i>=Z?5:i>=K?2:1)}function ee(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function te(e){let t=e,n=e;function r(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>ee(e(t),n)}(e)),{left:r,center:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);const a=r(e,n,o,i-1);return a>o&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}}}const ne=te(ee),re=ne.right,oe=(ne.left,te(function(e){return null===e?NaN:+e}).center,re);function ie(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ae(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function se(){}var le=.7,ce=1/le,ue="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",de=/^#([0-9a-f]{3,8})$/,he=new RegExp("^rgb\\("+[ue,ue,ue]+"\\)$"),ye=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),me=new RegExp("^rgba\\("+[ue,ue,ue,fe]+"\\)$"),ge=new RegExp("^rgba\\("+[pe,pe,pe,fe]+"\\)$"),ve=new RegExp("^hsl\\("+[fe,pe,pe]+"\\)$"),be=new RegExp("^hsla\\("+[fe,pe,pe,fe]+"\\)$"),xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function we(){return this.rgb().formatHex()}function Se(){return this.rgb().formatRgb()}function ke(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=de.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ee(t):3===n?new Pe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ce(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ce(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=he.exec(e))?new Pe(t[1],t[2],t[3],1):(t=ye.exec(e))?new Pe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=me.exec(e))?Ce(t[1],t[2],t[3],t[4]):(t=ge.exec(e))?Ce(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ve.exec(e))?Ae(t[1],t[2]/100,t[3]/100,1):(t=be.exec(e))?Ae(t[1],t[2]/100,t[3]/100,t[4]):xe.hasOwnProperty(e)?Ee(xe[e]):"transparent"===e?new Pe(NaN,NaN,NaN,0):null}function Ee(e){return new Pe(e>>16&255,e>>8&255,255&e,1)}function Ce(e,t,n,r){return r<=0&&(e=t=n=NaN),new Pe(e,t,n,r)}function Oe(e,t,n,r){return 1===arguments.length?((o=e)instanceof se||(o=ke(o)),o?new Pe((o=o.rgb()).r,o.g,o.b,o.opacity):new Pe):new Pe(e,t,n,null==r?1:r);var o}function Pe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function je(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)}function _e(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Te(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ae(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Me(e,t,n,r)}function De(e){if(e instanceof Me)return new Me(e.h,e.s,e.l,e.opacity);if(e instanceof se||(e=ke(e)),!e)return new Me;if(e instanceof Me)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Me(a,s,l,e.opacity)}function Me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ne(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ie(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}ie(se,ke,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:we,formatHex:we,formatHsl:function(){return De(this).formatHsl()},formatRgb:Se,toString:Se}),ie(Pe,Oe,ae(se,{brighter:function(e){return e=null==e?ce:Math.pow(ce,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?le:Math.pow(le,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:je,formatHex:je,formatRgb:_e,toString:_e})),ie(Me,function(e,t,n,r){return 1===arguments.length?De(e):new Me(e,t,n,null==r?1:r)},ae(se,{brighter:function(e){return e=null==e?ce:Math.pow(ce,e),new Me(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?le:Math.pow(le,e),new Me(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Pe(Ne(e>=240?e-240:e+120,o,r),Ne(e,o,r),Ne(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Le=e=>()=>e;function Re(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Le(isNaN(e)?t:e)}const Fe=function e(t){var n=function(e){return 1===(e=+e)?Re:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Le(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Oe(e)).r,(t=Oe(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Re(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function ze(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Oe(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}function Ve(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=$e(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function Be(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function We(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ue(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=$e(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}ze(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return Ie((n-r/t)*t,a,o,i,s)}}),ze(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Ie((n-r/t)*t,o,i,a,s)}});var He=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(He.source,"g");function Xe(e,t){var n,r,o,i=He.lastIndex=Ye.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=He.exec(e))&&(r=Ye.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:We(n,r)})),i=Ye.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function qe(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function $e(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?Le(t):("number"===o?We:"string"===o?(n=ke(t))?(t=n,Fe):Xe:t instanceof ke?Fe:t instanceof Date?Be:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Ve:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ue:We:qe))(e,t)}function Ge(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Qe(e){return+e}var Ze=[0,1];function Ke(e){return e}function Je(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function et(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=Je(o,r),i=n(a,i)):(r=Je(r,o),i=n(i,a)),function(e){return i(r(e))}}function tt(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=Je(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=oe(e,t,1,r)-1;return i[n](o[n](t))}}function nt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var rt,ot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function it(e){if(!(t=ot.exec(e)))throw new Error("invalid format: "+e);var t;return new at({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function at(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function st(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lt(e){return(e=st(Math.abs(e)))?e[1]:NaN}function ct(e,t){var n=st(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}it.prototype=at.prototype,at.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ut={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ct(100*e,t),r:ct,s:function(e,t){var n=st(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(rt=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+st(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ft(e){return e}var pt,dt,ht,yt=Array.prototype.map,mt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gt(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=J(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Q?o*=10:i>=Z?o*=5:i>=K&&(o*=2),t<e?-o:o}(e,t,n);switch((r=it(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lt(t)/3)))-lt(Math.abs(e)))}(i,a))||(r.precision=o),ht(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lt(t)-lt(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-lt(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return dt(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,l=i[a],c=i[s],u=10;for(c<l&&(o=l,l=c,c=o,o=a,a=s,s=o);u-- >0;){if((o=J(l,c,n))===r)return i[a]=l,i[s]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function vt(){var e=function(){var e,t,n,r,o,i,a=Ze,s=Ze,l=$e,c=Ke;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==Ke&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?tt:et,o=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(s,a.map(e),We)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Qe),u()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=Ge,u()},f.clamp=function(e){return arguments.length?(c=!!e||Ke,u()):c!==Ke},f.interpolate=function(e){return arguments.length?(l=e,u()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,u()}}()(Ke,Ke);return e.copy=function(){return t=e,vt().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},nt.apply(e,arguments),gt(e)}pt=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ft:(t=yt.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ft:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(yt.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=it(e)).fill,n=e.align,f=e.sign,p=e.symbol,d=e.zero,h=e.width,y=e.comma,m=e.precision,g=e.trim,v=e.type;"n"===v?(y=!0,v="g"):ut[v]||(void 0===m&&(m=12),g=!0,v="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",w=ut[v],S=/[defgprs%]/.test(v);function k(e){var o,i,l,p=b,k=x;if("c"===v)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),p=(E?"("===f?f:c:"-"===f||"("===f?"":f)+p,k=("s"===v?mt[8+rt/3]:"")+k+(E&&"("===f?")":""),S)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){k=(46===l?a+e.slice(o+1):e.slice(o))+k,e=e.slice(0,o);break}}y&&!d&&(e=r(e,1/0));var C=p.length+e.length+k.length,O=C<h?new Array(h-C+1).join(t):"";switch(y&&d&&(e=r(O+e,O.length?h-k.length:1/0),O=""),n){case"<":e=p+e+k+O;break;case"=":e=p+O+e+k;break;case"^":e=O.slice(0,C=O.length>>1)+p+e+k+O.slice(C);break;default:e=O+p+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=it(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(lt(t)/3))),o=Math.pow(10,-r),i=mt[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),dt=pt.format,ht=pt.formatPrefix;var bt=n(18),xt=n.n(bt);function wt(){var e=Y;function t(){var t,r=arguments.length;if(0===r)return[];for(var o=null!==(t=q(arguments,n))&&void 0!==t?t:0,i=new Array(o),a=-1;++a<o;){for(var s=-1,l=i[a]=new Array(r);++s<r;)l[s]=arguments[s][a];i[a]=e.apply(this,i[a])}return i}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}var St=function(e,t,n){for(var r=0,o=e.length-1;o-r>1;){var i=Math.round((r+o)/2);n(e[i])<=t?r=i:o=i}var a=n(e[r]),s=n(e[o]);return(null==a?void 0:a.valueOf())===(null==t?void 0:t.valueOf())&&(o=r),(null==s?void 0:s.valueOf())===(null==t?void 0:t.valueOf())&&(r=o),a<t&&s<t&&(r=o),a>t&&s>t&&(o=r),{left:r,right:o}},kt=function(e,t,n){var r=St(e,t,n),o=r.left,i=r.right;if(o===i)return e[o];var a=n(e[o]),s=n(e[i]);return Math.abs(a.valueOf()-t.valueOf())<Math.abs(s.valueOf()-t.valueOf())?e[o]:e[i]};function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pt={flipYScale:!1,id:0,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:vt()};function jt(e){if(Array.isArray(e)&&2===e.length){var t=Et(e,2),n=t[0],r=t[1];return"number"==typeof n&&"number"==typeof r}return!1}function _t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.Children.map(n,function(t){if(t&&void 0!==(n=t.props)&&void 0!==n.id){var n,o=Object.assign(Object.assign({},Pt),t.props),i=o.id,a=o.origin,s=o.padding,l=o.yExtents,c=o.yScale,u=void 0===c?Pt.yScale:c,f=o.flipYScale,p=o.yExtentsCalculator,d=u.copy(),h=function(e,t){var n=e.width,r=e.height;return{availableHeight:r,width:n,height:t.height||r}}(e,o),y=h.width,m=h.height,g=h.availableHeight,v=o.yPan,x=o.yPanEnabled,w=l?(Array.isArray(l)?l:[l]).map(b):void 0,S=r.find(function(e){return e.id===i});if(jt(l))if(S&&S.yPan&&S.yPanEnabled&&v&&x&&G(S.originalYExtentsProp,l))d.domain(S.yScale.domain());else{var k=Et(l,2),E=k[0],C=k[1];d.domain([E,C])}else S&&S.yPanEnabled&&(jt(S.originalYExtentsProp)||(d.domain(S.yScale.domain()),x=!0));return{id:i,origin:b(a)(y,g),padding:s,originalYExtentsProp:l,yExtents:w,yExtentsCalculator:p,flipYScale:f,yScale:d,yPan:v,yPanEnabled:x,width:y,height:m}}}).filter(function(e){return void 0!==e})}function Tt(e,t){return e.filter(function(e){var n=e.origin[1],r=n+e.height;return t[1]>n&&t[1]<r}).map(function(e){return e.id})}function At(e,t,n,r,o){var i=t.plotData,a=t.xAccessor,s=t.displayXAccessor,l=t.fullData,c=e.map(function(e){var t=e.yExtentsCalculator,o=e.yExtents,c=e.yScale,u=t?t({plotData:i,xDomain:n,xAccessor:a,displayXAccessor:s,fullData:l}):function(e,t,n){var r,o=e.map(function(e){return n.map((t=e,function(e){var n=t(e);return function(e){return A(e)&&"object"===g(e)&&!Array.isArray(e)}(n)?L(n):n}));var t}),i=xt()(o);return t.invert?X(i):function(e){if(Array.isArray(e))return Ot(e)}(r=new Set(i).values())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Ct(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,c,i);return{realYDomain:u,yDomainDY:void 0!==r?c.range().map(function(e){return e-r}).map(c.invert):c.domain(),prevYDomain:c.domain()}});return wt().combine(function(e,t){var n=t.realYDomain,r=t.yDomainDY,i=t.prevYDomain,a=e.id,s=e.padding,l=e.height,c=e.yScale,u=e.yPan,f=e.flipYScale,p=e.yPanEnabled,d=void 0!==p&&p,h=void 0===o||o.indexOf(a)>-1,y=u&&d?h?r:i:n,m=function(e,t,n,r){if(e.rangeRoundPoints||D(e.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints&&e.rangeRoundPoints(r?[0,t]:[t,0],n),e.rangeRound&&e.range(r?[0,t]:[t,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;e.range(r?[i,t-a]:[t-a,i])}return e}(c.copy().domain(y),l,s,f);return Object.assign(Object.assign({},e),{yScale:m,realYDomain:n})})(e,c)}function Dt(e,t,n,r){var o,i;if(e.invert)o=e.invert(n[0]),i=kt(r,o,t);else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});i=void 0!==a?r[a.idx]:r[0]}return i}function Mt(e,t,n,r){var o,i;if(e.invert){if((o=e.invert(n[0]))>t(T(r)))return Math.round(o.valueOf());i=kt(r,o,t)}else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});i=void 0!==a?r[a.idx]:r[0]}return t(i)}var Nt=function(e){return(0,e.xAccessor)(T(e.plotData))};function It(){}function Lt(e){return null==e?It:function(){return this.querySelector(e)}}function Rt(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ft(){return[]}function zt(e){return function(t){return t.matches(e)}}var Vt=Array.prototype.find;function Bt(){return this.firstElementChild}var Wt=Array.prototype.filter;function Ut(){return this.children}function Ht(e){return new Array(e.length)}function Yt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Xt(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Yt(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function qt(e,t,n,r,o,i,a){var s,l,c,u=new Map,f=t.length,p=i.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<p;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new Yt(e,i[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(d[s])===l&&(o[s]=l)}function $t(e){return e.__data__}function Gt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Yt.prototype={constructor:Yt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Qt="http://www.w3.org/1999/xhtml";const Zt={svg:"http://www.w3.org/2000/svg",xhtml:Qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Zt.hasOwnProperty(t)?{space:Zt[t],local:e}:e}function Jt(e){return function(){this.removeAttribute(e)}}function en(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tn(e,t){return function(){this.setAttribute(e,t)}}function nn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function rn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function on(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function an(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sn(e){return function(){this.style.removeProperty(e)}}function ln(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function un(e){return function(){delete this[e]}}function fn(e,t){return function(){this[e]=t}}function pn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function dn(e){return e.trim().split(/^|\s+/)}function hn(e){return e.classList||new yn(e)}function yn(e){this._node=e,this._names=dn(e.getAttribute("class")||"")}function mn(e,t){for(var n=hn(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function gn(e,t){for(var n=hn(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function vn(e){return function(){mn(this,e)}}function bn(e){return function(){gn(this,e)}}function xn(e,t){return function(){(t.apply(this,arguments)?mn:gn)(this,e)}}function wn(){this.textContent=""}function Sn(e){return function(){this.textContent=e}}function kn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function En(){this.innerHTML=""}function Cn(e){return function(){this.innerHTML=e}}function On(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Pn(){this.nextSibling&&this.parentNode.appendChild(this)}function jn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _n(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qt&&t.documentElement.namespaceURI===Qt?t.createElement(e):t.createElementNS(n,e)}}function Tn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function An(e){var t=Kt(e);return(t.local?Tn:_n)(t)}function Dn(){return null}function Mn(){var e=this.parentNode;e&&e.removeChild(this)}function Nn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function In(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ln(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Rn(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Fn(e,t,n){var r=an(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function zn(e,t){return function(){return Fn(this,e,t)}}function Vn(e,t){return function(){return Fn(this,e,t.apply(this,arguments))}}yn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Bn=[null];function Wn(e,t){this._groups=e,this._parents=t}function Un(e){return"string"==typeof e?new Wn([[document.querySelector(e)]],[document.documentElement]):new Wn([[e]],Bn)}function Hn(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yn(e,t){if(e=Hn(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function Xn(e,t){return e.target&&(e=Hn(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,e=>Yn(e,t))}function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zn(r.key),r)}}function Zn(e){var t=function(e){if("object"!=qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qn(t)?t:t+""}function Kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kn=function(){return!!e})()}function Jn(e){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jn(e)}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},er(e,t)}Wn.prototype=function(){return new Wn([[document.documentElement]],Bn)}.prototype={constructor:Wn,select:function(e){"function"!=typeof e&&(e=Lt(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Wn(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Rt(t)}}(e):function(e){return null==e?Ft:function(){return this.querySelectorAll(e)}}(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Wn(r,o)},selectChild:function(e){return this.select(null==e?Bt:function(e){return function(){return Vt.call(this.children,e)}}("function"==typeof e?e:zt(e)))},selectChildren:function(e){return this.selectAll(null==e?Ut:function(e){return function(){return Wt.call(this.children,e)}}("function"==typeof e?e:zt(e)))},filter:function(e){"function"!=typeof e&&(e=function(e){return function(){return this.matches(e)}}(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Wn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,$t);var n,r=t?qt:Xt,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=o[u],p=i[u],d=p.length,h=Rt(e.call(f,f&&f.__data__,u,o)),y=h.length,m=l[u]=new Array(y),g=s[u]=new Array(y);r(f,p,m,g,c[u]=new Array(d),h,t);for(var v,b,x=0,w=0;x<y;++x)if(v=m[x]){for(x>=w&&(w=x+1);!(b=g[w])&&++w<y;);v._next=b||null}}return(s=new Wn(s,o))._enter=l,s._exit=c,s},enter:function(){return new Wn(this._enter||this._groups.map(Ht),this._parents)},exit:function(){return new Wn(this._exit||this._groups.map(Ht),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){if(!(e instanceof Wn))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(p[d]=l);for(;s<r;++s)a[s]=t[s];return new Wn(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Gt);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Wn(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Kt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?en:Jt:"function"==typeof t?n.local?on:rn:n.local?nn:tn)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?sn:"function"==typeof t?cn:ln)(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||an(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?un:"function"==typeof t?pn:fn)(e,t)):this.node()[e]},classed:function(e,t){var n=dn(e+"");if(arguments.length<2){for(var r=hn(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?xn:t?vn:bn)(n,t))},text:function(e){return arguments.length?this.each(null==e?wn:("function"==typeof e?kn:Sn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?En:("function"==typeof e?On:Cn)(e)):this.node().innerHTML},raise:function(){return this.each(Pn)},lower:function(){return this.each(jn)},append:function(e){var t="function"==typeof e?e:An(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:An(e),r=null==t?Dn:"function"==typeof t?t:Lt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Mn)},clone:function(e){return this.select(e?In:Nn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Rn:Ln,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Vn:zn)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var tr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},nr=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=Jn(t),function(e,t){if(t&&("object"==qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kn()?Reflect.construct(t,n||[],Jn(e).constructor):t.apply(e,n))}(this,n,[e])).dx=0,r.dy=0,r.mouseInside=!1,r.mouseInteraction=!0,r.ref=t.createRef(),r.handleEnter=function(e){var t=r.props.onMouseEnter;void 0!==t&&(r.mouseInside=!0,r.state.panInProgress||r.state.dragInProgress||Un(x(r.ref.current)).on(k,r.handleMouseMove),t(e))},r.handleLeave=function(e){var t=r.props.onMouseLeave;void 0!==t&&(r.mouseInside=!1,r.state.panInProgress||r.state.dragInProgress||Un(x(r.ref.current)).on(k,null),t(e))},r.handleWheel=function(e){var t=r.props,n=t.pan,o=t.onPan,i=t.zoom,a=t.onZoom;if(n||i){var s=r.state.panInProgress,l=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,c=N(e);if(e.preventDefault(),i&&r.focus&&l&&!s){var u=e.deltaY>0?1:-1;void 0!==a&&a(u,c,e)}else if(r.focus){if(r.shouldPan()&&void 0!==r.state.panStart){var f=r.state.panStart,p=f.panStartXScale,d=f.chartsToPan;r.lastNewPos=c,r.panHappened=!0,void 0===r.dx&&(r.dx=0),void 0===r.dy&&(r.dy=0),r.dx-=e.deltaX,r.dy+=e.deltaY;var h={dx:r.dx,dy:r.dy};void 0!==o&&o(c,p,h,d,e)}else{var y=r.props,m=y.xScale,g=Tt(y.chartConfig,c);r.dx=0,r.dy=0,r.setState({panInProgress:!0,panStart:{panStartXScale:m,panOrigin:c,chartsToPan:g}})}r.queuePanEnd(e)}}},r.handleMouseMove=function(e){var t=r.props,n=t.onMouseMove,o=t.mouseMove;void 0!==n&&r.mouseInteraction&&o&&!r.state.panInProgress&&n(Yn(e,r.ref.current),"mouse",e)},r.handleClick=function(e){var t=N(e),n=r.props,o=n.onClick,i=n.onDoubleClick;r.panHappened||r.dragHappened||(r.clicked&&void 0!==i?(i(t,e),r.clicked=!1):void 0!==o&&(o(t,e),r.clicked=!0,setTimeout(function(){r.clicked&&(r.clicked=!1)},400)))},r.handleRightClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props,n=t.onContextMenu,o=t.onPanEnd;if(r.ref.current){var i=N(e,r.ref.current.getBoundingClientRect());if(void 0!==r.state.panStart){var a=r.state.panStart,s=a.panStartXScale,l=$n(a.panOrigin,2),c=l[0],u=l[1],f=a.chartsToPan;r.panHappened&&void 0!==o&&o(i,s,{dx:c,dy:u},f,e),Un(x(r.ref.current)).on(k,null).on(E,null),r.setState({panInProgress:!1,panStart:void 0})}void 0!==n&&n(i,e)}else console.warn("EventCapture: ref not available, skipping event")},r.handleDrag=function(e){var t=r.props.onDrag;if(void 0!==t){r.dragHappened=!0;var n=r.state.dragStartPosition;void 0!==n&&t({startPos:n,mouseXY:Yn(e,r.ref.current)},e)}},r.handleDragEnd=function(e){var t=Yn(e,r.ref.current);if(Un(x(r.ref.current)).on(k,r.mouseInside?r.handleMouseMove:null).on(E,null),r.dragHappened){var n=r.props.onDragComplete;void 0!==n&&n({mouseXY:t},e)}r.setState({dragInProgress:!1}),r.mouseInteraction=!0},r.canPan=function(){var e=r.props.getAllPanConditions,t=r.props.pan,n=e().reduce(function(e,t){return{draggable:e.draggable||t.draggable,panEnabled:e.panEnabled&&t.panEnabled}},{draggable:!1,panEnabled:t});return{panEnabled:n.panEnabled,somethingSelected:n.draggable}},r.handleMouseDown=function(e){if(0===e.button){var t=r.props,n=t.xScale,o=t.chartConfig,i=t.onMouseDown;if(r.panHappened=!1,r.dragHappened=!1,r.focus=!0,!r.state.panInProgress&&r.mouseInteraction){var a=N(e),s=Tt(o,a),l=r.canPan(),c=l.panEnabled,u=l.somethingSelected,f=c&&!u;if(f)r.setState({panInProgress:f,panStart:{panStartXScale:n,panOrigin:a,chartsToPan:s}}),Un(x(r.ref.current)).on(k,r.handlePan).on(E,r.handlePanEnd);else if(u){r.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:a});var p=r.props.onDragStart;void 0!==p&&p({startPos:a},e),Un(x(r.ref.current)).on(k,r.handleDrag).on(E,r.handleDragEnd)}void 0!==i&&i(a,s,e)}e.preventDefault()}},r.shouldPan=function(){var e=r.props,t=e.pan,n=e.onPan;return t&&n&&void 0!==r.state.panStart},r.handlePan=function(e){if(r.shouldPan()&&void 0!==r.state.panStart){r.panHappened=!0;var t,n,o,i=r.state.panStart,a=i.panStartXScale,s=i.panOrigin,l=i.chartsToPan;r.mouseInteraction?(o=Yn(e,r.ref.current),r.lastNewPos=o,t=o[0]-s[0],n=o[1]-s[1]):(o=Xn(e,r.ref.current)[0],r.lastNewPos=o,t=s[0]-o[0],n=s[1]-o[1]),r.dx=t,r.dy=n;var c=r.props.onPan;void 0!==c&&c(o,a,{dx:t,dy:n},l,e)}},r.handlePanEnd=function(e){var t=r.props,n=t.pan,o=t.onPanEnd;if(void 0!==r.state.panStart){var i=r.state.panStart,a=i.panStartXScale,s=i.chartsToPan;if(Un(x(r.ref.current)).on(k,r.mouseInside?r.handleMouseMove:null).on(E,null).on(C,null).on(O,null),r.panHappened&&n&&o){var l=r,c=l.dx,u=void 0===c?0:c,f=l.dy,p=void 0===f?0:f;delete r.dx,delete r.dy,void 0!==r.lastNewPos&&o(r.lastNewPos,a,{dx:u,dy:p},s,e)}r.setState({panInProgress:!1,panStart:void 0})}},r.handleTouchMove=function(e){var t=r.props.onMouseMove;void 0!==t&&t(M(P(e.touches[0]),e),"touch",e)},r.handleTouchStart=function(e){r.mouseInteraction=!1;var t=r.props,n=t.pan,o=t.chartConfig,i=t.onMouseMove,a=t.xScale,s=t.onPanEnd;if(1===e.touches.length){r.panHappened=!1;var l=M(P(e.touches[0]),e);if(void 0!==i&&i(l,"touch",e),n){var c=Tt(o,l);r.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:l,chartsToPan:c}}),Un(x(r.ref.current)).on(C,r.handlePan,!1).on(O,r.handlePanEnd,!1)}}else if(2===e.touches.length){var u=r.state,f=u.panInProgress,p=u.panStart;if(f&&n&&s&&void 0!==p){var d=p.panStartXScale,h=$n(p.panOrigin,2),y=h[0],m=h[1],g=p.chartsToPan;Un(x(r.ref.current)).on(k,r.mouseInside?r.handleMouseMove:null).on(E,null).on(C,r.handlePinchZoom,!1).on(O,r.handlePinchZoomEnd,!1);var v=M(P(e.touches[0]),e),b=M(P(e.touches[1]),e);r.panHappened&&n&&s&&void 0!==r.lastNewPos&&s(r.lastNewPos,d,{dx:y,dy:m},g,e),r.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:v,touch2Pos:b,range:a.range(),chartsToPan:g}})}}},r.handlePinchZoom=function(e){var t=r.state.pinchZoomStart;if(void 0!==t){var n=r.props,o=n.xScale,i=n.zoom,a=n.onPinchZoom;if(i&&void 0!==a){var s=$n(Xn(r.ref.current),2),l=s[0],c=s[1];t.chartsToPan,a(tr(t,["chartsToPan"]),{touch1Pos:l,touch2Pos:c,xScale:o},e)}}},r.handlePinchZoomEnd=function(e){Un(x(r.ref.current)).on(C,null).on(O,null);var t=r.state.pinchZoomStart;if(void 0!==t){t.chartsToPan;var n=tr(t,["chartsToPan"]),o=r.props,i=o.zoom,a=o.onPinchZoomEnd;i&&a&&a(n,e),r.setState({pinchZoomStart:void 0})}},r.setCursorClass=function(e){e!==r.state.cursorOverrideClass&&r.setState({cursorOverrideClass:null===e?void 0:e})},r.focus=e.focus,r.state={panInProgress:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&er(e,t)}(n,e),r=n,o=[{key:"componentDidMount",value:function(){var e=this.props.disableInteraction,t=this.ref.current;null!==t&&(e||(Un(t).on(w,this.handleEnter).on(S,this.handleLeave),t.addEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){var e=this.props.disableInteraction,t=this.ref.current;null!==t&&(e||(Un(t).on(w,null).on(S,null),Un(x(t)).on(k,null),t.removeEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"queuePanEnd",value:function(e){var t=this;void 0!==this.panEndTimeout&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout(function(){t.handlePanEnd(e)},100)}},{key:"cancelDrag",value:function(){Un(x(this.ref.current)).on(k,this.mouseInside?this.handleMouseMove:null).on(E,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.disableInteraction,o=e.useCrossHairStyleCursor,i=r?void 0:void 0!==this.state.cursorOverrideClass?this.state.cursorOverrideClass:o?this.state.panInProgress?"react-financial-charts-grabbing-cursor":"react-financial-charts-crosshair-cursor":void 0,a=r?void 0:{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return(0,m.jsx)("rect",Object.assign({ref:this.ref,className:i,width:n,height:t,style:{opacity:0}},a))}}],o&&Qn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ir(r.key),r)}}function ir(e){var t=function(e){if("object"!=rr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rr(t)?t:t+""}function ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ar=function(){return!!e})()}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}function lr(e,t){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lr(e,t)}nr.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};var cr=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t,n){return t=sr(t),function(e,t){if(t&&("object"==rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ar()?Reflect.construct(t,n||[],sr(e).constructor):t.apply(e,n))}(this,n,arguments)).bgRef=t.createRef(),e.axesRef=t.createRef(),e.mouseRef=t.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}(n,e),r=n,(o=[{key:"getCanvasContexts",value:function(){var e,t,n,r,o,i;return{bg:null!==(t=null===(e=this.bgRef.current)||void 0===e?void 0:e.getContext("2d"))&&void 0!==t?t:void 0,axes:null!==(r=null===(n=this.axesRef.current)||void 0===n?void 0:n.getContext("2d"))&&void 0!==r?r:void 0,mouseCoord:null!==(i=null===(o=this.mouseRef.current)||void 0===o?void 0:o.getContext("2d"))&&void 0!==i?i:void 0}}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.ratio,r=e.style,o=e.width,i=o*n,a=t*n,s={position:"absolute",width:o,height:t};return(0,m.jsxs)("div",Object.assign({style:Object.assign(Object.assign({},r),{position:"absolute"})},{children:[(0,m.jsx)("canvas",{ref:this.bgRef,width:i,height:a,style:s}),(0,m.jsx)("canvas",{ref:this.axesRef,width:i,height:a,style:s}),(0,m.jsx)("canvas",{ref:this.mouseRef,width:i,height:a,style:s})]}))}}])&&or(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.PureComponent);function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fr(e,t,n,r){var o,i,a=e.lastItem,s=e.lastItemX,l=t(a),c=(o=n.range(),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0];return(c[1]-u)/(s.valueOf()-u)*(l.valueOf()-r.valueOf())+r.valueOf()}function pr(e,t){return Math.floor(e*t)}function dr(e,t,n,r){var o=St(e,t,r).left,i=St(e,n,r).right;return e.slice(o,i+1)}function hr(e){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mr(r.key),r)}}function mr(e){var t=function(e){if("object"!=hr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hr(t)?t:t+""}function gr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gr=function(){return!!e})()}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function br(e,t){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},br(e,t)}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sr=["seriesName"],kr=function(){},Er={amIOnTop:function(){return!1},chartConfigs:[],chartId:0,ratio:0,displayXAccessor:function(){return 0},fullData:[],getMutableState:function(){return{}},height:0,margin:{top:0,right:0,bottom:0,left:0},plotData:[],setCursorClass:kr,subscribe:kr,unsubscribe:kr,redraw:kr,width:0,xAccessor:function(){return 0},xScale:kr},Cr=t.createContext(Er),Or=function(e){var t=e.margin,n=e.height,r=e.width;return{height:n-t.top-t.bottom,width:r-t.left-t.right}},Pr=function(e){return e?-1:1},jr=function(e){var t=e.data,n=e.plotFull,r=e.xScale,o=e.clamp,i=e.pointsPerPxThreshold,a=e.flipXScale,s=e.xAccessor,l=e.displayXAccessor,c=e.minPointsPerPxThreshold,u=function(e){var t=e.clamp,n=e.pointsPerPxThreshold,r=e.minPointsPerPxThreshold,o=e.flipXScale;return function(e,t,n,r,o){return{filterData:function(i,a,s,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=c.currentPlotData,f=c.currentDomain,p=c.fallbackStart,d=c.fallbackEnd,h=c.ignoreThresholds,y=void 0!==h&&h;if(e)return{plotData:i,domain:a};var m=j(a),g=T(a),v=a,b=dr(i,m,g,s);1===b.length&&void 0!==p&&(v=[m=p,g=fr(d,s,l,m)],b=dr(i,m,g,s)),"function"==typeof t?v=t(v,[s(j(i)),s(T(i))]):("left"!==t&&"both"!==t&&!0!==t||(v=[$([m,s(j(i))]),v[1]]),"right"!==t&&"both"!==t&&!0!==t||(v=[v[0],q([g,s(T(i))])])),v!==a&&(b=dr(i,v[0],v[1],s));var x,w,S=v,k=l.copy().domain(S),E=Math.floor(k(s(T(b)))-k(s(j(b))));o&&E<0&&(E*=-1);var C=T(k.range())-j(k.range());if(y&&b.length>1||function(e,t,n,r){var o=function(e,t){return Math.max(1,Math.ceil(e*t))}(e,r),i=pr(e,n);return t>=o&&t<i}(E,b.length,n,r))x=b,w=S;else if(C>pr(E,n)&&A(d)){x=b;var O=fr(d,s,l,j(S));w=[j(S),O]}else x=null!=u?u:b.slice(b.length-function(e,t){return Math.floor(.97*pr(e,t))}(E,n)),w=null!=f?f:[s(j(x)),s(T(x))];return{plotData:x,domain:w}}}}(e.useWholeData||D(e.xScale.invert),t,n,r,o)}({xScale:r,useWholeData:void 0!==n?n:s===Y,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:c,flipXScale:a}),f=u.filterData;return{xAccessor:s,displayXAccessor:null!=l?l:s,xScale:r.copy(),fullData:t,filterData:f}},_r=function(e){var t=Tr(e),n=t.xAccessor,r=t.displayXAccessor,o=t.fullData,i=t.plotData,a=t.xScale,s=e.postCalculator,l=e.children,c=void 0!==s?s(i):i,u=At(_t(Or(e),l),{plotData:c,xAccessor:n,displayXAccessor:r,fullData:o},a.domain());return Object.assign(Object.assign({},t),{xScale:a,plotData:c,chartConfigs:u})},Tr=function(e){var t=e.xAccessor,n=e.xExtents,r=e.data,o=e.padding,i=e.flipXScale,a=Pr(i),s=Or(e),l="function"==typeof n?n(r):X(n.map(function(e){return b(e)}).map(function(e){return e(r,t)})),c=jr(e),u=c.xAccessor,f=c.displayXAccessor,p=c.xScale,d=c.fullData,h=c.filterData,y=Ar(p,s,o,a),m=h(d,l,t,y),g=m.plotData,v=m.domain;return{plotData:g,xScale:y.domain(v),xAccessor:u,displayXAccessor:f,fullData:d,filterData:h}},Ar=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints([0,t.width],n)}else if(e.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.range([0,t.width]),e.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?e.range([i,t.width-a]):e.range([t.width-a,i])}return e},Dr=function(e){var t=e.touch1Pos,n=e.touch2Pos;return{topLeft:[Math.min(t[0],n[0]),Math.min(t[1],n[1])],bottomRight:[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}},Mr=function(e,t,n){return!isNaN(e(t(j(n))))&&A(e.invert)},Nr=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=vr(t),function(e,t){if(t&&("object"==hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gr()?Reflect.construct(t,n||[],vr(e).constructor):t.apply(e,n))}(this,n,[e])).canvasContainerRef=t.createRef(),r.eventCaptureRef=t.createRef(),r.lastSubscriptionId=0,r.mutableState={mouseXY:[0,0],currentCharts:[],currentItem:null},r.panInProgress=!1,r.subscriptions=[],r.getMutableState=function(){return r.mutableState},r.getCanvasContexts=function(){var e;return null===(e=r.canvasContainerRef.current)||void 0===e?void 0:e.getCanvasContexts()},r.generateSubscriptionId=function(){return r.lastSubscriptionId++,r.lastSubscriptionId},r.subscribe=function(e,t){var n=t.getPanConditions,o=void 0===n?b({draggable:!1,panEnabled:!0}):n;r.subscriptions=r.subscriptions.concat(Object.assign(Object.assign({id:e},t),{getPanConditions:o}))},r.unsubscribe=function(e){r.subscriptions=r.subscriptions.filter(function(t){return t.id!==e})},r.getAllPanConditions=function(){return r.subscriptions.map(function(e){return e.getPanConditions()})},r.setCursorClass=function(e){var t;null===(t=r.eventCaptureRef.current)||void 0===t||t.setCursorClass(e)},r.amIOnTop=function(e){var t=r.subscriptions.filter(function(e){return e.getPanConditions().draggable});return t.length>0&&T(t).id===e},r.handleContextMenu=function(e,t){var n=r.state,o=n.xAccessor,i=n.chartConfigs,a=n.plotData,s=n.xScale,l=Tt(i,e),c=Dt(s,o,e,a);r.triggerEvent("contextmenu",{mouseXY:e,currentItem:c,currentCharts:l},t)},r.calculateStateForDomain=function(e){var t=r.state,o=t.xAccessor,i=t.displayXAccessor,a=t.xScale,s=t.chartConfigs,l=t.plotData,c=r.state,u=c.filterData,f=c.fullData,p=r.props.postCalculator,d=void 0===p?n.defaultProps.postCalculator:p,h=u(f,e,o,a,{currentPlotData:l,currentDomain:a.domain()}),y=h.plotData,m=h.domain,g=d(y),v=a.copy().domain(m),b=At(s,{plotData:g,xAccessor:o,displayXAccessor:i,fullData:f},v.domain());return{xScale:v,plotData:g,chartConfigs:b}},r.pinchZoomHelper=function(e,t){var o=e.xScale,i=r.state,a=i.xScale,s=i.chartConfigs,l=i.plotData,c=i.xAccessor,u=i.displayXAccessor,f=i.filterData,p=i.fullData,d=r.props.postCalculator,h=void 0===d?n.defaultProps.postCalculator:d,y=Dr(e),m=y.topLeft,g=y.bottomRight,v=Dr(t),b=v.topLeft,x=v.bottomRight,w=o.range()[1],S=Math.round(-(g[0]*b[0]-m[0]*x[0])/(m[0]-g[0])),k=Math.round(w+((w-g[0])*(w-b[0])-(w-m[0])*(w-x[0]))/(w-m[0]-(w-g[0]))),E=f(p,[Math.round(-S*m[0]/(-S+b[0])),Math.round(w-(k-w)*(w-m[0])/(k+(w-b[0])))].map(o.invert),c,o,{currentPlotData:l,currentDomain:a.domain()}),C=E.plotData,O=E.domain,P=h(C),j=a.copy().domain(O),_=t.touch1Pos;return{chartConfigs:At(s,{plotData:P,xAccessor:c,displayXAccessor:u,fullData:p},j.domain()),xScale:j,plotData:P,mouseXY:_,currentItem:Dt(j,c,_,P),xAccessor:c,fullData:p}},r.handlePinchZoom=function(e,t,n){if(!r.waitingForPinchZoomAnimationFrame){r.waitingForPinchZoomAnimationFrame=!0;var o=r.pinchZoomHelper(e,t);r.triggerEvent("pinchzoom",o,n),r.finalPinch=t,requestAnimationFrame(function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1})}},r.handlePinchZoomEnd=function(e,t){var o=r.state.xAccessor,i=void 0===o?n.defaultProps.xAccessor:o;if(r.finalPinch){var a=r.pinchZoomHelper(e,r.finalPinch),s=a.xScale,l=a.fullData;r.triggerEvent("pinchzoom",a,t),r.finalPinch=void 0,r.clearThreeCanvas();var c=j(l),u=j(s.domain()),f=i(c),p=T(l),d=T(s.domain()),h=i(p),y=r.props,m=y.onLoadAfter,g=y.onLoadBefore;r.setState(a,function(){u<f&&void 0!==g&&g(u,f),h<d&&void 0!==m&&m(h,d)})}},r.handleZoom=function(e,t,o){if(!r.panInProgress){var i=r.state,a=i.xAccessor,s=i.xScale,l=i.plotData,c=i.fullData,u=r.props,f=u.zoomMultiplier,p=void 0===f?n.defaultProps.zoomMultiplier:f,d=u.zoomAnchor,h=(void 0===d?n.defaultProps.zoomAnchor:d)({xScale:s,xAccessor:a,mouseXY:t,plotData:l}),y=s(h),m=e>0?1*p:1/p,g=s.range().map(function(e){return y+(e-y)*m}).map(function(e){return s.invert(e)}),v=r.calculateStateForDomain(g),b=v.xScale,x=v.plotData,w=v.chartConfigs,S=Dt(b,a,t,x),k=Tt(w,t),E=j(c),C=j(b.domain()),O=a(E),P=T(c),_=T(b.domain()),A=a(P);r.mutableState={mouseXY:t,currentItem:S,currentCharts:k},r.triggerEvent("zoom",{xScale:b,plotData:x,chartConfigs:w,mouseXY:t,currentCharts:k,currentItem:S,show:!0},o);var D=r.props,M=D.onLoadAfter,N=D.onLoadBefore;r.setState({xScale:b,plotData:x,chartConfigs:w},function(){C<O&&void 0!==N&&N(C,O),A<_&&void 0!==M&&M(A,_)})}},r.xAxisZoom=function(e){var t=r.calculateStateForDomain(e),n=t.xScale,o=t.plotData,i=t.chartConfigs;r.clearThreeCanvas();var a=r.state,s=a.xAccessor,l=a.fullData,c=j(l),u=j(n.domain()),f=s(c),p=T(l),d=T(n.domain()),h=s(p),y=r.props,m=y.onLoadAfter,g=y.onLoadBefore;r.setState({xScale:n,plotData:o,chartConfigs:i},function(){u<f&&void 0!==g&&g(u,f),h<d&&void 0!==m&&m(h,d)})},r.yAxisZoom=function(e,t){r.clearThreeCanvas();var n=r.state.chartConfigs.map(function(n){if(n.id===e){var r=n.yScale;return Object.assign(Object.assign({},n),{yScale:r.copy().domain(t),yPanEnabled:!0})}return n});r.setState({chartConfigs:n})},r.draw=function(e){r.subscriptions.forEach(function(t){A(t.draw)&&t.draw(e)})},r.redraw=function(){r.clearThreeCanvas(),r.draw({force:!0})},r.panHelper=function(e,t,o,i){var a=o.dx,s=o.dy,l=r.state,c=l.xAccessor,u=l.displayXAccessor,f=l.chartConfigs,p=l.filterData,d=l.fullData,h=r.props.postCalculator,y=void 0===h?n.defaultProps.postCalculator:h,m=p(d,t.range().map(function(e){return e-a}).map(function(e){return t.invert(e)}),c,t,{currentPlotData:r.hackyWayToStopPanBeyondBounds__plotData,currentDomain:r.hackyWayToStopPanBeyondBounds__domain}),g=m.plotData,v=m.domain,b=t.copy().domain(v),x=y(g),w=Dt(b,c,e,x),S=At(f,{plotData:x,xAccessor:c,displayXAccessor:u,fullData:d},b.domain(),s,i);return{xScale:b,plotData:x,chartConfigs:S,mouseXY:e,currentCharts:Tt(S,e),currentItem:w}},r.handlePan=function(e,t,n,o,i){var a,s;if(!r.waitingForPanAnimationFrame){r.waitingForPanAnimationFrame=!0,r.hackyWayToStopPanBeyondBounds__plotData=null!==(a=r.hackyWayToStopPanBeyondBounds__plotData)&&void 0!==a?a:r.state.plotData,r.hackyWayToStopPanBeyondBounds__domain=null!==(s=r.hackyWayToStopPanBeyondBounds__domain)&&void 0!==s?s:r.state.xScale.domain();var l=r.panHelper(e,t,n,o);r.hackyWayToStopPanBeyondBounds__plotData=l.plotData,r.hackyWayToStopPanBeyondBounds__domain=l.xScale.domain(),r.panInProgress=!0,r.triggerEvent("pan",l,i),r.mutableState={mouseXY:l.mouseXY,currentItem:l.currentItem,currentCharts:l.currentCharts},r.setState({xScale:l.xScale,plotData:l.plotData,chartConfigs:l.chartConfigs}),requestAnimationFrame(function(){r.waitingForPanAnimationFrame=!1,r.clearBothCanvas(),r.draw({trigger:"pan"})})}},r.handlePanEnd=function(e,t,n,o,i){var a=r.panHelper(e,t,n,o);r.hackyWayToStopPanBeyondBounds__plotData=null,r.hackyWayToStopPanBeyondBounds__domain=null,r.panInProgress=!1;var s=a.xScale,l=a.plotData,c=a.chartConfigs;r.triggerEvent("panend",a,i),requestAnimationFrame(function(){var e=r.state,t=e.xAccessor,n=e.fullData,o=j(n),i=j(s.domain()),a=t(o),u=T(n),f=T(s.domain()),p=t(u),d=r.props,h=d.onLoadAfter,y=d.onLoadBefore;r.clearThreeCanvas(),r.setState({xScale:s,plotData:l,chartConfigs:c},function(){i<a&&void 0!==y&&y(i,a),p<f&&void 0!==h&&h(p,f)})})},r.handleMouseDown=function(e,t,n){r.triggerEvent("mousedown",r.mutableState,n)},r.handleMouseEnter=function(e){r.triggerEvent("mouseenter",{show:!0},e)},r.handleMouseMove=function(e,t,n){if(!r.waitingForMouseMoveAnimationFrame){r.waitingForMouseMoveAnimationFrame=!0;var o=r.state,i=o.chartConfigs,a=o.plotData,s=o.xScale,l=o.xAccessor,c=Tt(i,e),u=Dt(s,l,e,a);r.triggerEvent("mousemove",{show:!0,mouseXY:e,prevMouseXY:r.prevMouseXY,currentItem:u,currentCharts:c},n),r.prevMouseXY=e,r.mutableState={mouseXY:e,currentItem:u,currentCharts:c},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1})}},r.handleMouseLeave=function(e){r.triggerEvent("mouseleave",{show:!1},e),r.clearMouseCanvas(),r.draw({trigger:"mouseleave"})},r.handleDragStart=function(e,t){var n=e.startPos;r.triggerEvent("dragstart",{startPos:n},t)},r.handleDrag=function(e,t){var n=e.startPos,o=e.mouseXY,i=r.state,a=i.chartConfigs,s=i.plotData,l=i.xScale,c=i.xAccessor,u=Tt(a,o),f=Dt(l,c,o,s);r.triggerEvent("drag",{startPos:n,mouseXY:o,currentItem:f,currentCharts:u},t),r.mutableState={mouseXY:o,currentItem:f,currentCharts:u},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"drag"})})},r.handleDragEnd=function(e,t){var n=e.mouseXY;r.triggerEvent("dragend",{mouseXY:n},t),requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"dragend"})})},r.handleClick=function(e,t){r.triggerEvent("click",r.mutableState,t),requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"click"})})},r.handleDoubleClick=function(e,t){r.triggerEvent("dblclick",{},t)},r.resetYDomain=function(e){var t=r.state.chartConfigs,n=!1,o=t.map(function(t){return!D(e)&&t.id!==e||G(t.yScale.domain(),t.realYDomain)?t:(n=!0,Object.assign(Object.assign({},t),{yScale:t.yScale.domain(t.realYDomain),yPanEnabled:!1}))});n&&(r.clearThreeCanvas(),r.setState({chartConfigs:o}))},r.state=_r(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(n,e),r=n,o=[{key:"getSnapshotBeforeUpdate",value:function(e,t){return t.propIteration===this.state.propIteration||this.panInProgress||this.clearThreeCanvas(),null}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.triggerEvent("dataupdated",{chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,plotData:this.state.plotData})}},{key:"clearBothCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&e.mouseCoord&&I([e.axes,e.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&I([e.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&e.mouseCoord&&e.bg&&I([e.axes,e.mouseCoord,e.bg],this.props.ratio)}},{key:"cancelDrag",value:function(){var e;null===(e=this.eventCaptureRef.current)||void 0===e||e.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"triggerEvent",value:function(e,t,n){var r=this;this.subscriptions.forEach(function(o){var i=Object.assign(Object.assign({},r.state),{subscriptions:r.subscriptions});o.listener(e,t,i,n)})}},{key:"getContextValues",value:function(){var e=Or(this.props);return{chartId:-1,fullData:this.state.fullData,plotData:this.state.plotData,width:e.width,height:e.height,chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var e=this.props,t=e.disableInteraction,r=e.disablePan,o=e.disableZoom,i=e.useCrossHairStyleCursor,a=e.onClick,s=e.onDoubleClick,l=e.height,c=e.width,u=e.margin,f=void 0===u?n.defaultProps.margin:u,p=e.className,d=e.zIndex,h=void 0===d?n.defaultProps.zIndex:d,y=e.defaultFocus,g=e.ratio,v=e.mouseMoveEvent,b=this.state,x=b.plotData,w=b.xScale,S=b.xAccessor,k=b.chartConfigs,E=Or(this.props),C=Mr(w,S,x),O=i&&C,P=(0,m.jsx)("style",Object.assign({type:"text/css"},{children:"\n\t.react-financial-charts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-financial-charts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-financial-charts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-financial-charts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-financial-charts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-financial-charts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-financial-charts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-financial-charts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}"}));return(0,m.jsx)(Cr.Provider,Object.assign({value:this.getContextValues()},{children:(0,m.jsxs)("div",Object.assign({style:{position:"relative",width:c,height:l},className:p,onClick:a,onDoubleClick:s},{children:[(0,m.jsx)(cr,{ref:this.canvasContainerRef,ratio:g,width:c,height:l,style:{height:l,zIndex:h,width:c}}),(0,m.jsxs)("svg",Object.assign({className:p,width:c,height:l,style:{position:"absolute",zIndex:h+5}},{children:[P,(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",Object.assign({id:"chart-area-clip"},{children:(0,m.jsx)("rect",{x:"0",y:"0",width:E.width,height:E.height})})),k.map(function(e,t){return(0,m.jsx)("clipPath",Object.assign({id:"chart-area-clip-".concat(e.id)},{children:(0,m.jsx)("rect",{x:"0",y:"0",width:e.width,height:e.height})}),t)})]}),(0,m.jsxs)("g",Object.assign({transform:"translate(".concat(f.left+.5,", ").concat(f.top+.5,")")},{children:[(0,m.jsx)(nr,{ref:this.eventCaptureRef,useCrossHairStyleCursor:O,mouseMove:v&&C,zoom:!o&&C,pan:!r&&C,width:E.width,height:E.height,chartConfig:k,xScale:w,xAccessor:S,focus:y,disableInteraction:t,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),(0,m.jsx)("g",Object.assign({className:"react-financial-charts-avoid-interaction"},{children:this.props.children}))]}))]}))]}))}))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,o,i,a=t.chartConfigs,s=t.plotData,l=t.xAccessor,c=t.xScale,u=Mr(c,l,s),f=(r=t.lastProps||{},o=e,!Sr.every(function(e){return G(r[e],o[e])}));if(u&&!f&&G(null===(n=t.lastProps)||void 0===n?void 0:n.xExtents,e.xExtents)){var p=xr(c.domain(),2),d=p[0],h=p[1],y=T(t.fullData),m=jr(e),g=(0,m.xAccessor)(y);i=function(e,t,n,r,o){var i,a=e.fullData,s=e.xScale,l=e.xAccessor,c=e.displayXAccessor,u=e.filterData,f=T(a),p=l(f),d=xr(t.domain(),2),h=d[0],y=d[1],m=n.postCalculator,g=n.children,v=n.padding,b=n.flipXScale,x=n.maintainPointsPerPixelOnResize,w=Pr(b),S=Or(n),k=Ar(s,S,v,w);if(!r||y>=p){var E=xr(t.range(),2),C=E[0],O=E[1],P=xr(k.range(),2),j=P[0],_=(P[1]-j)/(O-C)*(y.valueOf()-h.valueOf()),A=u(a,[x?y.valueOf()-_:h,y],l,k,{fallbackStart:h,fallbackEnd:{lastItem:f,lastItemX:t(p)}});i=A.plotData,k.domain(A.domain)}else if(r&&y<p){var D=t(p)-t.range()[1],M=xr(t.range().map(function(e){return e+D}).map(function(e){return t.invert(e)}),2),N=u(a,[M[0],M[1]],l,k);i=N.plotData,k.domain(N.domain)}var I=m(i),L=At(_t(S,g,o),{plotData:I,xAccessor:l,displayXAccessor:c,fullData:a},k.domain());return{xScale:k,xAccessor:l,chartConfigs:L,plotData:I,fullData:a,filterData:u}}(m,c,e,g<=h&&g>=d,a)}else i=_r(e);return Object.assign(Object.assign({},i),{lastProps:e,propIteration:(t.propIteration||0)+1})}}],o&&yr(r.prototype,o),i&&yr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(t.Component);function Ir(e){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rr(r.key),r)}}function Rr(e){var t=function(e){if("object"!=Ir(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ir(t)?t:t+""}function Fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fr=function(){return!!e})()}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}function Vr(e,t){return Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vr(e,t)}Nr.defaultProps={clamp:!1,className:"react-financial-charts",defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:.01,mouseMoveEvent:!0,postCalculator:Y,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:Y,xExtents:[q,$],zIndex:1,zoomAnchor:function(e){var t=e.xScale,n=e.xAccessor;return n(Dt(t,n,e.mouseXY,e.plotData))},zoomMultiplier:1.1};var Br={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag",zoom:"zoom"},Wr=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,n){return t=zr(t),function(e,t){if(t&&("object"==Ir(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fr()?Reflect.construct(t,n||[],zr(e).constructor):t.apply(e,n))}(this,t,[e,n])).moreProps={},r.dragInProgress=!1,r.evaluationInProgress=!1,r.iSetTheCursorClass=!1,r.listener=function(e,t,n,o){void 0!==t&&r.updateMoreProps(t),r.evaluationInProgress=!0,r.evaluateType(e,o),r.evaluationInProgress=!1},r.drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getPanConditions=r.getPanConditions.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r);var o=n.generateSubscriptionId;return r.subscriberId=o(),r.state={updateCount:0},r.updateMorePropsFromContext(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vr(e,t)}(t,e),n=t,r=[{key:"updateMorePropsFromContext",value:function(e,t){var n=t.xScale,r=t.plotData,o=t.chartConfig,i=t.getMutableState;this.moreProps=Object.assign(Object.assign(Object.assign({},this.moreProps),i()),{xScale:n,plotData:r,chartConfig:o})}},{key:"updateMoreProps",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.moreProps[n]=e[n]})}},{key:"shouldTypeProceed",value:function(e,t){return!0}},{key:"preEvaluate",value:function(e,t,n){}},{key:"evaluateType",value:function(e,t){var n=Br[e]||e;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(e,this.moreProps,t),this.shouldTypeProceed(e,this.moreProps)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1,this.props.onUnHover&&this.props.onUnHover(t,this.getMoreProps());break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(t,this.getMoreProps()),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(t,this.getMoreProps());break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(t,this.getMoreProps());break;case"click":var r=this.props,o=r.onClick,i=r.onClickOutside,a=r.onClickWhenHover,s=this.getMoreProps();s.hovering&&void 0!==a?a(t,s):void 0!==i&&i(t,s),void 0!==o&&o(t,s);break;case"mousemove":var l=this.moreProps.hovering;this.moreProps.hovering=this.isHover(t);var c=this.context,u=c.amIOnTop,f=c.setCursorClass;this.moreProps.hovering&&!this.props.selected&&u(this.subscriberId)&&void 0!==this.props.onHover?(f("react-financial-charts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&u(this.subscriberId)?(f(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):l&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,f(null));var p=this.getMoreProps();this.moreProps.hovering&&!l&&this.props.onHover&&this.props.onHover(t,p),l&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(t,p),this.props.onMouseMove&&this.props.onMouseMove(t,p);break;case"dblclick":var d=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(t,d),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(t,d);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(t,this.getMoreProps());break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(t,this.getMoreProps());break;case"dragstart":this.getPanConditions().draggable&&(0,this.context.amIOnTop)(this.subscriberId)&&(this.dragInProgress=!0,void 0!==this.props.onDragStart&&this.props.onDragStart(t,this.getMoreProps()));break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(t,this.getMoreProps());break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(t,this.getMoreProps()),this.dragInProgress=!1;break;case"dragcancel":(this.dragInProgress||this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(e){var t=this.props.isHover;return void 0!==t&&t(this.getMoreProps(),e)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(e){var t=e.trigger,n=e.force,r=void 0!==n&&n,o=Br[t]||t;if(this.props.drawOn.indexOf(o)>-1||this.props.selected||r)if(void 0===this.props.canvasDraw){var i=this.state.updateCount;this.setState({updateCount:i+1})}else this.drawOnCanvas()}},{key:"componentDidMount",value:function(){var e=this.context,t=e.subscribe,n=e.chartId,r=this.props,o=r.clip,i=r.edgeClip;t(this.subscriberId,{chartId:n,clip:o,edgeClip:i,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentDidUpdate(this.props)}},{key:"componentWillUnmount",value:function(){(0,this.context.unsubscribe)(this.subscriberId),this.iSetTheCursorClass&&(0,this.context.setCursorClass)(null)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasDraw,r=t.selected,o=t.interactiveCursorClass;if(this.updateMorePropsFromContext(this.props,this.context),e.selected!==r){var i=this.context.setCursorClass;r&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(o)):(this.iSetTheCursorClass=!1,i(null))}void 0===n||this.evaluationInProgress||(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfigs,o=e.morePropsDecorator,i=e.xAccessor,a=e.displayXAccessor,s=e.width,l=e.height,c=this.context,u=c.chartId,f=c.fullData,p=Object.assign({xScale:t,plotData:n,chartConfigs:r,xAccessor:i,displayXAccessor:a,width:s,height:l,chartId:u,fullData:f},this.moreProps);return(o||Y)(p)}},{key:"preCanvasDraw",value:function(e,t){}},{key:"postCanvasDraw",value:function(e,t){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw;if(void 0!==t&&void 0!==n){var r=this.context.getCanvasContexts,o=this.getMoreProps(),i=n(r());void 0!==i&&(this.preCanvasDraw(i,o),t(i,o),this.postCanvasDraw(i,o))}}},{key:"render",value:function(){var e=this.props,t=e.canvasDraw,n=e.clip,r=e.svgDraw;if(void 0!==t||void 0===r)return null;var o=this.context.chartId,i=n?{clipPath:"url(#chart-area-clip".concat(void 0!==o?"-"+o:"",")")}:void 0;return(0,m.jsx)("g",Object.assign({style:i},{children:r(this.getMoreProps())}))}}],r&&Lr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);Wr.defaultProps={svgDraw:b(null),draw:[],canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1},Wr.contextType=Cr;var Ur=function(e){return e.axes},Hr=function(e){return e.mouseCoord};function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xr=t.createContext(Object.assign(Object.assign({},Er),{chartConfig:{},chartId:0})),qr=t.memo(function(e){var n=e.id,r=void 0===n?0:n,o=e.onContextMenu,i=e.onDoubleClick,a=t.useContext(Cr),s=a.subscribe,l=a.unsubscribe,c=a.chartConfigs,u=t.useCallback(function(e,t,n,a){switch(e){case"contextmenu":if(void 0===o)return;t.currentCharts.indexOf(r)>-1&&o(a,t);break;case"dblclick":if(void 0===i)return;t.currentCharts.indexOf(r)>-1&&i(a,t)}},[o,i,r]);t.useEffect(function(){return s("chart_".concat(r),{listener:u}),function(){return l("chart_".concat(r))}},[s,l,r,u]);var f,p,d=c.find(function(t){return t.id===e.id}),h=t.useMemo(function(){return Object.assign(Object.assign({},a),{chartId:r,chartConfig:d})},[r,d,a]),y=(f=d.origin,p=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(f,p)||function(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=y[0],v=y[1];return(0,m.jsx)(Xr.Provider,Object.assign({value:h},{children:(0,m.jsx)("g",Object.assign({transform:"translate(".concat(g,", ").concat(v,")"),id:"chart_".concat(r)},{children:e.children}))}))});function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kr(r.key),r)}}function Kr(e){var t=function(e){if("object"!=$r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$r(t)?t:t+""}function Jr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jr=function(){return!!e})()}function eo(e,t,n,r){var o=to(no(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function to(){return to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=no(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},to.apply(null,arguments)}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},no(e)}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ro(e,t)}qr.displayName="Chart";var oo=["drag","dragend"],io=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,n){return t=no(t),function(e,t){if(t&&("object"==$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jr()?Reflect.construct(t,n||[],no(e).constructor):t.apply(e,n))}(this,t,[e,n])).preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ro(e,t)}(t,e),n=t,r=[{key:"preCanvasDraw",value:function(e,n){eo(t,"preCanvasDraw",this,3)([e,n]),e.save();var r=this.context,o=r.margin,i=r.ratio,a=n.chartConfig,s=a.width,l=a.height,c=a.origin,u=.5*i+c[0]+o.left,f=.5*i+c[1]+o.top,p=this.props,d=p.clip,h=p.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(i,i),h&&(e.beginPath(),e.rect(-1,f-10,s+o.left+o.right+1,l+20),e.clip()),e.translate(u,f),d&&(e.beginPath(),e.rect(-1,-1,s+1,l+1),e.clip())}},{key:"postCanvasDraw",value:function(e,n){eo(t,"postCanvasDraw",this,3)([e,n]),e.restore()}},{key:"updateMoreProps",value:function(e){eo(t,"updateMoreProps",this,3)([e]);var n=e.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=n.find(function(e){return e.id===r});this.moreProps.chartConfig=o}if(A(this.moreProps.chartConfig)){var i=Gr(this.moreProps.chartConfig.origin,2),a=i[0],s=i[1];if(A(e.mouseXY)){var l=Gr(e.mouseXY,2),c=l[0],u=l[1];this.moreProps.mouseXY=[c-a,u-s]}if(A(e.startPos)){var f=Gr(e.startPos,2),p=f[0],d=f[1];this.moreProps.startPos=[p-a,d-s]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(e,t){return!("mousemove"!==e&&"click"!==e||!this.props.disablePan)||-1!==oo.indexOf(e)||!A(t)||!A(t.currentCharts)||t.currentCharts.indexOf(this.context.chartId)>-1}}],r&&Zr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Wr);function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uo(r.key),r)}}function uo(e){var t=function(e){if("object"!=ao(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ao(t)?t:t+""}function fo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fo=function(){return!!e})()}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}function ho(e,t){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ho(e,t)}io.defaultProps=Wr.defaultProps,io.contextType=Xr;var yo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=po(t),function(e,t){if(t&&("object"==ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fo()?Reflect.construct(t,n||[],po(e).constructor):t.apply(e,n))}(this,t,arguments)).isHover=function(t){var n=e.props,r=n.tolerance;if(void 0!==n.onHover){var o=e.props,i=o.x1Value,a=o.x2Value,s=o.y1Value,l=o.y2Value,c=o.type;return mo({x1Value:i,y1Value:s,x2Value:a,y2Value:l,mouseXY:t.mouseXY,type:c,tolerance:r,xScale:t.xScale,yScale:t.chartConfig.yScale})}return!1},e.drawOnCanvas=function(n,r){var o=e.props,i=o.strokeWidth,a=void 0===i?t.defaultProps.strokeWidth:i,s=o.strokeDasharray,l=o.strokeStyle,c=function(e,t){var n=e.x1Value,r=e.x2Value,o=e.y1Value,i=e.y2Value,a=e.type,s=t.xScale,l=t.chartConfig.yScale,c=bo({type:a,start:[n,o],end:[r,i],xScale:s,yScale:l});return{x1:s(c.x1),y1:l(c.y1),x2:s(c.x2),y2:l(c.y2)}}(e.props,r),u=c.x1,f=c.y1,p=c.x2,d=c.y2;n.lineWidth=a,n.strokeStyle=l;var h=U(s);n.setLineDash(h),n.beginPath(),n.moveTo(u,f),n.lineTo(p,d),n.stroke()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ho(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,o=r.onDragStart,i=r.onDrag,a=r.onDragComplete,s=r.onHover,l=r.onUnHover,c=r.onClick;return(0,m.jsx)(io,{isHover:this.isHover,canvasToDraw:Hr,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:o,onDrag:i,onDragComplete:a,onHover:s,onUnHover:l,onClick:c,drawOn:["mousemove","pan","drag"]})}}])&&co(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function mo(e){var t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value,i=e.mouseXY,a=e.type,s=e.tolerance,l=e.xScale,c=e.yScale,u=bo({type:a,start:[t,n],end:[r,o],xScale:l,yScale:c}),f=[l(u.x1),c(u.y1)],p=[l(u.x2),c(u.y2)],d=go(f,p),h=so(i,2),y=h[0],m=h[1];if(void 0!==d){var g=d*y+vo(d,p);return m<g+s&&m>g-s&&y>Math.min(f[0],p[0])-s&&y<Math.max(f[0],p[0])+s}return m>=Math.min(f[1],p[1])&&m<=Math.max(f[1],p[1])&&y<f[0]+s&&y>f[0]-s}function go(e,t){return t[0]===e[0]?void 0:(t[1]-e[1])/(t[0]-e[0])}function vo(e,t){return-1*e*t[0]+t[1]}function bo(e){var t=e.type,n=e.start,r=e.end,o=e.xScale,i=e.yScale,a=go(n,r),s=vo(a,n);switch(t){case"XLINE":return function(e){var t=e.start,n=e.end,r=e.yScale,o=e.m,i=e.b,a=so(e.xScale.domain(),2),s=a[0],l=a[1],c=so(r.domain(),2),u=c[0],f=c[1];if(n[0]===t[0])return{x1:n[0],y1:u,x2:n[0],y2:f};var p=so(n[0]>t[0]?[s,l]:[l,s],2),d=p[0],h=p[1];return{x1:d,y1:o*d+i,x2:h,y2:o*h+i}}({start:n,end:r,xScale:o,yScale:i,m:a,b:s});case"RAY":return function(e){var t=e.start,n=e.end,r=e.yScale,o=e.m,i=e.b,a=so(e.xScale.domain(),2),s=a[0],l=a[1],c=so(r.domain(),2),u=c[0],f=c[1],p=t[0];if(n[0]===t[0])return{x1:p,y1:t[1],x2:p,y2:n[1]>t[1]?f:u};var d=n[0]>t[0]?l:s;return{x1:p,y1:o*p+i,x2:d,y2:o*d+i}}({start:n,end:r,xScale:o,yScale:i,m:a,b:s});default:return function(e){var t=e.start,n=e.end,r=so(t,2),o=r[0],i=r[1],a=so(n,2),s=a[0],l=a[1];return n[0]===t[0]?{x1:o,y1:t[1],x2:o,y2:n[1]}:{x1:o,y1:i,x2:s,y2:l}}({start:n,end:r})}}function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,So(r.key),r)}}function So(e){var t=function(e){if("object"!=xo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xo(t)?t:t+""}function ko(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ko=function(){return!!e})()}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Eo(e)}function Co(e,t){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Co(e,t)}yo.defaultProps={onEdge1Drag:R,onEdge2Drag:R,edgeStrokeWidth:3,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:10,withEdge:!1,strokeWidth:1,strokeDasharray:"Solid",children:R,tolerance:7,selected:!1};var Oo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Eo(t),function(e,t){if(t&&("object"==xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ko()?Reflect.construct(t,n||[],Eo(e).constructor):t.apply(e,n))}(this,t,arguments)).mutableState={},e.xy=function(t,n){var r,o,i,a=n.xAccessor,s=n.plotData,l=n.mouseXY,c=n.currentItem,u=n.xScale,f=n.chartConfig.yScale,p=e.props,d=p.enabled,h=p.snap,y=p.shouldDisableSnap,m=p.snapTo;if(d&&A(c)&&A(t)){var g=h&&!y(t)?a(c):Mt(u,a,l,s),v=h&&void 0!==m&&!y(t)?(r=m(c),o=f.invert(l[1]),i=(Array.isArray(r)?r:[r]).map(function(e){return e-o}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t}),o+i):f.invert(l[1]);return{xValue:g,yValue:v,x:u(g),y:f(v)}}},e.handleClick=function(t,n){var r=e.xy(t,n);if(void 0!==r&&A(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onClick(t,[o,i],n)}},e.handleMouseDown=function(t,n){var r=e.xy(t,n);if(void 0!==r&&A(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onMouseDown(t,[o,i],n)}},e.handleMousePosChange=function(t,n){if(!G(n.mousXY,n.prevMouseXY)){var r=e.xy(t,n);if(void 0!==r&&A(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onMouseMove(t,[o,i],n)}}},e.drawOnCanvas=function(t,n){var r=e.props,o=r.enabled,i=r.r,a=r.stroke,s=r.strokeWidth,l=e.mutableState,c=l.x,u=l.y,f=n.show;o&&f&&A(c)&&(t.lineWidth=s,t.strokeStyle=a,t.moveTo(c,u),t.beginPath(),t.arc(c,u,i,0,2*Math.PI,!1),t.stroke())},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Co(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.disablePan;return(0,m.jsx)(io,{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseMove:this.handleMousePosChange,onPan:this.handleMousePosChange,disablePan:t&&n,canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["mousemove","pan"]})}}])&&wo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Po(e){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(e)}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,To(r.key),r)}}function To(e){var t=function(e){if("object"!=Po(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Po(t)?t:t+""}function Ao(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ao=function(){return!!e})()}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}function Mo(e,t){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mo(e,t)}Oo.defaultProps={onMouseMove:R,onMouseDown:R,onClick:R,shouldDisableSnap:b(!1),stroke:"#000000",strokeWidth:1,opacity:1,disablePan:!0};var No=10,Io=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=Do(t),function(e,t){if(t&&("object"==Po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ao()?Reflect.construct(t,n||[],Do(e).constructor):t.apply(e,n))}(this,n,[e])).textNode=t.createRef(),r.renderSVG=function(e){var t=r.props,n=t.fontFamily,o=t.fontSize,i=t.fill,a=t.bgFill,s=t.bgOpacity,l=function(e,t){var n=e.show,r=e.bgWidth,o=e.bgHeight,i=t.mouseXY,a=t.chartConfig,s=a.height,l=a.width,c=t.show;if(n&&c){var u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2),f=u[0],p=u[1],d=f<l/2?f+No:f-r-No,h=p<s/2?p+No:p-o-No;return{rect:{x:d,y:h,width:r,height:o},text:{text:e.text,x:d+5,y:h+o/2}}}}(Object.assign(Object.assign({},r.props),{bgWidth:r.getBgWidth(),bgHeight:r.getBgHeight()}),e);if(void 0!==l&&A(l)){var c=l.rect,u=l.text;return(0,m.jsxs)("g",{children:[(0,m.jsx)("rect",Object.assign({fill:a,fillOpacity:s,stroke:a},c)),(0,m.jsx)("text",Object.assign({ref:r.textNode,fontSize:o,fontFamily:n,textAnchor:"start",alignmentBaseline:"central",fill:i,x:u.x,y:u.y},{children:u.text}))]})}return null},r.getBgHeight=function(){var e=r.props.bgHeight,t=r.state.textHeight;return"auto"!==e?e:void 0!==t?t+No:10},r.getBgWidth=function(){var e=r.props.bgWidth,t=r.state.textWidth;return"auto"!==e?e:void 0!==t?t+No:10},r.updateTextSize=function(){var e=r.props,t=e.bgWidth,n=e.bgHeight;if("auto"===t||"auto"===n){var o=r.textNode.current;if(null!==o)try{var i=o.getBBox(),a=i.width,s=i.height,l=Math.abs((r.state.textWidth||0)-a)>.1,c=Math.abs((r.state.textHeight||0)-s)>.1;(l||c)&&r.setState({textWidth:a,textHeight:s})}catch(e){}}},r.state={textWidth:void 0,textHeight:void 0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(n,e),r=n,(o=[{key:"componentDidMount",value:function(){this.updateTextSize()}},{key:"componentDidUpdate",value:function(e){e.text===this.props.text&&e.fontSize===this.props.fontSize&&e.fontFamily===this.props.fontFamily&&e.bgWidth===this.props.bgWidth&&e.bgHeight===this.props.bgHeight||this.updateTextSize()}},{key:"render",value:function(){return this.props.text?(0,m.jsx)(io,{svgDraw:this.renderSVG,drawOn:["mousemove"]}):null}}])&&_o(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vo(r.key),r)}}function Vo(e){var t=function(e){if("object"!=Lo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lo(t)?t:t+""}function Bo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bo=function(){return!!e})()}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}function Uo(e,t){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uo(e,t)}Io.defaultProps={fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fill:"#000000",bgFill:"#FA9325",bgOpacity:.5};var Ho=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Wo(t),function(e,t){if(t&&("object"==Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bo()?Reflect.construct(t,n||[],Wo(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.props,o=r.strokeStyle,i=r.strokeWidth,a=r.fillStyle,s=r.r;t.lineWidth=i,t.fillStyle=a,t.strokeStyle=o;var l=Ro(e.helper(n),2),c=l[0],u=l[1];t.beginPath(),t.arc(c,u,s,0,2*Math.PI,!1),t.fill(),t.stroke()},e.isHover=function(t){var n=t.mouseXY,r=e.props.r+7,o=Ro(e.helper(t),2),i=o[0],a=o[1],s=Ro(n,2),l=s[0],c=s[1];return i-r<l&&l<i+r&&a-r<c&&c<a+r},e.helper=function(t){var n=e.props,r=n.xyProvider,o=n.cx,i=n.cy;if(void 0!==r)return r(t);var a=t.xScale,s=t.chartConfig.yScale;return[a(o),s(i)]},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uo(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.interactiveCursorClass,n=e.onDragStart,r=e.onDrag,o=e.onDragComplete;return e.show?(0,m.jsx)(io,{interactiveCursorClass:t,selected:!0,isHover:this.isHover,onDragStart:n,onDrag:r,onDragComplete:o,canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["pan","mousemove","drag"]}):null}}])&&zo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Go(r.key),r)}}function Go(e){var t=function(e){if("object"!=Yo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yo(t)?t:t+""}function Qo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qo=function(){return!!e})()}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(e)}function Ko(e,t){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ko(e,t)}Ho.defaultProps={className:"react-financial-charts-interactive-line-edge",show:!1};var Jo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Zo(t),function(e,t){if(t&&("object"==Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qo()?Reflect.construct(t,n||[],Zo(e).constructor):t.apply(e,n))}(this,t,[e])).handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.x1Value,s=r.y1Value,l=r.x2Value,c=r.y2Value,u=(r.type,n.checkIfHovered(t));console.log(" EachTrendLine clicked, index:",o,"isActuallyHovered:",u,"coords:",{start:[a,s],end:[l,c]}),i&&u&&i(e,[{index:o,start:[a,s],end:[l,c],x1Value:a,y1Value:s,x2Value:l,y2Value:c,selected:!0,type:n.props.type}],t)},n.handleEdge2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1Value,s=r.y1Value,l=Xo(ei(t),2);i(e,o,{x1Value:a,y1Value:s,x2Value:l[0],y2Value:l[1]})},n.handleEdge1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x2Value,s=r.y2Value,l=Xo(ei(t),2);i(e,o,{x1Value:l[0],y1Value:l[1],x2Value:a,y2Value:s})},n.handleDragComplete=function(e,t){console.log(" EachTrendLine handleDragComplete called"),n.setState({anchor:void 0});var r=n.props,o=r.onDragComplete,i=r.onSelect,a=r.index,s=r.x1Value,l=r.y1Value,c=r.x2Value,u=r.y2Value,f=r.type;if(void 0!==o&&o(e,t),void 0!==i){console.log("   Selecting line after drag, index:",a);var p=[{index:a,start:[s,l],end:[c,u],x1Value:s,y1Value:l,x2Value:c,y2Value:u,selected:!0,type:f}];setTimeout(function(){i(e,p,t)},50)}},n.handleEdge2DragStart=function(){n.setState({anchor:"edge1"})},n.handleEdge1DragStart=function(){n.setState({anchor:"edge2"})},n.handleLineDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.x1Value,l=a.y1Value,c=a.x2Value,u=a.y2Value,f=t.xScale,p=t.chartConfig.yScale,d=t.xAccessor,h=t.fullData,y=t.startPos,m=t.mouseXY,g=f(s),v=p(l),b=f(c),x=p(u),w=y[0]-m[0],S=y[1]-m[1];i(e,o,{x1Value:Mt(f,d,[g-w,v-S],h),y1Value:p.invert(v-S),x2Value:Mt(f,d,[b-w,x-S],h),y2Value:p.invert(x-S)})},n.handleLineDragStart=function(){var e=n.props,t=e.x1Value,r=e.y1Value,o=e.x2Value,i=e.y2Value;n.dragStart={x1Value:t,y1Value:r,x2Value:o,y2Value:i}},n.checkIfHovered=function(e){var t,r,o=n.props,i=o.x1Value,a=o.x2Value,s=o.y1Value,l=o.y2Value,c=(o.type,o.index),u=e.mouseXY,f=e.xScale,p=e.chartConfig.yScale,d=f(i),h=f(a),y=p(s),m=p(l),g=Xo(u,2),v=g[0],b=g[1],x=h-d,w=m-y,S=x*x+w*w,k=-1;0!==S&&(k=((v-d)*x+(b-y)*w)/S),k<0?(t=d,r=y):k>1?(t=h,r=m):(t=d+k*x,r=y+k*w);var E=v-t,C=b-r,O=Math.sqrt(E*E+C*C),P=O<=50;return console.log(" Line hover check:",{index:c,mouseXY:[v,b],lineScreenCoords:[[d,y],[h,m]],closestPoint:[t,r],distance:O.toFixed(1),tolerance:50,result:P}),P},n.isHover=W.bind(n),n.saveNodeType=V.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ko(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value,i=e.type,a=e.strokeStyle,s=e.strokeWidth,l=e.strokeDasharray,c=e.r,u=e.edgeStrokeWidth,f=e.edgeFill,p=e.edgeStroke,d=e.edgeInteractiveCursor,h=e.lineInteractiveCursor,y=e.hoverText,g=e.selected,v=(e.onDragComplete,y.enable),b=y.selectedText,x=y.text,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(y,["enable","selectedText","text"]),S=this.state,k=S.hover,E=S.anchor;return(0,m.jsxs)("g",{children:[(0,m.jsx)(yo,{ref:this.saveNodeType("line"),selected:g||k,onHover:this.handleHover,onUnHover:this.handleHover,onClick:this.handleClick,x1Value:t,y1Value:n,x2Value:r,y2Value:o,type:i,strokeStyle:a,strokeWidth:k||g?s+1:s,strokeDasharray:l,interactiveCursorClass:h,onDragStart:this.handleLineDragStart,onDrag:this.handleLineDrag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Ho,{ref:this.saveNodeType("edge1"),show:g||k,cx:t,cy:n,r:c,fillStyle:f,strokeStyle:"edge1"===E?a:p,strokeWidth:u,interactiveCursorClass:d,onDragStart:this.handleEdge1DragStart,onDrag:this.handleEdge1Drag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Ho,{ref:this.saveNodeType("edge2"),show:g||k,cx:r,cy:o,r:c,fillStyle:f,strokeStyle:"edge2"===E?a:p,strokeWidth:u,interactiveCursorClass:d,onDragStart:this.handleEdge2DragStart,onDrag:this.handleEdge2Drag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Io,Object.assign({show:v&&k},w,{text:g?b:x}))]})}}])&&$o(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ei(e){var t=e.xScale,n=e.chartConfig.yScale,r=e.xAccessor,o=e.plotData,i=e.mouseXY,a=i[1],s=Mt(t,r,i,o),l=Xo(n.domain().slice().sort(ee),2),c=l[0],u=l[1],f=n.invert(a);return[s,Math.min(Math.max(f,c),u)]}function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ri(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ii(r.key),r)}}function ii(e){var t=function(e){if("object"!=ti(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ti(t)?t:t+""}function ai(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ai=function(){return!!e})()}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}function li(e,t){return li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},li(e,t)}Jo.defaultProps={onDrag:R,onEdge1Drag:R,onEdge2Drag:R,onSelect:R,selected:!1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,strokeDasharray:"Solid",hoverText:{enable:!1}};var ci=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=si(t),function(e,t){if(t&&("object"==ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ai()?Reflect.construct(t,n||[],si(e).constructor):t.apply(e,n))}(this,t,arguments)).calculateTextWidth=!0,e.isHover=function(t){if(void 0!==e.props.onHover&&void 0!==e.textWidth&&!e.calculateTextWidth){var n=e.helper(t,e.textWidth).rect,r=ni(t.mouseXY,2),o=r[0],i=r[1];if(o>=n.x&&i>=n.y&&o<=n.x+n.width&&i<=n.y+n.height)return!0}return!1},e.drawOnCanvas=function(t,n){var r,o=e.props,i=o.bgFillStyle,a=o.bgStrokeWidth,s=o.bgStroke,l=o.textFill,c=o.fontFamily,u=o.fontSize,f=o.fontStyle,p=o.fontWeight,d=o.text;if(e.calculateTextWidth){t.font="".concat(f," ").concat(p," ").concat(u,"px ").concat(c);var h=t.measureText(d).width;e.textWidth=h,e.calculateTextWidth=!1}var y=e.props.selected,m=e.helper(n,null!==(r=e.textWidth)&&void 0!==r?r:0),g=m.x,v=m.y,b=m.rect;t.fillStyle=i,t.beginPath(),t.fillRect(b.x,b.y,b.width,b.height),y&&(t.strokeStyle=s,t.lineWidth=a,t.strokeRect(b.x,b.y,b.width,b.height)),t.fillStyle=l,t.textBaseline="middle",t.textAlign="center",t.font="".concat(f," ").concat(p," ").concat(u,"px ").concat(c),t.beginPath(),t.fillText(d,g,v)},e.helper=function(t,n){var r=e.props,o=r.position,i=r.fontSize,a=t.xScale,s=t.chartConfig.yScale,l=ni(o,2),c=l[0],u=l[1],f=a(c),p=s(u);return{x:f,y:p,rect:{x:f-n/2-i,y:p-i,width:n+2*i,height:2*i}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&li(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){this.calculateTextWidth=e.text!==this.props.text||e.fontStyle!==this.props.fontStyle||e.fontWeight!==this.props.fontWeight||e.fontSize!==this.props.fontSize||e.fontFamily!==this.props.fontFamily}},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,o=r.onHover,i=r.onUnHover,a=this.props,s=a.onDragStart,l=a.onDrag,c=a.onDragComplete;return(0,m.jsx)(io,{isHover:this.isHover,canvasToDraw:Hr,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:s,onDrag:l,onDragComplete:c,onHover:o,onUnHover:i,drawOn:["mousemove","mouseleave","pan","drag"]})}}])&&oi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ui(e){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(e)}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hi(r.key),r)}}function hi(e){var t=function(e){if("object"!=ui(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ui(t)?t:t+""}function yi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yi=function(){return!!e})()}function mi(e){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mi(e)}function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gi(e,t)}ci.defaultProps={type:"SD",fontWeight:"normal",tolerance:4,selected:!1};var vi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=mi(t),function(e,t){if(t&&("object"==ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yi()?Reflect.construct(t,n||[],mi(e).constructor):t.apply(e,n))}(this,t,[e])).handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag;if(void 0!==i){var a=fi(t.mouseXY,2)[1],s=t.chartConfig.yScale,l=t.xAccessor,c=t.mouseXY,u=t.plotData,f=t.xScale,p=n.dragStartPosition,d=p.dx,h=p.dy;i(e,o,[f.invert(f(Mt(f,l,c,u))-d),s.invert(a-h)])}},n.handleDragStart=function(e,t){var r=n.props.position,o=t.mouseXY,i=t.chartConfig.yScale,a=t.xScale,s=fi(o,2),l=s[0],c=s[1],u=fi(r,2),f=u[0],p=u[1],d=l-a(f),h=c-i(p);n.dragStartPosition={position:r,dx:d,dy:h}},n.handleHover=n.handleHover.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.isHover=W.bind(n),n.saveNodeType=V.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.position,n=e.bgFill,r=e.bgStroke,o=e.bgStrokeWidth,i=e.textFill,a=e.fontFamily,s=e.fontSize,l=e.fontWeight,c=e.fontStyle,u=e.text,f=e.hoverText,p=e.selected,d=e.onDragComplete,h=this.state.hover,y={onHover:this.handleHover,onUnHover:this.handleHover},g=f.enable,v=f.selectedText,b=f.text,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(f,["enable","selectedText","text"]);return(0,m.jsxs)("g",{children:[(0,m.jsx)(ci,Object.assign({ref:this.saveNodeType("text"),selected:p||h,interactiveCursorClass:"react-financial-charts-move-cursor"},y,{onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:d,position:t,bgFillStyle:n,bgStroke:r||i,bgStrokeWidth:o,textFill:i,fontFamily:a,fontStyle:c,fontWeight:l,fontSize:s,text:u})),(0,m.jsx)(Io,Object.assign({show:g&&h},x,{text:p?v:b}))]})}}])&&di(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Si(r.key),r)}}function Si(e){var t=function(e){if("object"!=bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bi(t)?t:t+""}function ki(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ki=function(){return!!e})()}function Ei(e){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ei(e)}function Ci(e,t){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ci(e,t)}vi.defaultProps={bgStrokeWidth:1,selected:!1,hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object"})};var Oi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Ei(t),function(e,t){if(t&&("object"==bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ki()?Reflect.construct(t,n||[],Ei(e).constructor):t.apply(e,n))}(this,t,[e])).handleDraw=function(e,t){if(n.props.enabled){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.mouseXY,2)[1],o=t.chartConfig.yScale,i=t.xAccessor,a=t.currentItem,s=n.props,l=s.defaultText,c=s.onChoosePosition;if(void 0!==c){var u=[i(a),o.invert(r)];c(e,Object.assign(Object.assign({},l),{position:u}),t)}}},n.handleDragComplete=function(e,t){var r=n.state.override;if(A(r)){var o=n.props.textList.map(function(e,t){var n=t===r.index;return n?Object.assign(Object.assign({},e),{position:r.position,selected:n}):Object.assign(Object.assign({},e),{selected:n})});n.setState({override:null},function(){var r=n.props.onDragComplete;void 0!==r&&r(e,o,t)})}},n.handleDrag=function(e,t,r){n.setState({override:{index:t,position:r}})},n.terminate=z.bind(n),n.saveNodeType=V.bind(n),n.getSelectionState=B("textList").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,n=this.props,r=n.textList,o=n.defaultText,i=n.hoverText,a=this.state.override;return(0,m.jsxs)("g",{children:[r.map(function(n,r){var s=t.defaultProps.hoverText,l=Object.assign(Object.assign(Object.assign({},o),n),{hoverText:Object.assign(Object.assign(Object.assign({},s),i),n.hoverText||{})});return(0,m.jsx)(vi,Object.assign({ref:e.saveNodeType(r),index:r},l,{selected:n.selected,position:F(a,r,"position",n.position),onDrag:e.handleDrag,onDragComplete:e.handleDragComplete,edgeInteractiveCursor:"react-financial-charts-move-cursor"}),r)}),(0,m.jsx)(io,{onClick:this.handleDraw,canvasToDraw:Hr,drawOn:["mousemove","pan"]})]})}}])&&wi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Pi(e){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(e)}function ji(e){return function(e){if(Array.isArray(e))return _i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ai(r.key),r)}}function Ai(e){var t=function(e){if("object"!=Pi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pi(t)?t:t+""}function Di(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Di=function(){return!!e})()}function Mi(e){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mi(e)}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}Oi.defaultProps={onSelect:R,defaultText:{bgFill:"#D3D3D3",bgOpacity:1,bgStrokeWidth:1,textFill:"#F10040",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Lorem ipsum..."},hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),textList:[]},Oi.contextType=Xr;var Ii=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Mi(t),function(e,t){if(t&&("object"==Pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Di()?Reflect.construct(t,n||[],Mi(e).constructor):t.apply(e,n))}(this,t,[e])).handleEnd=function(e,t,r){var o=n.state.current,i=n.props,a=i.trends,s=i.appearance,l=i.type;if(console.log(" TrendLine handleEnd called",{current:o,xyValue:t,mouseMoved:n.mouseMoved}),A(o)&&A(o.start)){var c=o.start[0],u=o.start[1],f=t[0],p=t[1],d=Math.abs(c-f)>1||Math.abs(u-p)>1;if(console.log("   Distance check:",{startX:c,startY:u,endX:f,endY:p,differentPosition:d,mouseMoved:n.mouseMoved}),n.mouseMoved||d){console.log("   Completing trendline!");var h=n.generateElementId(),y={id:h,start:o.start,end:t,selected:!0,appearance:s,type:l},m=[].concat(ji((a||[]).map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[y]);n.setState({current:null,trends:m},function(){var i=n.props,a=i.onComplete,l=i.onMCPCreate;l&&(console.log("   Emitting MCP create event for trendline:",h),l("trendline",{start:o.start,end:t,id:h},s)),void 0!==a&&a(e,m,r)})}else console.log("   Not completing - no movement detected")}else console.log("   Not completing - no current state or start point")},n.handleStart=function(e,t,r){var o=n.state.current;console.log(" TrendLine handleStart called, current:",o),D(o)||D(o.start)?(console.log("   Setting mouseMoved = false (resetting)"),n.mouseMoved=!1,n.setState({current:{start:t,end:null}},function(){var t=n.props.onStart;void 0!==t&&t(e,r)})):console.log("   handleStart condition not met, NOT resetting mouseMoved (current value:",n.mouseMoved,")")},n.handleDrawLine=function(e,t){var r=n.state.current;A(r)&&A(r.start)&&(n.mouseMoved=!0,n.setState({current:{start:r.start,end:t}}))},n.handleDragLineComplete=function(e,t){console.log(" handleDragLineComplete called");var r=n.state.override;if(console.log("  Override state:",r),A(r)){var o=n.props,i=o.trends,a=o.mcpElements,s=[].concat(ji(i||[]),ji(n.convertMCPElementsToTrends(a,n.props.appearance)))[r.index],l=(i||[]).map(function(e,t){return t===r.index?Object.assign(Object.assign({},e),{start:[r.x1Value,r.y1Value],end:[r.x2Value,r.y2Value],selected:!0}):Object.assign(Object.assign({},e),{selected:!1})});console.log("   Setting dragged line as selected, index:",r.index),n.setState({override:null},function(){var o=n.props,i=o.onComplete,a=o.onMCPModify;a&&s&&s.isMCPElement&&(console.log("   Emitting MCP modify event for trendline:",s.id),a(s.id,{start:[r.x1Value,r.y1Value],end:[r.x2Value,r.y2Value]})),void 0!==i&&i(e,l,t)})}},n.handleDragLine=function(e,t,r){console.log(" handleDragLine called, index:",t,"new position:",r),n.setState({override:Object.assign({index:t},r)})},n.terminate=z.bind(n),n.saveNodeType=V.bind(n),n.getSelectionState=B("trends").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ni(e,t)}(t,e),n=t,(r=[{key:"convertMCPElementsToTrends",value:function(e,t){if(console.log(" convertMCPElementsToTrends called with:",{mcpElements:e,appearance:t}),!e)return console.log("   No mcpElements provided, returning []"),[];console.log("   MCP Elements before filtering:",e.length,e);var n=e.filter(function(e){return"trendline"===e.type});console.log("   After filtering for trendlines:",n.length,n);var r=n.map(function(e){return{id:e.id,start:e.data.start,end:e.data.end,appearance:e.appearance||t,type:"LINE",selected:e.selected||!1,isMCPElement:!0}});return console.log("   Converted trends:",r.length,r),r}},{key:"convertMCPElementsToLabels",value:function(e){if(!e)return[];var t=e.filter(function(e){return"label"===e.type});console.log("   MCP Labels found:",t.length,t);var n=t.map(function(e){var t,n,r,o,i;return{id:e.id,position:e.data.position,text:e.data.text,bgFill:(null===(t=e.appearance)||void 0===t?void 0:t.bgFill)||"#D3D3D3",bgStroke:(null===(n=e.appearance)||void 0===n?void 0:n.bgStroke)||"#000000",textFill:(null===(r=e.appearance)||void 0===r?void 0:r.textFill)||"#F10040",fontSize:(null===(o=e.appearance)||void 0===o?void 0:o.fontSize)||12,fontWeight:(null===(i=e.appearance)||void 0===i?void 0:i.fontWeight)||"normal",selected:e.selected||!1,isMCPElement:!0}});return console.log("   Converted labels:",n.length,n),n}},{key:"generateElementId",value:function(){return"trendline_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.currentPositionstrokeOpacity,i=n.currentPositionRadius,a=void 0===i?t.defaultProps.currentPositionRadius:i,s=n.currentPositionStroke,l=n.currentPositionStrokeWidth,c=n.enabled,u=n.hoverText,f=n.shouldDisableSnap,p=n.snap,d=n.snapTo,h=n.trends,y=n.type,g=n.mcpElements,v=this.state,b=v.current,x=v.override;console.log(" TrendLine render props:",{mcpElements:g,mcpElementsType:Pi(g),mcpElementsLength:null==g?void 0:g.length}),console.log(" DEBUG: About to call convertMCPElementsToTrends with mcpElements:",g);var w=this.convertMCPElementsToTrends(g,r),S=this.convertMCPElementsToLabels(g);console.log(" DEBUG: After conversion - mcpTrends:",w.length,"mcpLabels:",S.length);var k=[].concat(ji(h||[]),ji(w));console.log(" TrendLine render:",{enabled:c,regularTrends:(h||[]).length,mcpTrends:w.length,mcpLabels:S.length,totalTrends:k.length});var E=A(b)&&A(b.end)?(0,m.jsx)(yo,{type:y,x1Value:b.start[0],y1Value:b.start[1],x2Value:b.end[0],y2Value:b.end[1],strokeStyle:r.strokeStyle,strokeWidth:r.strokeWidth}):null;return(0,m.jsxs)("g",{children:[k.map(function(n,o){var i=A(n.appearance)?Object.assign(Object.assign({},r),n.appearance):r,a=Object.assign(Object.assign({},t.defaultProps.hoverText),u);return(0,m.jsx)(Jo,{ref:e.saveNodeType(o),index:o,type:n.type,selected:n.selected,x1Value:F(x,o,"x1Value",n.start[0]),y1Value:F(x,o,"y1Value",n.start[1]),x2Value:F(x,o,"x2Value",n.end[0]),y2Value:F(x,o,"y2Value",n.end[1]),strokeStyle:i.strokeStyle,strokeWidth:i.strokeWidth,strokeOpacity:i.strokeOpacity,strokeDasharray:i.strokeDasharray,edgeStroke:i.edgeStroke,edgeFill:i.edgeFill,edgeStrokeWidth:i.edgeStrokeWidth,r:i.r,hoverText:a,onSelect:e.props.onSelect,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-financial-charts-move-cursor",lineInteractiveCursor:"react-financial-charts-move-cursor"},o)}),E,c&&(0,m.jsx)(Oo,{enabled:c,snap:p,shouldDisableSnap:f,snapTo:d,r:a,stroke:s,opacity:o,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine}),S.length>0&&(0,m.jsx)(Oi,{enabled:!1,onChoosePosition:R,textList:S,defaultText:{bgFill:"#D3D3D3",bgOpacity:.9,bgStrokeWidth:1,bgStroke:"#000000",textFill:"#F10040",fontFamily:'-apple-system, system-ui, Roboto, "Helvetica Neue", Ubuntu, sans-serif',fontWeight:"normal",fontStyle:"normal",fontSize:12,text:"Label"},hoverText:{}})]})}}])&&Ti(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function Ri(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ri=function(){return!!e})()}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}function zi(e,t){return zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zi(e,t)}Ii.defaultProps={type:"XLINE",onStart:R,onSelect:R,currentPositionStroke:"#000000",currentPositionstrokeOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:0,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),trends:[],appearance:{strokeStyle:"#000000",strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var Vi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Fi(t),function(e,t){if(t&&("object"==Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ri()?Reflect.construct(t,n||[],Fi(e).constructor):t.apply(e,n))}(this,t,[e])).handleDragComplete=function(e,t){var r=n.state.override;if(r){var o=n.updateItemsAfterDrag(r);n.setState({override:null},function(){var r=n.props.onComplete;void 0!==r&&r(e,o,t)})}},n.handleDrag=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.terminate=z.bind(n),n.saveNodeType=V.bind(n),n.getSelectionState=B(n.getInteractiveType()).bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zi(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(t.Component);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hi(r.key),r)}}function Hi(e){var t=function(e){if("object"!=Bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bi(t)?t:t+""}function Yi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yi=function(){return!!e})()}function Xi(e){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xi(e)}function qi(e,t){return qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qi(e,t)}Vi.defaultProps={onStart:R,onSelect:R,currentPositionStroke:"#000000",currentPositionstrokeOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:0,hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),appearance:{strokeStyle:"#000000",strokeWidth:1,edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000"}};var $i=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Xi(t),function(e,t){if(t&&("object"==Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yi()?Reflect.construct(t,n||[],Xi(e).constructor):t.apply(e,n))}(this,t,arguments)).handleStart=function(t,n,r){var o=e.state.current;(D(o)||D(o.start))&&(e.mouseMoved=!1,e.setState({current:{start:n,end:null}},function(){var n=e.props.onStart;void 0!==n&&n(t,r)}))},e.handleEnd=function(t,n,r){var o=e.state.current,i=e.props.trends||e.props.lines||[],a=e.props,s=a.appearance,l=a.type;if(A(o)&&A(o.start)){var c=e.applyConstraints(o.start,n),u=[].concat(function(e){return function(e){if(Array.isArray(e))return Wi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[{start:o.start,end:c,selected:!0,appearance:s,type:l}]);e.setState({current:null},function(){var n=e.props.onComplete;void 0!==n&&n(t,u,r)})}},e.handleDrawLine=function(t,n){var r=e.state.current;if(A(r)&&A(r.start)){e.mouseMoved=!0;var o=e.applyConstraints(r.start,n);e.setState({current:{start:r.start,end:o}})}},e.handleLineClick=function(t,n,r){console.log(" Line clicked, index:",n);var o=e.props.trends||e.props.lines||[],i=e.props.onSelect;i&&i(t,[{index:n,start:o[n].start,end:o[n].end,selected:!0}],r)},e.handleControlPointDragStart=function(t,n){t.stopPropagation(),console.log(" Control point drag start, index:",n);var r=e.props.lines;if(r&&r[n]){var o=r[n],i=function(r){var i,a=null===(i=t.target.closest("svg"))||void 0===i?void 0:i.getBoundingClientRect();if(a){var s=r.clientX-a.left,l=r.clientY-a.top,c=e.applyConstraints(o.start,[s,l]);e.setState({override:{index:n,x1Value:c[0],y1Value:c[1],x2Value:c[0],y2Value:c[1]}})}},a=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a),e.handleDragComplete(t,{})};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)}},e.handleDragLine=function(t,n,r){e.props.trends||e.props.lines,void 0!==n&&("object"===Bi(r)&&null!==r&&("x1Value"in r||"y1Value"in r||"x2Value"in r||"y2Value"in r)?(console.log(" Line drag with coordinates, index:",n,"coords:",{x1:r.x1Value,y1:r.y1Value,x2:r.x2Value,y2:r.y2Value}),e.setState({override:{index:n,x1Value:r.x1Value,y1Value:r.y1Value,x2Value:r.x2Value,y2Value:r.y2Value}})):(console.log(" Line drag (legacy), index:",n),e.setState({override:{index:n}})))},e.handleDragLineComplete=function(t,n){console.log(" Line drag complete"),e.handleDragComplete(t,n)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(t,e),n=t,r=[{key:"getInteractiveType",value:function(){return"lines"}},{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.currentPositionstrokeOpacity,i=n.currentPositionRadius,a=void 0===i?t.defaultProps.currentPositionRadius:i,s=n.currentPositionStroke,l=n.currentPositionStrokeWidth,c=n.enabled,u=n.hoverText,f=n.shouldDisableSnap,p=n.snap,d=n.snapTo,h=n.lines,y=n.trends,g=n.type,v=this.state,b=v.current,x=v.override,w=y||h||[],S=A(b)&&A(b.end)?(0,m.jsx)(yo,{type:g||"LINE",x1Value:b.start[0],y1Value:b.start[1],x2Value:b.end[0],y2Value:b.end[1],strokeStyle:r.strokeStyle,strokeWidth:r.strokeWidth}):null;return(0,m.jsxs)("g",{children:[w.map(function(t,n){return e.renderLineItem(t,n,x,r,u)}),S,c&&(0,m.jsx)(Oo,{enabled:c,snap:p||!1,shouldDisableSnap:f,snapTo:d,r:a,stroke:s,opacity:o,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine})]})}},{key:"renderLineItem",value:function(e,t,n,r,o){var i=this,a=(e.start[0]+e.end[0])/2,s=(e.start[1]+e.end[1])/2;return(0,m.jsxs)("g",{children:[(0,m.jsx)(yo,{type:e.type||this.props.type,x1Value:e.start[0],y1Value:e.start[1],x2Value:e.end[0],y2Value:e.end[1],strokeStyle:r.strokeStyle,strokeWidth:r.strokeWidth,strokeDasharray:r.strokeDasharray,onClick:function(e,n){return i.handleLineClick(e,t,n)},selected:e.selected,tolerance:10,interactiveCursorClass:"react-financial-charts-move-cursor"}),e.selected&&(0,m.jsx)("circle",{cx:a,cy:s,r:r.r,fill:r.edgeFill,stroke:r.edgeStroke,strokeWidth:r.edgeStrokeWidth,style:{cursor:"move"},onMouseDown:function(e){return i.handleControlPointDragStart(e,t)}})]},t)}},{key:"applyConstraints",value:function(e,t){return t}},{key:"updateItemsAfterDrag",value:function(e){return(this.props.trends||this.props.lines||[]).map(function(t,n){return n===e.index?Object.assign(Object.assign({},t),{start:[e.x1Value,e.y1Value],end:[e.x2Value,e.y2Value],selected:!0}):Object.assign(Object.assign({},t),{selected:!1})})}}],r&&Ui(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Vi);function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ki(r.key),r)}}function Ki(e){var t=function(e){if("object"!=Gi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gi(t)?t:t+""}function Ji(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ji=function(){return!!e})()}function ea(e){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ea(e)}function ta(e,t){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ta(e,t)}$i.defaultProps=Object.assign(Object.assign({},Vi.defaultProps),{type:"XLINE",snap:!1,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},lines:[],appearance:Object.assign(Object.assign({},Vi.defaultProps.appearance),{strokeDasharray:"Solid",r:6})});var na=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=ea(t),function(e,t){if(t&&("object"==Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ji()?Reflect.construct(t,n||[],ea(e).constructor):t.apply(e,n))}(this,t,arguments)).handleEnd=function(t,n,r){var o=e.state.current,i=e.props,a=i.lines,s=i.appearance;if(o&&o.start){var l=o.start[0],c=o.start[1],u=[].concat(function(e){return function(e){if(Array.isArray(e))return Qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[{start:[l,c],end:[l,c+1],selected:!0,appearance:s,type:"XLINE"}]);e.setState({current:null,lines:u},function(){var n=e.props.onComplete;void 0!==n&&n(t,u,r)})}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}(t,e),n=t,r=[{key:"getInteractiveType",value:function(){return"verticalLines"}},{key:"applyConstraints",value:function(e,t){return e&&t?[e[0],t[1]]:t}},{key:"renderLineItem",value:function(e,t,n,r,o){var i=e.start[0],a=Math.min(e.start[1],e.end[1]),s=Math.max(e.start[1],e.end[1]),l=(a+s)/2;return(0,m.jsxs)("g",{children:[(0,m.jsx)(yo,{type:e.type||"XLINE",x1Value:i,y1Value:a,x2Value:i,y2Value:s,strokeStyle:r.strokeStyle,strokeWidth:r.strokeWidth,strokeDasharray:r.strokeDasharray}),e.selected&&(0,m.jsx)("circle",{cx:i,cy:l,r:r.r,fill:r.edgeFill,stroke:r.edgeStroke,strokeWidth:r.edgeStrokeWidth,style:{cursor:"ns-resize"}})]},t)}}],r&&Zi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}($i);function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sa(r.key),r)}}function sa(e){var t=function(e){if("object"!=ra(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ra(t)?t:t+""}function la(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(la=function(){return!!e})()}function ca(){return ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ua(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ca.apply(null,arguments)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function fa(e,t){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fa(e,t)}na.defaultProps=Object.assign(Object.assign({},$i.defaultProps),{type:"XLINE",hoverText:Object.assign(Object.assign({},$i.defaultProps.hoverText),{text:"Click to place vertical line"})});var pa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=ua(t),function(e,t){if(t&&("object"==ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,la()?Reflect.construct(t,n||[],ua(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}(t,e),n=t,r=[{key:"getInteractiveType",value:function(){return"infoLines"}},{key:"getLineInfo",value:function(e){var t=oa(e.start,2),n=t[0],r=t[1],o=oa(e.end,2),i=o[0],a=o[1],s=i-n,l=a-r,c=a-r;return{distance:Math.sqrt(s*s+l*l),priceChange:c,percentChange:0!==r?c/r*100:0,startPrice:r,endPrice:a}}},{key:"render",value:function(){var e,n,r,o=this,i=(e=t,n=this,"function"==typeof(r=ca(ua(1&3?e.prototype:e),"render",n))?function(e){return r.apply(n,e)}:r)([]),a=this.props.trends,s=(void 0===a?[]:a).filter(function(e){return e.selected}).map(function(e,t){return o.renderInfoOverlay(e,t)});return(0,m.jsxs)("g",{children:[i,s]})}},{key:"renderInfoOverlay",value:function(e,t){var n=this.getLineInfo(e),r=(e.start[0]+e.end[0])/2,o=(e.start[1]+e.end[1])/2,i=this.props.appearance;return(0,m.jsxs)("g",{children:[(0,m.jsx)("rect",{x:r-80,y:o-50,width:160,height:80,fill:"rgba(0, 0, 0, 0.9)",stroke:(null==i?void 0:i.strokeStyle)||"#607d8b",strokeWidth:1,rx:5}),(0,m.jsx)("text",Object.assign({x:r,y:o-30,fill:"white",fontSize:12,textAnchor:"middle",fontWeight:"bold"},{children:" Price Analysis"})),(0,m.jsxs)("text",Object.assign({x:r,y:o-10,fill:"white",fontSize:11,textAnchor:"middle"},{children:["Change: ",n.priceChange>0?"+":"",n.priceChange.toFixed(2)]})),(0,m.jsxs)("text",Object.assign({x:r,y:o+5,fill:n.percentChange>=0?"#4CAF50":"#F44336",fontSize:11,textAnchor:"middle",fontWeight:"bold"},{children:[n.percentChange>0?"+":"",n.percentChange.toFixed(2),"%"]})),(0,m.jsxs)("text",Object.assign({x:r,y:o+20,fill:"#ccc",fontSize:9,textAnchor:"middle"},{children:[n.startPrice.toFixed(2),"  ",n.endPrice.toFixed(2)]})),(0,m.jsxs)("text",Object.assign({x:r,y:o+35,fill:"#999",fontSize:9,textAnchor:"middle"},{children:["Distance: ",n.distance.toFixed(1)]}))]},"info-overlay-".concat(t))}}],r&&aa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Ii);pa.defaultProps=Object.assign(Object.assign({},Ii.defaultProps),{type:"LINE",hoverText:Object.assign(Object.assign({},Ii.defaultProps.hoverText),{text:"Click and drag to draw info line with price/date details"})});var da=new Date,ha=new Date;function ya(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return ya(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return da.setTime(+t),ha.setTime(+r),e(da),e(ha),Math.floor(n(da,ha))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}const ma=864e5,ga=6048e5;function va(e){return ya(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/ga})}var ba=va(0),xa=va(1),wa=va(2),Sa=va(3),ka=va(4),Ea=va(5),Ca=va(6),Oa=(ba.range,xa.range,wa.range,Sa.range,ka.range,Ea.range,Ca.range,ya(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/ma},function(e){return e.getUTCDate()-1}));const Pa=Oa;function ja(e){return ya(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/ga})}Oa.range;var _a=ja(0),Ta=ja(1),Aa=ja(2),Da=ja(3),Ma=ja(4),Na=ja(5),Ia=ja(6),La=(_a.range,Ta.range,Aa.range,Da.range,Ma.range,Na.range,Ia.range,ya(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/ma,e=>e.getDate()-1));const Ra=La;La.range;var Fa=ya(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Fa.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ya(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const za=Fa;Fa.range;var Va=ya(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Va.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ya(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const Ba=Va;function Wa(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ua(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ha(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}Va.range;var Ya,Xa,qa={"-":"",_:" ",0:"0"},$a=/^\s*\d+/,Ga=/^%/,Qa=/[\\^$*+?|[\]().{}]/g;function Za(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Ka(e){return e.replace(Qa,"\\$&")}function Ja(e){return new RegExp("^(?:"+e.map(Ka).join("|")+")","i")}function es(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ts(e,t,n){var r=$a.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ns(e,t,n){var r=$a.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rs(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function os(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function is(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function as(e,t,n){var r=$a.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ss(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ls(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cs(e,t,n){var r=$a.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function us(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fs(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ps(e,t,n){var r=$a.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ds(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hs(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ys(e,t,n){var r=$a.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ms(e,t,n){var r=$a.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gs(e,t,n){var r=$a.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vs(e,t,n){var r=Ga.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bs(e,t,n){var r=$a.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xs(e,t,n){var r=$a.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ws(e,t){return Za(e.getDate(),t,2)}function Ss(e,t){return Za(e.getHours(),t,2)}function ks(e,t){return Za(e.getHours()%12||12,t,2)}function Es(e,t){return Za(1+Ra.count(za(e),e),t,3)}function Cs(e,t){return Za(e.getMilliseconds(),t,3)}function Os(e,t){return Cs(e,t)+"000"}function Ps(e,t){return Za(e.getMonth()+1,t,2)}function js(e,t){return Za(e.getMinutes(),t,2)}function _s(e,t){return Za(e.getSeconds(),t,2)}function Ts(e){var t=e.getDay();return 0===t?7:t}function As(e,t){return Za(_a.count(za(e)-1,e),t,2)}function Ds(e){var t=e.getDay();return t>=4||0===t?Ma(e):Ma.ceil(e)}function Ms(e,t){return e=Ds(e),Za(Ma.count(za(e),e)+(4===za(e).getDay()),t,2)}function Ns(e){return e.getDay()}function Is(e,t){return Za(Ta.count(za(e)-1,e),t,2)}function Ls(e,t){return Za(e.getFullYear()%100,t,2)}function Rs(e,t){return Za((e=Ds(e)).getFullYear()%100,t,2)}function Fs(e,t){return Za(e.getFullYear()%1e4,t,4)}function zs(e,t){var n=e.getDay();return Za((e=n>=4||0===n?Ma(e):Ma.ceil(e)).getFullYear()%1e4,t,4)}function Vs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Za(t/60|0,"0",2)+Za(t%60,"0",2)}function Bs(e,t){return Za(e.getUTCDate(),t,2)}function Ws(e,t){return Za(e.getUTCHours(),t,2)}function Us(e,t){return Za(e.getUTCHours()%12||12,t,2)}function Hs(e,t){return Za(1+Pa.count(Ba(e),e),t,3)}function Ys(e,t){return Za(e.getUTCMilliseconds(),t,3)}function Xs(e,t){return Ys(e,t)+"000"}function qs(e,t){return Za(e.getUTCMonth()+1,t,2)}function $s(e,t){return Za(e.getUTCMinutes(),t,2)}function Gs(e,t){return Za(e.getUTCSeconds(),t,2)}function Qs(e){var t=e.getUTCDay();return 0===t?7:t}function Zs(e,t){return Za(ba.count(Ba(e)-1,e),t,2)}function Ks(e){var t=e.getUTCDay();return t>=4||0===t?ka(e):ka.ceil(e)}function Js(e,t){return e=Ks(e),Za(ka.count(Ba(e),e)+(4===Ba(e).getUTCDay()),t,2)}function el(e){return e.getUTCDay()}function tl(e,t){return Za(xa.count(Ba(e)-1,e),t,2)}function nl(e,t){return Za(e.getUTCFullYear()%100,t,2)}function rl(e,t){return Za((e=Ks(e)).getUTCFullYear()%100,t,2)}function ol(e,t){return Za(e.getUTCFullYear()%1e4,t,4)}function il(e,t){var n=e.getUTCDay();return Za((e=n>=4||0===n?ka(e):ka.ceil(e)).getUTCFullYear()%1e4,t,4)}function al(){return"+0000"}function sl(){return"%"}function ll(e){return+e}function cl(e){return Math.floor(+e/1e3)}function ul(e){return Ya=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Ja(o),u=es(o),f=Ja(i),p=es(i),d=Ja(a),h=es(a),y=Ja(s),m=es(s),g=Ja(l),v=es(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ws,e:ws,f:Os,g:Rs,G:zs,H:Ss,I:ks,j:Es,L:Cs,m:Ps,M:js,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ll,s:cl,S:_s,u:Ts,U:As,V:Ms,w:Ns,W:Is,x:null,X:null,y:Ls,Y:Fs,Z:Vs,"%":sl},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Bs,e:Bs,f:Xs,g:rl,G:il,H:Ws,I:Us,j:Hs,L:Ys,m:qs,M:$s,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ll,s:cl,S:Gs,u:Qs,U:Zs,V:Js,w:el,W:tl,x:null,X:null,y:nl,Y:ol,Z:al,"%":sl},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:fs,e:fs,f:gs,g:ss,G:as,H:ds,I:ds,j:ps,L:ms,m:us,M:hs,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:cs,Q:bs,s:xs,S:ys,u:ns,U:rs,V:os,w:ts,W:is,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:ss,Y:as,Z:ls,"%":vs};function S(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=qa[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,o,i=Ha(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Ua(Ha(i.y,0,1))).getUTCDay(),r=o>4||0===o?xa.ceil(r):xa(r),r=Pa.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Wa(Ha(i.y,0,1))).getDay(),r=o>4||0===o?Ta.ceil(r):Ta(r),r=Ra.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Ua(Ha(i.y,0,1)).getUTCDay():Wa(Ha(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ua(i)):Wa(i)}}function E(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in qa?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),Xa=Ya.format,Ya.parse,Ya.utcFormat,Ya.utcParse,Ya}ul({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fl={yearFormat:"%Y",quarterFormat:"%b",monthFormat:"%b",weekFormat:"%e",dayFormat:"%e",hourFormat:"%H:%M",minuteFormat:"%H:%M",secondFormat:"%H:%M:%S",milliSecondFormat:".%L"},pl=[function(e,t,n){return e.startOfYear&&t.getFullYear()%12==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%4==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%2==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&"yearFormat"},function(e,t,n){return e.startOfQuarter&&"quarterFormat"},function(e,t,n){return e.startOfMonth&&"monthFormat"},function(e,t,n){return e.startOfWeek&&"weekFormat"},function(e,t,n){return e.startOfDay&&n%2==0&&"dayFormat"},function(e,t,n){return e.startOfDay&&"dayFormat"},function(e,t,n){return e.startOfHalfDay&&"hourFormat"},function(e,t,n){return e.startOfQuarterDay&&"hourFormat"},function(e,t,n){return e.startOfEighthOfADay&&"hourFormat"},function(e,t,n){return e.startOfHour&&t.getHours()%2==0&&"hourFormat"},function(e,t,n){return e.startOfHour&&"hourFormat"},function(e,t,n){return e.startOf30Minutes&&"minuteFormat"},function(e,t,n){return e.startOf15Minutes&&"minuteFormat"},function(e,t,n){return e.startOf5Minutes&&"minuteFormat"},function(e,t,n){return e.startOfMinute&&"minuteFormat"},function(e,t,n){return e.startOf30Seconds&&"secondFormat"},function(e,t,n){return e.startOf15Seconds&&"secondFormat"},function(e,t,n){return e.startOf5Seconds&&"secondFormat"},function(e,t,n){return e.startOfSecond&&"secondFormat"},function(e,t,n){return"milliSecondFormat"}];function dl(e,t){if(e){if("string"==typeof e)return hl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hl(e,t):void 0}}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yl=pl.length-1;function ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt();if(void 0===e)throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");function n(e){return t(e)}return n.invert=function(e){var n=t.invert(e);return Math.round(1e4*n)/1e4},n.domain=function(e){return void 0===e?t.domain():(t.domain(e),n)},n.range=function(e){return void 0===e?t.range():(t.range(e),n)},n.rangeRound=function(e){return t.rangeRound(e)},n.clamp=function(e){return void 0===e?t.clamp():(t.clamp(e),n)},n.interpolate=function(e){return void 0===e?t.interpolate():(t.interpolate(e),n)},n.ticks=function(n){for(var r,o,i,a=t.ticks(n),s=new Map,l=(x=t.domain(),w=2,function(e){if(Array.isArray(e))return e}(x)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(x,w)||dl(x,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],f=Math.ceil(c),p=null===(r=e[0])||void 0===r?void 0:r.index,d=Math.max(f,p)+Math.abs(p),h=Math.min(Math.floor(u),null===(o=e[e.length-1])||void 0===o?void 0:o.index)+Math.abs(p),y=Math.ceil((h-d)/(u-c)*a.length),m=yl;m>=0;m--){for(var g=s.get(m),v=void 0===g?[]:g.slice(),b=d;b<=h;b++)e[b].level===m&&v.push(e[b]);s.set(m,v)}for(var x,w,S=[],k=yl;k>=0;k--){var E=null!==(i=s.get(k))&&void 0!==i?i:[];if(E.length+S.length>1.5*y)break;S=S.concat(E.map(function(e){return e.index}))}var C=S.sort(ee);if(h-d>C.length){for(var O=new Set(C),P=Math.abs(e[0].index),j=Math.ceil(1.5*(a.length>0?(a[a.length-1]-a[0])/a.length/4:1)),_=0;_<C.length-1;_++)for(var T=_+1;T<C.length;T++)C[T]-C[_]<=j&&O.delete(e[C[_]+P].level>=e[C[T]+P].level?C[T]:C[_]);var A=function(e){return function(e){if(Array.isArray(e))return hl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(O.values()).map(function(e){return parseInt(e,10)});return A}return C},n.tickFormat=function(){return function(t){var n=Math.abs(e[0].index),r=e[Math.floor(t+n)];return(0,r.format)(r.date)}},n.value=function(t){var n=Math.abs(e[0].index),r=e[Math.floor(t+n)];if(void 0!==r)return r.date},n.nice=function(e){return t.nice(e),n},n.index=function(t){return void 0===t?e:(e=t,n)},n.copy=function(){return ml(e,t.copy())},n}function gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vl=function(e,t,n,r){return pl.map(function(o,i){return{level:pl.length-i-1,format:r[o(e,t,n)]}}).find(function(e){return!!e.format})},bl=function(){var e,t,n,r,o=arguments,i=this,a=10,s=R,l=0,c=function(c){var u=n||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return A(e)?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}}(t),f=b(a).apply(i,o),p=c.slice(l,f+l).map(u),d=0,h=b(e);return c.map(function(e,t){return t<l+f-1?h(u(e),t,r):(t>=l+f&&(p.shift(),p.push(u(e,t))),s(p,t,d++,r))})};return c.undefinedValue=function(t){return arguments.length?(e=t,c):e},c.windowSize=function(e){return arguments.length?(a=e,c):a},c.misc=function(e){return arguments.length?(r=e,c):r},c.accumulator=function(e){return arguments.length?(s=e,c):s},c.skipInitial=function(e){return arguments.length?(l=e,c):l},c.sourcePath=function(e){return arguments.length?(t=e,c):t},c.source=function(e){return arguments.length?(n=e,c):n},c}().windowSize(2).undefinedValue(function(e,t,n){var r=n.initialIndex,o=n.formatters,i=r,a={date:e.getTime(),startOfSecond:!1,startOf5Seconds:!1,startOf15Seconds:!1,startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},s=vl(a,e,i,o);return Object.assign(Object.assign(Object.assign({},a),{index:i}),s)}),xl=bl.accumulator(function(e,t,n,r){var o,i,a=(i=2,function(e){if(Array.isArray(e))return e}(o=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(e,t){if(e){if("string"==typeof e)return gl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gl(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],c=r.initialIndex,u=r.formatters,f=l.getSeconds(),p=l.getMinutes(),d=l.getHours(),h=l.getDay(),y=l.getMonth(),m=f!==s.getSeconds(),g=m&&f%5==0,v=m&&f%15==0,b=m&&f%30==0,x=p!==s.getMinutes(),w=x&&p%5<=s.getMinutes()%5,S=x&&p%15<=s.getMinutes()%15,k=x&&p%30<=s.getMinutes()%30,E=d!==s.getHours(),C=E&&d%3==0,O=E&&d%6==0,P=E&&d%12==0,j=h!==s.getDay(),_=h<s.getDay(),T=y!==s.getMonth(),A=T&&y%3<=s.getMonth()%3,D=l.getFullYear()!==s.getFullYear(),M={date:l.getTime(),startOfSecond:m,startOf5Seconds:g,startOf15Seconds:v,startOf30Seconds:b,startOfMinute:x,startOf5Minutes:w,startOf15Minutes:S,startOf30Minutes:k,startOfHour:E,startOfEighthOfADay:C,startOfQuarterDay:O,startOfHalfDay:P,startOfDay:j,startOfWeek:_,startOfMonth:T,startOfQuarter:A,startOfYear:D},N=vl(M,l,t,u);return Object.assign(Object.assign(Object.assign({},M),{index:t+c}),N)});function wl(e,t,n,r){return function(o){var i=e(t),a=xl.source(i).misc({initialIndex:n,formatters:r})(o).map(function(e){var t=e.format;return{index:e.index,level:e.level,date:new Date(e.date),format:Xa(t)}});return{index:a}}}function Sl(){var e,t=0,n=function(e){return e},r=function(e){return e.date},o=function(e){return e.idx},i=function(e,t){return Object.assign(Object.assign({},e),{idx:t})},a=fl,s=function(s){var l=e;void 0===l&&(l=wl(n,r,t,a)(s).index);var c=l,u=ml(c);return{data:wt().combine(i)(s,c),xScale:u,xAccessor:function(e){var t;return e&&(null===(t=o(e))||void 0===t?void 0:t.index)},displayXAccessor:n(r)}};return s.initialIndex=function(e){return arguments.length?(t=e,s):t},s.inputDateAccessor=function(e){return arguments.length?(r=e,s):r},s.indexAccessor=function(e){return arguments.length?(o=e,s):o},s.indexMutator=function(e){return arguments.length?(i=e,s):i},s.withIndex=function(t){return arguments.length?(e=t,s):e},s.utc=function(){return n=function(e){return function(t){var n=e(t),r=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+r)}},s},s.setLocale=function(e,t){return void 0!==e&&ul(e),void 0!==t&&(a=t),s},s.indexCalculator=function(){return wl(n,r,t,a)},s}Sl();const kl=Math.PI,El=2*kl,Cl=1e-6,Ol=El-Cl;function Pl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jl(){return new Pl}Pl.prototype=jl.prototype={constructor:Pl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,u=a-t,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Cl)if(Math.abs(u*s-l*c)>Cl&&o){var p=n-i,d=r-a,h=s*s+l*l,y=p*p+d*d,m=Math.sqrt(h),g=Math.sqrt(f),v=o*Math.tan((kl-Math.acos((h+f-y)/(2*m*g)))/2),b=v/g,x=v/m;Math.abs(b-1)>Cl&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>c*d)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Cl||Math.abs(this._y1-c)>Cl)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%El+El),f>Ol?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Cl&&(this._+="A"+n+","+n+",0,"+ +(f>=kl)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const _l=jl;function Tl(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Al(e){return function(){return e}}function Dl(e){this._context=e}function Ml(e){return new Dl(e)}function Nl(e){return e[0]}function Il(e){return e[1]}function Ll(e,t){var n=Al(!0),r=null,o=Ml,i=null;function a(a){var s,l,c,u=(a=Tl(a)).length,f=!1;for(null==r&&(i=o(c=_l())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(l,s,a),+t(l,s,a));if(c)return i=null,c+""||null}return e="function"==typeof e?e:void 0===e?Nl:Al(e),t="function"==typeof t?t:void 0===t?Il:Al(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:Al(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Al(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:Al(!!e),a):n},a.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),a):o},a.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),a):r},a}function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vl(r.key),r)}}function Vl(e){var t=function(e){if("object"!=Rl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rl(t)?t:t+""}function Bl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bl=function(){return!!e})()}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(e)}function Ul(e,t){return Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ul(e,t)}Array.prototype.slice,Dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Hl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Wl(t),function(e,t){if(t&&("object"==Rl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bl()?Reflect.construct(t,n||[],Wl(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n){return function(r,o){var i=e.props,a=i.connectNulls,s=i.yAccessor,l=i.hoverStrokeWidth,c=void 0===l?t.defaultProps.hoverStrokeWidth:l,u=i.defined,f=void 0===u?t.defaultProps.defined:u,p=i.curve,d=i.canvasClip,h=i.strokeStyle,y=i.strokeWidth,m=void 0===y?t.defaultProps.strokeWidth:y,g=o.xAccessor,v=o.xScale,b=o.chartConfig,x=o.plotData,w=o.hovering;if(b){var S=b.yScale;void 0!==d&&(r.save(),d(r,o)),r.lineWidth=w?c:m,void 0!==h&&(r.strokeStyle=h),void 0!==n&&r.setLineDash(n);var k=Ll().x(function(e){return Math.round(v(g(e)))}).y(function(e){return Math.round(S(s(e)))});void 0!==p&&k.curve(p),a||k.defined(function(e){return f(s(e))}),r.beginPath(),k.context(r)(x),r.stroke(),void 0!==d&&r.restore()}else console.warn("LineSeries received no chartConfig, is it inside of a Chart?")}},e.isHover=function(n){var r=e.props,o=r.highlightOnHover,i=r.yAccessor,a=r.hoverTolerance,s=void 0===a?t.defaultProps.hoverTolerance:a;if(!o)return!1;var l=n.chartConfig,c=l.yScale,u=l.origin,f=n.xAccessor,p=n.mouseXY,d=n.currentItem,h=n.xScale,y=n.plotData,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2),g=m[0],v=m[1],b=s,x=St(y,h.invert(g),f),w=x.left,S=x.right;if(w===S){var k=c(i(d))+u[1],E=h(f(d))+u[0];return Math.pow(g-E,2)+Math.pow(v-k,2)<Math.pow(b,2)}var C=y[w],O=y[S],P=h(f(C))+u[0],j=c(i(C))+u[1],_=h(f(O))+u[0],T=(c(i(O))+u[1]-j)/(_-P),A=-1*T*P+j,D=Math.round(T*g+A);return v>=D-b&&v<=D+b},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ul(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.highlightOnHover,n=e.onClick,r=e.onContextMenu,o=e.onDoubleClick,i=e.onHover,a=e.onUnHover,s=e.strokeDasharray,l=t||i||a?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:Hr}:{drawOn:["pan"],canvasToDraw:Ur},c=U(s);return(0,m.jsx)(io,Object.assign({canvasDraw:this.drawOnCanvas(c),onClickWhenHover:n,onDoubleClickWhenHover:o,onContextMenuWhenHover:r,onHover:i,onUnHover:a},l))}}])&&zl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Yl(e){return Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(e)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ql(r.key),r)}}function ql(e){var t=function(e){if("object"!=Yl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yl(t)?t:t+""}function $l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($l=function(){return!!e})()}function Gl(e){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gl(e)}function Ql(e,t){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ql(e,t)}Hl.defaultProps={connectNulls:!1,defined:function(e){return void 0!==e&&!isNaN(e)},hoverStrokeWidth:4,hoverTolerance:6,highlightOnHover:!1,strokeDasharray:"Solid",strokeStyle:"#2196f3",strokeWidth:1};var Zl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Gl(t),function(e,t){if(t&&("object"==Yl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$l()?Reflect.construct(t,n||[],Gl(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getCircle(n);if(void 0!==r){var o=e.props,i=o.fillStyle,a=o.r,s=o.strokeStyle,l=i instanceof Function?i(n.currentItem):i;void 0!==l&&(t.fillStyle=l);var c=s instanceof Function?s(n.currentItem):s;void 0!==c&&(t.strokeStyle=c),t.beginPath(),t.arc(r.x,r.y,a,0,2*Math.PI,!1),t.fill(),void 0!==c&&t.stroke()}},e.getCircle=function(t){var n=t.show,r=t.xScale,o=t.chartConfig.yScale,i=t.currentItem,a=t.xAccessor;if(n&&void 0!==i){var s=e.props.yAccessor,l=a(i),c=s(i);if(void 0!==c)return{x:Math.round(r(l)),y:Math.round(o(c))}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ql(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["mousemove","pan"]})}}])&&Xl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ec(r.key),r)}}function ec(e){var t=function(e){if("object"!=Kl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kl(t)?t:t+""}function tc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tc=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(e)}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rc(e,t)}Zl.defaultProps={fillStyle:"#2196f3",r:3};var oc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=nc(t),function(e,t){if(t&&("object"==Kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tc()?Reflect.construct(t,n||[],nc(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n,r){var o=e.props,i=o.connectNulls,a=o.fillStyle,s=o.curve,l=o.canvasClip,c=o.yAccessor,u=o.defined,f=void 0===u?t.defaultProps.defined:u,p=o.base,d=r.xScale,h=r.chartConfig.yScale,y=r.plotData,m=r.xAccessor;void 0!==l&&(n.save(),l(n,r)),void 0!==a&&(n.fillStyle="string"==typeof a?a:a(n,r));var g=b(p),v=function(e,t,n){var r=null,o=Al(!0),i=null,a=Ml,s=null;function l(l){var c,u,f,p,d,h=(l=Tl(l)).length,y=!1,m=new Array(h),g=new Array(h);for(null==i&&(s=a(d=_l())),c=0;c<=h;++c){if(!(c<h&&o(p=l[c],c,l))===y)if(y=!y)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(m[f],g[f]);s.lineEnd(),s.areaEnd()}y&&(m[c]=+e(p,c,l),g[c]=+t(p,c,l),s.point(r?+r(p,c,l):m[c],n?+n(p,c,l):g[c]))}if(d)return s=null,d+""||null}function c(){return Ll().defined(o).curve(a).context(i)}return e="function"==typeof e?e:void 0===e?Nl:Al(+e),t="function"==typeof t?t:Al(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Il:Al(+n),l.x=function(t){return arguments.length?(e="function"==typeof t?t:Al(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:Al(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Al(+e),l):r},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Al(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:Al(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Al(+e),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(e){return arguments.length?(o="function"==typeof e?e:Al(!!e),l):o},l.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),l):a},l.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),l):i},l}().x(function(e){return Math.round(d(m(e)))}).y0(function(e){return g(h,e,r)}).y1(function(e){return Math.round(h(c(e)))});void 0!==s&&v.curve(s),i||v.defined(function(e){return f(c(e))}),n.beginPath(),v.context(n)(y),n.fill(),void 0!==l&&n.restore()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{canvasDraw:this.drawOnCanvas,canvasToDraw:Ur,drawOn:["pan"]})}}])&&Jl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ic(e){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(e)}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sc(r.key),r)}}function sc(e){var t=function(e){if("object"!=ic(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ic(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ic(t)?t:t+""}function lc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lc=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cc(e)}function uc(e,t){return uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uc(e,t)}oc.defaultProps={connectNulls:!1,defined:function(e){return void 0!==e&&!isNaN(e)},base:function(e){return _(e.range())}};var fc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=cc(t),function(e,t){if(t&&("object"==ic(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lc()?Reflect.construct(t,n||[],cc(e).constructor):t.apply(e,n))}(this,t,arguments)).yAccessorForScaledBottom=function(n,r){var o=e.props.yAccessor,i=(void 0===o?t.defaultProps.yAccessor:o)(r);if(void 0!==i)return n(i.bottom)},e.yAccessorForBottom=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.bottom},e.yAccessorForMiddle=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.middle},e.yAccessorForTop=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.top},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.className,r=e.strokeStyle,o=void 0===r?t.defaultProps.strokeStyle:r,i=e.fillStyle;return(0,m.jsxs)("g",Object.assign({className:n},{children:[(0,m.jsx)(Hl,{yAccessor:this.yAccessorForTop,strokeStyle:o.top}),(0,m.jsx)(Hl,{yAccessor:this.yAccessorForMiddle,strokeStyle:o.middle}),(0,m.jsx)(Hl,{yAccessor:this.yAccessorForBottom,strokeStyle:o.bottom}),(0,m.jsx)(oc,{yAccessor:this.yAccessorForTop,base:this.yAccessorForScaledBottom,fillStyle:i})]}))}}])&&ac(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}fc.defaultProps={areaClassName:"react-financial-charts-bollinger-band-series-area",fillStyle:"rgba(38, 166, 153, 0.05)",strokeStyle:{top:"#26a69a",middle:"#812828",bottom:"#26a69a"},yAccessor:function(e){return e.bb}};var hc=function(e,t){var n=e.widthRatio,r=t.xAccessor,o=t.xScale,i=t.plotData,a=pc(o.range(),2),s=a[0],l=a[1];if(null!=o.invert){var c=pc(o.domain(),2),u=c[0],f=c[1];return"number"==typeof u&&"number"==typeof f?Math.abs(l-s)/Math.abs(u-f)*n:(o(r(T(i)))-o(r(_(i))))/i.length*n*.7}return Math.abs(l-s)/o.domain().length*n};class yc extends Map{constructor(e,t=gc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(mc(this,e))}has(e){return super.has(mc(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}(this,e))}}function mc({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gc(e){return null!==e&&"object"==typeof e?e.valueOf():e}function vc(e){return e}function bc(e,...t){return function(e,t,n,r){return function e(o,i){if(i>=r.length)return n(o);const a=new yc,s=r[i++];let l=-1;for(const e of o){const t=s(e,++l,o),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[t,n]of a)a.set(t,e(n,i));return t(a)}(e,0)}(e,vc,vc,t)}function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sc(r.key),r)}}function Sc(e){var t=function(e){if("object"!=xc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xc(t)?t:t+""}function kc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kc=function(){return!!e})()}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}function Cc(e,t){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cc(e,t)}Set;var Oc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ec(t),function(e,t){if(t&&("object"==xc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kc()?Reflect.construct(t,n||[],Ec(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n,r){var o=e.props.candleStrokeWidth,i=void 0===o?t.defaultProps.candleStrokeWidth:o,a=r.xScale,s=r.chartConfig.yScale,l=r.plotData,c=r.xAccessor,u=e.getCandleData(c,a,s,l);bc(u,function(e){return e.wick.stroke}).forEach(function(e,t){n.fillStyle=t,e.forEach(function(e){var t=e.wick;n.fillRect(t.x-.5,t.y1,1,t.y2-t.y1),n.fillRect(t.x-.5,t.y3,1,t.y4-t.y3)})}),bc(u,function(e){return e.stroke},function(e){return e.fill}).forEach(function(e,t){"none"!==t&&(n.strokeStyle=t,n.lineWidth=i),e.forEach(function(e,r){n.fillStyle=r,e.forEach(function(e){e.width<=1?n.fillRect(e.x-.5,e.y,1,e.height):0===e.height?n.fillRect(e.x-.5,e.y,e.width,1):(n.fillRect(e.x-.5,e.y,e.width,e.height),"none"!==t&&n.strokeRect(e.x,e.y,e.width,e.height))})})})},e.getCandleData=function(t,n,r,o){var i=e.props,a=i.fill,s=i.stroke,l=i.yAccessor,c=i.wickStroke,u=b(a),f=b(s),p=b(c),d=.5*b(e.props.width)(e.props,{xScale:n,xAccessor:t,plotData:o});return o.filter(function(e){return void 0!==l(e)}).map(function(e){var o=l(e);if(void 0!==o){var i=t(e),a=n(i),s=Math.round(r(Math.max(o.open,o.close))),c=Math.max(1,Math.round(Math.abs(r(o.open)-r(o.close))));return{x:a-d,y:s,wick:{stroke:p(o),x:a,y1:Math.round(r(o.high)),y2:s,y3:s+c,y4:Math.round(r(o.low))},height:c,width:2*d,fill:u(o),stroke:f(o),direction:o.close-o.open}}}).filter(function(e){return void 0!==e})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,m.jsx)(io,{clip:e,canvasDraw:this.drawOnCanvas,canvasToDraw:Ur,drawOn:["pan"]})}}])&&wc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_c(r.key),r)}}function _c(e){var t=function(e){if("object"!=Pc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pc(t)?t:t+""}function Tc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Tc=function(){return!!e})()}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dc(e,t)}Oc.defaultProps={candleStrokeWidth:.5,clip:!0,fill:function(e){return e.close>e.open?"#26a69a":"#ef5350"},stroke:"none",wickStroke:function(e){return e.close>e.open?"#26a69a":"#ef5350"},width:hc,widthRatio:.8,yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}}};var Mc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ac(t),function(e,t){if(t&&("object"==Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tc()?Reflect.construct(t,n||[],Ac(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=n.xAccessor,o=n.xScale,i=n.chartConfig.yScale,a=n.plotData,s=e.getOHLCBars(e.props,r,o,i,a);e.drawBarDataOnCanvas(t,s)},e.getOHLCBars=function(e,t,n,r,o){var i=e.stroke,a=e.strokeWidth,s=void 0===a?1:a,l=e.yAccessor,c=b(i),u=n(t(o[o.length-1]))-n(t(o[0])),f=Math.max(1,Math.round(u/(o.length-1)/2)-1.5),p=Math.min(f,s),d=o.filter(function(e){return void 0!==l(e).close}).map(function(e){var o=l(e),i=Math.round(n(t(e)));return{x:i,y1:r(o.high),y2:r(o.low),openX1:i-f,openX2:i+p/2,openY:r(o.open),closeX1:i-p/2,closeX2:i+f,closeY:r(o.close),stroke:c(e)}});return{barWidth:f,strokeWidth:p,bars:d}},e.drawBarDataOnCanvas=function(e,t){var n=t.strokeWidth,r=bc(t.bars,function(e){return e.stroke});e.lineWidth=n,r.forEach(function(t,n){e.strokeStyle=n,t.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.openX1,t.openY),e.lineTo(t.openX2,t.openY),e.moveTo(t.closeX1,t.closeY),e.lineTo(t.closeX2,t.closeY),e.stroke()})})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,m.jsx)(io,{canvasToDraw:Ur,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}])&&jc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lc(r.key),r)}}function Lc(e){var t=function(e){if("object"!=Nc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Nc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nc(t)?t:t+""}function Rc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Rc=function(){return!!e})()}function Fc(e){return Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fc(e)}function zc(e,t){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zc(e,t)}Mc.defaultProps={yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return A(e.absoluteChange)?e.absoluteChange>0?"up":"down":"firstbar"},stroke:function(e){return A(e.absoluteChange)?e.absoluteChange>0?"#26a69a":"#ef5350":"#000000"},strokeWidth:1,clip:!0};var Vc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Fc(t),function(e,t){if(t&&("object"==Nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rc()?Reflect.construct(t,n||[],Fc(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.baseAt,n=e.connectNulls,r=e.strokeStyle,o=e.strokeWidth,i=e.strokeDasharray,a=e.fillStyle,s=e.curve,l=e.canvasClip,c=e.yAccessor;return(0,m.jsxs)("g",{children:[(0,m.jsx)(oc,{connectNulls:n,yAccessor:c,curve:s,base:t,fillStyle:a,canvasClip:l}),(0,m.jsx)(Hl,{connectNulls:n,yAccessor:c,strokeStyle:r,strokeWidth:o,strokeDasharray:i,curve:s,canvasClip:l,highlightOnHover:!1})]})}}])&&Ic(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);Vc.defaultProps={fillStyle:"rgba(33, 150, 243, 0.1)",strokeStyle:"#2196f3",strokeWidth:3,strokeDasharray:"Solid"};var Bc=function(e){return e};function Wc(){var e=Bc;function t(){var t,r=arguments.length;if(0===r)return[];for(var o=null!==(t=q(arguments,n))&&void 0!==t?t:0,i=new Array(o),a=-1;++a<o;){for(var s=-1,l=i[a]=new Array(r);++s<r;)l[s]=arguments[s][a];i[a]=e.apply(this,i[a])}return i}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}function Uc(){var e=Bc,t=!0,n=function(){},r=function(r){var o=Wc().combine(function(e,r){var o=t&&void 0===r?e:n(e,r);return void 0===o?e:o});return o(r,e(r))};return r.algorithm=function(t){return void 0===t?e:(e=t,r)},r.merge=function(e){return void 0===e?n:(n=e,r)},r.skipUndefined=function(e){return void 0===e?t:(t=e,r)},r}function Hc(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.apply(t,o);return a===t?e:a}}function Yc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];e[s]=Hc(e,t,s)}return e}var Xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return null!=e?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}},qc={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},$c={windowSize:13,sourcePath:"close",movingAverageType:"sma"},Gc={sourcePath:"close",windowSize:10},Qc={sourcePath:"close",windowSize:10};function Zc(){var e=Gc,t=function(t){var n,r=e,o=r.windowSize,i=r.sourcePath,a=Xc(i),s=2/(o+1),l=0,c=0;return t.map(function(e,t){var r=a(e,t);if(void 0!==n||void 0!==r){if(!(t<o+c-1)){if(t===o+c-1){var i=(l+=r)/o;return n=i,i}var u=r*s+(1-s)*n;return n=u,u}l+=r}else c++})};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},Gc),n),t)},t}const Kc=Symbol("implicit");var Jc=0,eu=function e(){var t=new Map,n=[],r=[],o=Kc;function i(e){var i=e+"",a=t.get(i);if(!a){if(o!==Kc)return o;t.set(i,a=n.push(e))}return r[(a-1)%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},nt.apply(i,arguments),i}(["#F44336","#2196F3","#8BC34A","#FF5722","#3F51B5","#03A9F4","#9C27B0","#4CAF50"]);function tu(){var e,t,n,r,o,i=Jc++,a=function(){return function(){}};return a.id=function(e){return void 0===e?i:(i=e,a)},a.accessor=function(t){return void 0===t?e:(e=t,a)},a.stroke=function(e){return void 0===e?t||(t=eu(i)):(t=e,a)},a.fill=function(e){return void 0===e?n||(n=eu(i)):(n=e,a)},a.echo=function(e){return void 0===e?r:(r=e,a)},a.type=function(e){return void 0===e?o:(o=e,a)},a}function nu(){var e=tu().type("EMA").accessor(function(e){return e.ema}),t=Zc(),n=Uc().algorithm(t).merge(function(e,t){e.ema=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat("EMA"," before calculating"));return n(r)}return t(r)};return Yc(r,e,"id","accessor","stroke","fill","echo","type"),Yc(r,t,"options","undefinedLength"),Yc(r,n,"merge","skipUndefined"),r}function ru(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var ou=function(e){return"function"==typeof e?e:function(){return e}};function iu(){var e,t,n,r,o=arguments,i=this,a=10,s=function(){},l=0,c=function(c){var u=n||Xc(t),f=ou(a).apply(i,o),p=c.slice(l,f+l).map(u),d=0,h=ou(e);return c.map(function(e,t){return t<l+f-1?h(u(e),t,r):(t>=l+f&&(p.shift(),p.push(u(e,t))),s(p,t,d++,r))})};return c.undefinedValue=function(t){return arguments.length?(e=t,c):e},c.windowSize=function(e){return arguments.length?(a=e,c):a},c.misc=function(e){return arguments.length?(r=e,c):r},c.accumulator=function(e){return arguments.length?(s=e,c):s},c.skipInitial=function(e){return arguments.length?(l=e,c):l},c.sourcePath=function(e){return arguments.length?(t=e,c):t},c.source=function(e){return arguments.length?(n=e,c):n},c}function au(){var e=tu().type("SMA").accessor(function(e){return e.sma}),t=function(){var e=Qc,t=function(t){var n=e,r=n.windowSize,o=n.sourcePath,i=iu().windowSize(r).sourcePath(o).accumulator(function(e){return ru(e)});return i(t)};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},Qc),n),t)},t}(),n=Uc().algorithm(t).merge(function(e,t){e.sma=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat("SMA"," before calculating"));return n(r)}return t(r)};return Yc(r,e,"id","accessor","stroke","fill","echo","type"),Yc(r,t,"options","undefinedLength"),Yc(r,n,"merge","skipUndefined"),r}function su(){var e=qc,t=function(t){var n=e,r=n.windowSize,o=n.multiplier,i=n.movingAverageType,a=n.sourcePath,s=Xc(a),l="ema"===i?Zc().options({windowSize:r,sourcePath:a}):iu().windowSize(r).accumulator(function(e){return ru(e)}).sourcePath(a),c=iu().windowSize(r).accumulator(function(e){var t=e[e.length-1].mean,n=function(e){const t=function(e,t){let n,r=0,o=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-o,o+=n/++r,i+=n*(t-o));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-o,o+=n/++r,i+=n*(s-o))}if(r>1)return i/(r-1)}(e,function(e){return s(e.datum)});return t?Math.sqrt(t):t}(e);if(void 0!==n)return{top:t+o*n,middle:t,bottom:t-o*n}}),u=Wc().combine(function(e,t){return{datum:e,mean:t}});return c(u(t,l(t)))};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},qc),n),t)},t}var lu="BollingerBand";function cu(e){return e.length}function uu(){return function(e){if(!(o=e.length))return[];for(var t=-1,n=q(e,cu),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r}(arguments)}var fu="ElderRay";var pu={value:()=>{}};function du(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new hu(r)}function hu(e){this._=e}function yu(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function mu(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=pu,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}hu.prototype=du.prototype={constructor:hu,on:function(e,t){var n,r=this._,o=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=mu(r[n],e.name,t);else if(null==t)for(n in r)r[n]=mu(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=yu(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new hu(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const gu=du;var vu,bu,xu=0,wu=0,Su=0,ku=0,Eu=0,Cu=0,Ou="object"==typeof performance&&performance.now?performance:Date,Pu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ju(){return Eu||(Pu(_u),Eu=Ou.now()+Cu)}function _u(){Eu=0}function Tu(){this._call=this._time=this._next=null}function Au(e,t,n){var r=new Tu;return r.restart(e,t,n),r}function Du(){Eu=(ku=Ou.now())+Cu,xu=wu=0;try{!function(){ju(),++xu;for(var e,t=vu;t;)(e=Eu-t._time)>=0&&t._call.call(null,e),t=t._next;--xu}()}finally{xu=0,function(){for(var e,t,n=vu,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:vu=t);bu=e,Nu(r)}(),Eu=0}}function Mu(){var e=Ou.now(),t=e-ku;t>1e3&&(Cu-=t,ku=e)}function Nu(e){xu||(wu&&(wu=clearTimeout(wu)),e-Eu>24?(e<1/0&&(wu=setTimeout(Du,e-Ou.now()-Cu)),Su&&(Su=clearInterval(Su))):(Su||(ku=Ou.now(),Su=setInterval(Mu,1e3)),xu=1,Pu(Du)))}Tu.prototype=Au.prototype={constructor:Tu,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ju():+n)+(null==t?0:+t),this._next||bu===this||(bu?bu._next=this:vu=this,bu=this),this._call=e,this._time=n,Nu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nu())}};const Iu=4294967296;var Lu=Math.PI*(3-Math.sqrt(5));function Ru(e){return function(){return e}}function Fu(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,u,f,p,d=e._root,h={data:r},y=e._x0,m=e._y0,g=e._x1,v=e._y1;if(!d)return e._root=h,e;for(;d.length;)if((c=t>=(i=(y+g)/2))?y=i:g=i,(u=n>=(a=(m+v)/2))?m=a:v=a,o=d,!(d=d[f=u<<1|c]))return o[f]=h,e;if(s=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===s&&n===l)return h.next=d,o?o[f]=h:e._root=h,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(y+g)/2))?y=i:g=i,(u=n>=(a=(m+v)/2))?m=a:v=a}while((f=u<<1|c)==(p=(l>=a)<<1|s>=i));return o[p]=d,o[f]=h,e}function zu(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Vu(e){return e[0]}function Bu(e){return e[1]}function Wu(e,t,n){var r=new Uu(null==t?Vu:t,null==n?Bu:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Uu(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Hu(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Yu=Wu.prototype=Uu.prototype;function Xu(e){return 1e-6*(e()-.5)}function qu(e){return e.x+e.vx}function $u(e){return e.y+e.vy}function Gu(e){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(e)}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zu(r.key),r)}}function Zu(e){var t=function(e){if("object"!=Gu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gu(t)?t:t+""}function Ku(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ku=function(){return!!e})()}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ju(e)}function ef(e,t){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ef(e,t)}Yu.copy=function(){var e,t,n=new Uu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hu(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=Hu(t));return n},Yu.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Fu(this.cover(t,n),t,n,e)},Yu.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<i;++n)Fu(this,a[n],s[n],e[n]);return this},Yu.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,l=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Yu.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Yu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Yu.find=function(e,t,n){var r,o,i,a,s,l,c,u=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],y=this._root;for(y&&h.push(new zu(y,u,f,p,d)),null==n?n=1/0:(u=e-n,f=t-n,p=e+n,d=t+n,n*=n);l=h.pop();)if(!(!(y=l.node)||(o=l.x0)>p||(i=l.y0)>d||(a=l.x1)<u||(s=l.y1)<f))if(y.length){var m=(o+a)/2,g=(i+s)/2;h.push(new zu(y[3],m,g,a,s),new zu(y[2],o,g,m,s),new zu(y[1],m,i,a,g),new zu(y[0],o,i,m,g)),(c=(t>=g)<<1|e>=m)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-c],h[h.length-1-c]=l)}else{var v=e-+this._x.call(null,y.data),b=t-+this._y.call(null,y.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);u=e-w,f=t-w,p=e+w,d=t+w,r=y.data}}return r},Yu.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,u,f,p,d=this._root,h=this._x0,y=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(s=(h+m)/2))?h=s:m=s,(u=a>=(l=(y+g)/2))?y=l:g=l,t=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,p=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=o,this)},Yu.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Yu.root=function(){return this._root},Yu.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Yu.visit=function(e){var t,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new zu(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var c=(r+i)/2,u=(o+a)/2;(n=l[3])&&s.push(new zu(n,c,u,i,a)),(n=l[2])&&s.push(new zu(n,r,u,c,a)),(n=l[1])&&s.push(new zu(n,c,o,i,u)),(n=l[0])&&s.push(new zu(n,r,o,c,u))}return this},Yu.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new zu(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,f=(s+c)/2;(i=o[0])&&n.push(new zu(i,a,s,u,f)),(i=o[1])&&n.push(new zu(i,u,s,l,f)),(i=o[2])&&n.push(new zu(i,a,f,u,c)),(i=o[3])&&n.push(new zu(i,u,f,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Yu.x=function(e){return arguments.length?(this._x=e,this):this._x},Yu.y=function(e){return arguments.length?(this._y=e,this):this._y};var tf=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=Ju(t),function(e,t){if(t&&("object"==Gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ku()?Reflect.construct(t,n||[],Ju(e).constructor):t.apply(e,n))}(this,n,[e])).ref=t.createRef(),r.clicked=!1,r.dragHappened=!1,r.handleDragEnd=function(e){var t=r.ref.current;if(null!==t){if(!r.dragHappened)if(r.clicked){var n=Yn(e,t),o=r.props.onDoubleClick;void 0!==o&&o(e,n)}else r.clicked=!0,setTimeout(function(){r.clicked=!1},300);Un(x(t)).on(k,null).on(E,null).on(C,null).on(O,null),r.setState({startPosition:null})}},r.handleDrag=function(e){var t=r.ref.current;if(null!==t){r.dragHappened=!0;var n=r.props,o=n.getMouseDelta,i=n.inverted,a=void 0===i||i,s=r.state.startPosition;if(null!==s){var l=s.startScale,c=o(s.startXY,Yn(e,t)),u=ru(l.range());if(void 0===u)return;var f=l.range().map(function(e){return a?e-v(e-u)*c:e+v(e-u)*c}),p=f.map(l.invert);if(v(T(l.range())-_(l.range()))===v(T(f)-_(f))){var d=r.props.axisZoomCallback;void 0!==d&&d(p)}}}},r.handleDragStartTouch=function(e){var t=r.ref.current;if(null!==t){r.dragHappened=!1;var n=r.props,o=(0,n.getScale)((0,n.getMoreProps)());if(1===e.touches.length&&void 0!==o.invert){Un(x(t)).on(C,r.handleDrag).on(O,r.handleDragEnd);var i=M(P(e.touches[0]),e);r.setState({startPosition:{startScale:o,startXY:i}})}}},r.handleDragStartMouse=function(e){e.preventDefault();var t=r.ref.current;if(null!==t){r.dragHappened=!1;var n=r.props,o=(0,n.getScale)((0,n.getMoreProps)());if(void 0!==o.invert){Un(x(t)).on(k,r.handleDrag,!1).on(E,r.handleDragEnd,!1);var i=N(e);r.setState({startPosition:{startXY:i,startScale:o}})}}},r.handleRightClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.ref.current;if(null!==t){var n=r.props.onContextMenu;if(void 0!==n){var o=N(e,t.getBoundingClientRect());Un(x(t)).on(k,null).on(E,null),r.setState({startPosition:null}),n(e,o)}}},r.state={startPosition:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ef(e,t)}(n,e),r=n,(o=[{key:"render",value:function(){var e=this.props,t=e.bg,n=e.className,r=e.zoomCursorClassName,o=null!==this.state.startPosition?r:"react-financial-charts-default-cursor";return(0,m.jsx)("rect",{className:"react-financial-charts-enable-interaction ".concat(o," ").concat(n),ref:this.ref,x:t.x,y:t.y,opacity:0,height:t.h,width:t.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}])&&Qu(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,af(r.key),r)}}function af(e){var t=function(e){if("object"!=nf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nf(t)?t:t+""}function sf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sf=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lf(e)}function cf(e,t){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cf(e,t)}var uf=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t,n){return t=lf(t),function(e,t){if(t&&("object"==nf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sf()?Reflect.construct(t,n||[],lf(e).constructor):t.apply(e,n))}(this,n,arguments)).chartRef=t.createRef(),e.getMoreProps=function(){return e.chartRef.current.getMoreProps()},e.drawOnCanvas=function(t,n){var r=e.props,o=r.showDomain,i=r.showGridLines,a=r.showTickLabel,s=r.showTicks,l=r.transform,c=r.range,u=r.getScale,f=r.tickLabelFill;t.save(),t.translate(l[0],l[1]);var p=u(n),d=ff(e.props,p);if(s&&df(t,d),i&&d.ticks.forEach(function(e){hf(t,e,d,n)}),a){var h=d.fontFamily,y=d.fontSize,m=d.fontWeight,g=d.textAnchor;t.font="".concat(m," ").concat(y,"px ").concat(h),void 0!==f&&(t.fillStyle=f),t.textAlign="middle"===g?"center":g,d.ticks.forEach(function(e){mf(t,e,d)})}o&&pf(t,e.props,c),t.restore()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}(n,e),r=n,(o=[{key:"render",value:function(){var e=this.props,t=e.bg,n=e.axisZoomCallback,r=e.className,o=e.zoomCursorClassName,i=e.zoomEnabled,a=e.getScale,s=e.inverted,l=e.transform,c=e.getMouseDelta,u=e.edgeClip,f=e.onContextMenu,p=e.onDoubleClick,d=i?(0,m.jsx)(tf,{bg:t,getScale:a,getMoreProps:this.getMoreProps,getMouseDelta:c,axisZoomCallback:n,className:r,zoomCursorClassName:o,inverted:s,onContextMenu:f,onDoubleClick:p}):null;return(0,m.jsxs)("g",Object.assign({transform:"translate(".concat(l[0],", ").concat(l[1],")")},{children:[d,(0,m.jsx)(io,{ref:this.chartRef,canvasToDraw:Ur,clip:!1,edgeClip:u,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})]}))}}])&&of(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);uf.defaultProps={edgeClip:!1,zoomEnabled:!1,zoomCursorClassName:""};var ff=function(e,t){var n,r,o,i=e.orient,a=e.innerTickSize,s=void 0===a?4:a,l=e.tickFormat,c=e.tickPadding,u=void 0===c?4:c,f=e.tickLabelFill,p=e.tickStrokeWidth,d=e.tickStrokeDasharray,h=e.fontSize,y=void 0===h?12:h,m=e.fontFamily,g=e.fontWeight,v=e.showTicks,b=e.showTickLabel,x=e.ticks,w=e.tickValues,S=e.tickStrokeStyle,k=e.tickInterval,E=e.tickIntervalFunction,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["orient","innerTickSize","tickFormat","tickPadding","tickLabelFill","tickStrokeWidth","tickStrokeDasharray","fontSize","fontFamily","fontWeight","showTicks","showTickLabel","ticks","tickValues","tickStrokeStyle","tickInterval","tickIntervalFunction"]);if(void 0!==w)n="function"==typeof w?w(t.domain()):w;else if(void 0!==k){var O=(r=t.domain(),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return rf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rf(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=O[0],j=O[1],_=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(P,j,(j-P)/k);n=E?E(P,j,k):_}else n=void 0!==t.ticks?t.ticks(x):t.domain();var T,A,D,M,N=void 0===l?t.tickFormat(x):function(e){return l(e)||""},I="top"===i||"left"===i?-1:1,L=Math.max(s,0)+u;if("bottom"===i||"top"===i){A=I<0?"0em":".71em",D=I<0?0:.71*y,M="middle";var R=I*s,F=I*L;if(T=n.map(function(e){var n=Math.round(t(e));return{value:e,x1:n,y1:0,x2:n,y2:R,labelX:n,labelY:F}}),v){for(var z=T.map(function(e){return{id:e.value,value:e.value,fy:e.y2,origX:e.x1}}),V=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=Au(f),c=gu("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Iu)/Iu}();function f(){p(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function p(r){var l,c,u=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,s.forEach(function(e){e(n)}),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*Lu;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),d(),t={tick:p,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(u=e,s.forEach(h),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(o=t-(s=e[c]).x)*o+(i=n-s.y)*i)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}(z).force("x",function(e){var t,n,r,o=Ru(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Ru(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Ru(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Ru(+t),a(),i):e},i}(function(e){return e.origX}).strength(1)).force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,l,c,u,f,p,d=t.length,h=0;h<i;++h)for(a=Wu(t,qu,$u).visitAfter(s),e=0;e<d;++e)l=t[e],f=n[l.index],p=f*f,c=l.x+l.vx,u=l.y+l.vy,a.visit(y);function y(e,t,n,i,a){var s=e.data,d=e.r,h=f+d;if(!s)return t>c+h||i<c-h||n>u+h||a<u-h;if(s.index>l.index){var y=c-s.x-s.vx,m=u-s.y-s.vy,g=y*y+m*m;g<h*h&&(0===y&&(g+=(y=Xu(r))*y),0===m&&(g+=(m=Xu(r))*m),g=(h-(g=Math.sqrt(g)))/g*o,l.vx+=(y*=g)*(h=(d*=d)/(p+d)),l.vy+=(m*=g)*h,s.vx-=y*(h=1-h),s.vy-=m*h)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=Ru(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Ru(+t),l(),a):e},a}(22)).stop(),B=0;B<100;++B)V.tick();T=uu(T,z).map(function(e){var t=e[0],n=e[1];return Math.abs(n.x-n.origX)>.01?Object.assign(Object.assign({},t),{x2:n.x,labelX:n.x}):t})}}else T=n.map(function(e){var n=Math.round(t(e));return{value:e,x1:0,y1:n,x2:I*s,y2:n,labelX:I*L,labelY:n}}),A=".32em",D=.32*y,M=I<0?"end":"start";return Object.assign({orient:i,ticks:T,scale:t,tickStrokeStyle:S,tickLabelFill:f||S,tickStrokeWidth:p,tickStrokeDasharray:d,dy:A,canvas_dy:D,textAnchor:M,fontSize:y,fontFamily:m,fontWeight:g,format:N,showTickLabel:b},C)},pf=function(e,t,n){var r=t.orient,o=t.outerTickSize,i=t.strokeStyle,a=t.strokeWidth,s="top"===r||"left"===r?-1:1,l="bottom"===r||"top"===r;e.lineWidth=a,e.strokeStyle=i,e.beginPath();var c=_(n),u=T(n),f=s*o;l?(e.moveTo(c,f),e.lineTo(c,0),e.lineTo(u,0),e.lineTo(u,f)):(e.moveTo(f,c),e.lineTo(0,c),e.lineTo(0,u),e.lineTo(f,u)),e.stroke()},df=function(e,t){var n=t.ticks,r=t.tickStrokeStyle;void 0!==r&&(e.strokeStyle=r,e.fillStyle=r),n.forEach(function(n){yf(e,n,t)})},hf=function(e,t,n,r){var o=n.orient,i=n.gridLinesStrokeWidth,a=n.gridLinesStrokeStyle,s=n.gridLinesStrokeDasharray,l=r.chartConfig,c=l.height,u=l.width;void 0!==a&&(e.strokeStyle=a),e.beginPath();var f="top"===o||"left"===o?1:-1;switch(o){case"top":case"bottom":e.moveTo(t.x1,0),e.lineTo(t.x2,f*c);break;default:e.moveTo(0,t.y1),e.lineTo(f*u,t.y2)}e.lineWidth=i;var p=U(s);e.setLineDash(p),e.stroke()},yf=function(e,t,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=r;var i=U(o);e.setLineDash(i),e.stroke()},mf=function(e,t,n){var r=n.canvas_dy,o=(0,n.format)(t.value);e.beginPath(),e.fillText(o,t.labelX,t.labelY+r)};function gf(e){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(e)}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bf(r.key),r)}}function bf(e){var t=function(e){if("object"!=gf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gf(t)?t:t+""}function xf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xf=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wf(e)}function Sf(e,t){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sf(e,t)}var kf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ef=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=wf(t),function(e,t){if(t&&("object"==gf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xf()?Reflect.construct(t,n||[],wf(e).constructor):t.apply(e,n))}(this,t,arguments)).axisZoomCallback=function(t){var n=e.context,r=n.chartId,o=n.yAxisZoom;o&&o(String(r),t)},e.helper=function(){var n,r=e.props,o=r.axisAt,i=r.ticks,a=r.yZoomWidth,s=void 0===a?t.defaultProps.yZoomWidth:a,l=r.orient,c=e.context.chartConfig,u=c.width,f=c.height,p=s,d=f;switch(o){case"left":n=0;break;case"right":n=u;break;case"middle":n=u/2;break;default:n=null!=o?o:u}var h="left"===l?-s:0;return{transform:[n,0],range:[0,f],getScale:e.getYScale,bg:{x:h,y:0,h:d,w:p},ticks:null!=i?i:e.getYTicks(f),zoomEnabled:e.context.chartConfig.yPan}},e.getYTicks=function(e){return e<300?2:e<500?6:8},e.getYScale=function(e){var t=e.chartConfig,n=t.yScale,r=t.flipYScale,o=t.height;if(n.invert){var i=r?[0,o]:[o,0],a=i.map(n.invert);return n.copy().domain(a).range(i)}return n},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.getMouseDelta,r=void 0===n?t.defaultProps.getMouseDelta:n,o=e.outerTickSize,i=void 0===o?t.defaultProps.outerTickSize:o,a=e.strokeStyle,s=void 0===a?t.defaultProps.strokeStyle:a,l=e.strokeWidth,c=void 0===l?t.defaultProps.strokeWidth:l,u=kf(e,["getMouseDelta","outerTickSize","strokeStyle","strokeWidth"]),f=this.helper(),p=f.zoomEnabled,d=kf(f,["zoomEnabled"]);return(0,m.jsx)(uf,Object.assign({},u,d,{edgeClip:!0,getMouseDelta:r,outerTickSize:i,strokeStyle:s,strokeWidth:c,zoomEnabled:this.props.zoomEnabled&&p,axisZoomCallback:this.axisZoomCallback}))}}])&&vf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Cf(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function Of(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Pf(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jf(e,t){return e[t]}function _f(e){const t=[];return t.key=e,t}function Tf(){var e=Al([]),t=Pf,n=Of,r=jf;function o(o){var i,a,s=Array.from(e.apply(this,arguments),_f),l=s.length,c=-1;for(const e of o)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,o)]).data=e;for(i=0,a=Tl(t(s));i<l;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:Al(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:Al(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?Pf:"function"==typeof e?e:Al(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?Of:e,o):n},o}function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mf(r.key),r)}}function Mf(e){var t=function(e){if("object"!=Af(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Af(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Af(t)?t:t+""}function Nf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Nf=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},If(e)}function Lf(e,t){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lf(e,t)}function Rf(){var e=[];function t(t){var n=e.map(function(e,n){var r=t.map(function(t){var n=[0,t[e]];return n.data=t,n});return r.key=e,r.index=n,r});return n}return t.keys=function(n){return arguments.length?(e=n,t):e},t}function Ff(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Y,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vf,s=n.xScale,l=n.chartConfig.yScale,c=n.plotData,u=zf(t,r,c,s,l,o,a,i);Bf(t,e,u)}Ef.defaultProps={axisAt:"right",className:"react-financial-charts-y-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(e,t){return e[1]-t[1]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,innerTickSize:4,outerTickSize:0,orient:"right",showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",yZoomWidth:40,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ns-resize-cursor"},Ef.contextType=Xr,(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=If(t),function(e,t){if(t&&("object"==Af(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nf()?Reflect.construct(t,n||[],If(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=n.xAccessor;Ff(t,e.props,n,r,Tf)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,m.jsx)(io,{clip:e,canvasDraw:this.drawOnCanvas,canvasToDraw:Ur,drawOn:["pan"]})}}])&&Df(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component)).defaultProps={baseAt:function(e,t){return j(t.range())},direction:"up",stroke:!1,fillStyle:"rgba(70, 130, 180, 0.5)",width:hc,widthRatio:.8,clip:!0,swapScales:!1};var zf=function(e,t,n,r,o,i,a,s){var l,c=e.yAccessor,u=e.swapScales,f=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Rf,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Y,l=e.baseAt,c=e.fillStyle,u=e.stroke,f=e.spaceBetweenBar,p=void 0===f?0:f,d=b(c),h=b(l),y=b(e.width)(e,{xScale:r,xAccessor:t,plotData:i}),m=Math.round(y),g=(m-p*(n.length-1))/n.length,v=1===m?0:.5*y,x=i.map(function(e){var r={appearance:{},x:t(e)};return n.forEach(function(t,n){var o="y".concat(n);r[o]=t(e);var i={stroke:u?d(e,n):"none",fillStyle:d(e,n)};r.appearance[o]=i}),r}),w=n.map(function(e,t){return"y".concat(t)}),S=a().keys(w)(x).map(function(e,t){var n=e.key;return e.map(function(e){var r=[e[0],e[1]];return r.data={x:e.data.x,i:t,appearance:e.data.appearance[n]},r})});return s(Cf(S).map(function(e){var t=o(e[1]),n=h(r,o,e.data)-o(e[1]-e[0]);return n<0&&(t+=n,n=-n),Object.assign(Object.assign({},e.data.appearance),{x:Math.round(r(e.data.x)-y/2),y:t,groupOffset:Math.round(v-(e.data.i>0?(g+p)*e.data.i:0)),groupWidth:Math.round(g),offset:Math.round(v),height:n,width:m})}).filter(function(e){return!isNaN(e.y)}))}(e,u?c:t,(l=u?t:c,Array.isArray(l)?l:[l]),u?o:r,u?r:o,n,i,u?a:s);return f},Vf=function(e){return e.map(function(e){return Object.assign(Object.assign({},e),{x:e.y,y:e.x,height:e.width,width:e.height})})},Bf=function(e,t,n){var r=e.stroke;bc(n,function(e){return e.fillStyle}).forEach(function(e,n){j(e).width>1&&void 0!==n&&(t.strokeStyle=n),t.fillStyle=n,e.forEach(function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):(t.fillRect(e.x+.5,e.y+.5,e.width,e.height),r&&t.strokeRect(e.x,e.y,e.width,e.height))})})};function Wf(e){return Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(e)}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hf(r.key),r)}}function Hf(e){var t=function(e){if("object"!=Wf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wf(t)?t:t+""}function Yf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yf=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xf(e)}function qf(e,t){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qf(e,t)}var $f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Xf(t),function(e,t){if(t&&("object"==Wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yf()?Reflect.construct(t,n||[],Xf(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){if(e.props.swapScales){var r=n.xAccessor;Ff(t,e.props,n,r,Rf)}else{var o=e.getBars(n),i=e.props.strokeStyle;bc(o,function(e){return e.fillStyle}).forEach(function(e,n){void 0!==i&&j(e).width>1&&(t.strokeStyle=i),t.fillStyle=n,e.forEach(function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):(t.fillRect(e.x+.5,e.y+.5,e.width,e.height),void 0!==i&&t.strokeRect(e.x,e.y,e.width,e.height))})})}},e.getBars=function(t){var n=e.props,r=n.baseAt,o=n.fillStyle,i=n.width,a=n.yAccessor,s=t.xScale,l=t.xAccessor,c=t.plotData,u=t.chartConfig.yScale,f=b(o),p=b(r),d=.5*b(i)(e.props,{xScale:s,xAccessor:l,plotData:c});return c.map(function(e){var t=a(e);if(void 0!==t){var n=l(e),r=s(n)-d,o=u(t),i=p(s,u,e)-u(t);return i<0&&(o+=i,i=-i),{x:r,y:Math.round(o),height:Math.round(i),width:2*d,fillStyle:f(e)}}}).filter(function(e){return void 0!==e})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,m.jsx)(io,{clip:e,canvasToDraw:Ur,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}])&&Uf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Gf(e){return Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(e)}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zf(r.key),r)}}function Zf(e){var t=function(e){if("object"!=Gf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gf(t)?t:t+""}function Kf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kf=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jf(e)}function ep(e,t){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ep(e,t)}$f.defaultProps={baseAt:function(e,t){return j(t.range())},clip:!0,fillStyle:"rgba(70, 130, 180, 0.5)",swapScales:!1,width:hc,widthRatio:.8};var tp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Jf(t),function(e,t){if(t&&("object"==Gf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kf()?Reflect.construct(t,n||[],Jf(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]);return(0,m.jsx)("text",Object.assign({},n,{children:t}))}}],r&&Qf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.PureComponent);function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,op(r.key),r)}}function op(e){var t=function(e){if("object"!=np(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==np(t)?t:t+""}function ip(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ip=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ap(e)}function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sp(e,t)}tp.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11};var lp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=ap(t),function(e,t){if(t&&("object"==np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ip()?Reflect.construct(t,n||[],ap(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]);return(0,m.jsx)("tspan",Object.assign({},n,{children:t}))}}],r&&rp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.PureComponent);function cp(e){return cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(e)}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pp(r.key),r)}}function pp(e){var t=function(e){if("object"!=cp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cp(t)?t:t+""}function dp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dp=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hp(e)}function yp(e,t){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yp(e,t)}lp.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"};var mp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=hp(t),function(e,t){if(t&&("object"==cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dp()?Reflect.construct(t,n||[],hp(e).constructor):t.apply(e,n))}(this,t,arguments)).renderSVG=function(n){var r,o=e.props,i=o.onClick,a=o.fontFamily,s=o.fontSize,l=o.fontWeight,c=o.labelFill,u=o.labelFontWeight,f=o.valueFill,p=o.className,d=o.displayValuesFor,h=void 0===d?t.defaultProps.displayValuesFor:d,y=o.origin,g=o.xDisplayFormat,v=void 0===g?t.defaultProps.xDisplayFormat:g,x=o.yDisplayFormat,w=void 0===x?t.defaultProps.yDisplayFormat:x,S=o.xLabel,k=o.yLabel,E=o.xAccessor,C=void 0===E?t.defaultProps.xAccessor:E,O=o.yAccessor,P=void 0===O?t.defaultProps.yAccessor:O,j=o.xInitDisplay,_=o.yInitDisplay,A=n.chartConfig,D=A.width,M=A.height,N=n.fullData,I=null!==(r=h(e.props,n))&&void 0!==r?r:T(N),L=j,R=_;if(void 0!==I){var F=C(I);void 0!==F&&(L=v(F));var z=P(I);void 0!==z&&(R=w(z))}var V=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?up(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b(y)(D,M),2),B=V[0],W=V[1];return(0,m.jsx)("g",Object.assign({className:p,transform:"translate(".concat(B,", ").concat(W,")"),onClick:i},{children:(0,m.jsxs)(tp,Object.assign({x:0,y:0,fontFamily:a,fontSize:s,fontWeight:l},{children:[S?(0,m.jsx)(lp,Object.assign({x:0,dy:"5",fill:c},{children:"".concat(S,": ")})):null,S?(0,m.jsx)("tspan",Object.assign({fill:f},{children:"".concat(L," ")})):null,(0,m.jsx)(lp,Object.assign({fill:c,fontWeight:u},{children:"".concat(k," ")})),(0,m.jsx)("tspan",Object.assign({fill:f},{children:R}))]}))}))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])&&fp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function gp(e){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(e)}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bp(r.key),r)}}function bp(e){var t=function(e){if("object"!=gp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gp(t)?t:t+""}function xp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xp=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wp(e)}function Sp(e,t){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sp(e,t)}mp.defaultProps={className:"react-financial-charts-tooltip",displayValuesFor:function(e,t){return t.currentItem},labelFill:"#4682B4",origin:[0,0],valueFill:"#000000",xAccessor:R,xDisplayFormat:Y,xInitDisplay:"n/a",yAccessor:Y,yDisplayFormat:dt(".2f"),yInitDisplay:"n/a"};var kp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ep=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=wp(t),function(e,t){if(t&&("object"==gp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xp()?Reflect.construct(t,n||[],wp(e).constructor):t.apply(e,n))}(this,t,arguments)).axisZoomCallback=function(t){var n=e.context.xAxisZoom;n&&n(t)},e.helper=function(){var n,r=e.props,o=r.axisAt,i=r.xZoomHeight,a=void 0===i?t.defaultProps.xZoomHeight:i,s=r.orient,l=r.ticks,c=e.context.chartConfig,u=c.width,f=c.height,p=u,d=a;switch(o){case"top":n=0;break;case"bottom":n=f;break;case"middle":n=f/2;break;default:n=null!=o?o:f}var h="top"===s?-a:0;return{transform:[0,n],range:[0,u],getScale:e.getXScale,bg:{x:0,y:h,h:d,w:p},ticks:null!=l?l:e.getXTicks(u)}},e.getXTicks=function(e){return e<400?2:e<500?6:8},e.getXScale=function(e){var t=e.xScale,n=e.width;if(t.invert){var r=[0,n],o=r.map(t.invert);return t.copy().domain(o).range(r)}return t},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.getMouseDelta,r=void 0===n?t.defaultProps.getMouseDelta:n,o=e.outerTickSize,i=void 0===o?t.defaultProps.outerTickSize:o,a=e.showTicks,s=e.strokeStyle,l=void 0===s?t.defaultProps.strokeStyle:s,c=e.strokeWidth,u=void 0===c?t.defaultProps.strokeWidth:c,f=e.zoomEnabled,p=kp(e,["getMouseDelta","outerTickSize","showTicks","strokeStyle","strokeWidth","zoomEnabled"]),d=kp(this.helper(),[]);return(0,m.jsx)(uf,Object.assign({},p,d,{getMouseDelta:r,outerTickSize:i,showTicks:a,strokeStyle:l,strokeWidth:u,zoomEnabled:f&&a,axisZoomCallback:this.axisZoomCallback}))}}])&&vp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Cp(e){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(e)}function Op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jp(r.key),r)}}function jp(e){var t=function(e){if("object"!=Cp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cp(t)?t:t+""}function _p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_p=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(e)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ap(e,t)}Ep.defaultProps={axisAt:"bottom",className:"react-financial-charts-x-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(e,t){return e[0]-t[0]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,orient:"bottom",outerTickSize:0,innerTickSize:4,showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",xZoomHeight:25,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ew-resize-cursor"},Ep.contextType=Xr;var Dp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Tp(t),function(e,t){if(t&&("object"==Cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_p()?Reflect.construct(t,n||[],Tp(e).constructor):t.apply(e,n))}(this,t,arguments)).isHover=function(){return!1},e.drawOnCanvas=function(t,n){var r=e.props,o=r.xyProvider,i=r.fontFamily,a=r.fontSize,s=r.fillStyle,l=r.children,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Op(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o(n),2),u=c[0],f=c[1];t.font="".concat(a,"px ").concat(i),t.fillStyle=s,t.beginPath(),t.fillText(l,u,f)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.selected;return(0,m.jsx)(io,{isHover:this.isHover,selected:e,canvasToDraw:Hr,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan","drag"]})}}])&&Pp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Mp(e){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(e)}function Np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ip(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(e,t){if(e){if("string"==typeof e)return Lp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lp(e,t):void 0}}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fp(r.key),r)}}function Fp(e){var t=function(e){if("object"!=Mp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mp(t)?t:t+""}function zp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zp=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(e)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bp(e,t)}Dp.defaultProps={selected:!1};var Wp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Vp(t),function(e,t){if(t&&("object"==Mp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zp()?Reflect.construct(t,n||[],Vp(e).constructor):t.apply(e,n))}(this,t,[e])).handleEdge2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1,s=r.y1,l=r.y2;i(e,o,{x1:a,y1:s,x2:Np(ei(t),1)[0],y2:l})},n.handleEdge1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.y1,s=r.x2,l=r.y2;i(e,o,{x1:Np(ei(t),1)[0],y1:a,x2:s,y2:l})},n.handleLineNSResizeBottom=function(e,t){var r=n.props,o=r.index;(0,r.onDrag)(e,o,{x1:r.x1,y1:r.y1,x2:r.x2,y2:Np(ei(t),2)[1]})},n.handleLineNSResizeTop=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1,s=r.x2,l=r.y2;i(e,o,{x1:a,y1:Np(ei(t),2)[1],x2:s,y2:l})},n.handleLineMove=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.x1,l=a.y1,c=a.x2,u=a.y2,f=t.xScale,p=t.chartConfig.yScale,d=t.xAccessor,h=t.fullData,y=t.startPos,m=t.mouseXY,g=f(s),v=p(l),b=f(c),x=p(u),w=y[0]-m[0],S=y[1]-m[1];i(e,o,{x1:Mt(f,d,[g-w,v-S],h),y1:p.invert(v-S),x2:Mt(f,d,[b-w,x-S],h),y2:p.invert(x-S)})},n.handleLineDragStart=function(){var e=n.props,t=e.x1,r=e.y1,o=e.x2,i=e.y2;n.dragStart={x1:t,y1:r,x2:o,y2:i}},n.handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.x1,s=r.y1,l=r.x2,c=r.y2,u=r.type,f=n.checkIfHovered(t);console.log(" EachFibRetracement clicked, index:",o,"isActuallyHovered:",f,"coords:",{start:[a,s],end:[l,c]}),i&&f&&i(e,[{index:o,start:[a,s],end:[l,c],x1:a,y1:s,x2:l,y2:c,selected:!0,type:u}],t)},n.handleDragComplete=function(e,t){console.log(" EachFibRetracement handleDragComplete called");var r=n.props,o=r.onDragComplete,i=r.onSelect,a=r.index,s=r.x1,l=r.y1,c=r.x2,u=r.y2,f=r.type;if(void 0!==o&&o(e,t),void 0!==i){console.log("   Selecting fibonacci after drag, index:",a);var p=[{index:a,start:[s,l],end:[c,u],x1:s,y1:l,x2:c,y2:u,selected:!0,type:f}];setTimeout(function(){i(e,p,t)},50)}},n.checkIfHovered=function(e){var t,r=n.props,o=r.x1,i=r.x2,a=r.y1,s=r.y2,l=r.index,c=e.mouseXY,u=e.xScale,f=e.chartConfig.yScale,p=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ip(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(Up({x1:o,y1:a,x2:i,y2:s}));try{for(p.s();!(t=p.n()).done;){var d=t.value,h=u(d.x1),y=u(d.x2),m=f(d.y),g=Np(c,2),v=g[0],b=g[1],x=Math.min(h,y)-50,w=Math.max(h,y)+50;if(v>=x&&v<=w&&b>=m-50&&b<=m+50){var S=Math.abs(b-m);if(S<=50)return console.log(" EachFibRetracement[".concat(l,"] hover detected on ").concat(d.percent,"% line, distance: ").concat(S)),!0}}}catch(e){p.e(e)}finally{p.f()}return!1},n.isHover=W.bind(n),n.saveNodeType=V.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.x1,r=t.x2,o=t.y1,i=t.y2,a=this.props,s=a.interactive,l=a.yDisplayFormat,c=a.type,u=a.appearance,f=u.strokeStyle,p=u.strokeWidth,d=u.fontFamily,h=u.fontSize,y=u.fontFill,g=u.edgeStroke,v=u.edgeFill,b=u.nsEdgeFill,x=u.edgeStrokeWidth,w=u.r,S=this.props,k=S.hoverText,E=S.selected,C=this.state.hover,O=(this.props.onDragComplete,Up({x1:n,x2:r,y1:o,y2:i})),P=k.enable,_=k.selectedText,A=k.text,D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(k,["enable","selectedText","text"]),M="EXTEND"===c?"XLINE":"BOUND"===c?"LINE":"RAY",N=j(O).y1>T(O).y1?3:-1.3;return(0,m.jsxs)("g",{children:[O.map(function(t,n){var r="".concat(l(t.y)," (").concat(t.percent.toFixed(2),"%)"),o=0===n||n===O.length-1,i=o?"react-financial-charts-ns-resize-cursor":"react-financial-charts-move-cursor",a=o?"react-financial-charts-ns-resize-cursor":"react-financial-charts-ew-resize-cursor",c=0===n?e.handleLineNSResizeTop:n===O.length-1?e.handleLineNSResizeBottom:e.handleLineMove,u=0===n?e.handleLineNSResizeTop:n===O.length-1?e.handleLineNSResizeBottom:e.handleEdge1Drag,S=0===n?e.handleLineNSResizeTop:n===O.length-1?e.handleLineNSResizeBottom:e.handleEdge2Drag,k=s?{onHover:e.handleHover,onUnHover:e.handleHover}:{};return(0,m.jsxs)("g",{children:[(0,m.jsx)(yo,Object.assign({ref:e.saveNodeType("line_".concat(n)),selected:E||C},k,{onClick:e.handleClick,type:M,x1Value:t.x1,y1Value:t.y,x2Value:t.x2,y2Value:t.y,strokeStyle:f,strokeWidth:C||E?p+1:p,interactiveCursorClass:i,onDragStart:e.handleLineDragStart,onDrag:c,onDragComplete:e.handleDragComplete})),(0,m.jsx)(Dp,Object.assign({selected:E,xyProvider:function(e){var n=e.xScale,r=e.chartConfig.yScale,o=bo({type:M,start:[t.x1,t.y],end:[t.x2,t.y],xScale:n,yScale:r}),i=o.x1,a=o.y1,s=o.x2;return[n(Math.min(i,s))+10,r(a)+4*N]},fontFamily:d,fontSize:h,fillStyle:y},{children:r})),(0,m.jsx)(Ho,{ref:e.saveNodeType("edge1"),show:E||C,cx:t.x1,cy:t.y,r:w,fillStyle:o?b:v,strokeStyle:g,strokeWidth:x,interactiveCursorClass:a,onDrag:u,onDragComplete:e.handleDragComplete}),(0,m.jsx)(Ho,{ref:e.saveNodeType("edge2"),show:E||C,cx:t.x2,cy:t.y,r:w,fillStyle:o?b:v,strokeStyle:g,strokeWidth:x,interactiveCursorClass:a,onDrag:S,onDragComplete:e.handleDragComplete})]},n)}),(0,m.jsx)(Io,Object.assign({show:P&&C},D,{text:E?_:A}))]})}}],r&&Rp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Up(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=o-n;return[100,61.8,50,38.2,23.6,0].map(function(e){return{percent:e,x1:t,x2:r,y:o-e/100*i}})}function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Yp(e){return function(e){if(Array.isArray(e))return Xp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$p(r.key),r)}}function $p(e){var t=function(e){if("object"!=Hp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hp(t)?t:t+""}function Gp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gp=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qp(e)}function Zp(e,t){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zp(e,t)}Wp.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,appearance:{strokeStyle:"#000000",strokeWidth:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:10,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5},selected:!1,onDrag:R,onSelect:R,hoverText:{enable:!1}};var Kp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Qp(t),function(e,t){if(t&&("object"==Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gp()?Reflect.construct(t,n||[],Qp(e).constructor):t.apply(e,n))}(this,t,[e])).handleDrawRetracement=function(e,t){var r=n.state.current;A(r)&&A(r.x1)&&(n.mouseMoved=!0,n.setState({current:Object.assign(Object.assign({},r),{x2:t[0],y2:t[1]})}))},n.handleEdge1Drag=function(e,t,r,o){var i=n.props.retracements,a=t.index,s=o.x1Value-r.x1Value;n.setState({override:{index:a,x1:i[a].x1-s,y1:i[a].y1,x2:i[a].x2,y2:i[a].y2}})},n.handleDrag=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.handleEdge2Drag=function(e,t,r,o){var i=n.props.retracements,a=t.index,s=o.x2Value-r.x2Value;n.setState({override:{index:a,x1:i[a].x1,y1:i[a].y1,x2:i[a].x2-s,y2:i[a].y2}})},n.handleDragComplete=function(e,t){var r=n.props.retracements,o=n.state.override;if(A(o)){var i=o.index,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["index"]),s=r.map(function(e,t){return t===i?Object.assign(Object.assign(Object.assign({},e),a),{selected:!0}):e});n.setState({override:null},function(){var r=n.props.onComplete;void 0!==r&&r(e,s,t)})}},n.handleStart=function(e,t,r){var o=n.state.current;(D(o)||D(o.x1))&&(n.mouseMoved=!1,n.setState({current:{x1:t[0],y1:t[1],x2:null,y2:null}},function(){var e=n.props.onStart;void 0!==e&&e(r)}))},n.handleEnd=function(e,t,r){var o=n.props,i=o.retracements,a=o.appearance,s=o.type,l=n.state.current;if(A(l)&&A(l.x1)){var c=l.x1,u=l.y1,f=t[0],p=t[1],d=Math.abs(c-f)>1||Math.abs(u-p)>1;if(n.mouseMoved||d){var h=Object.assign(Object.assign({},l),{x2:t[0],y2:t[1],selected:!0,appearance:a,type:s}),y=n.props.onMCPCreate;if(y){var m=n.generateElementId(),g={id:m,start:[l.x1,l.y1],end:[t[0],t[1]],type:s};console.log(" MCP Fibonacci Create:",{elementId:m,mcpElementData:g,appearance:a}),y("fibonacci",g,a)}else{var v=i.concat(h),b=n.props.onComplete;void 0!==b&&b(e,v,r)}n.setState({current:null})}}},n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.terminate=z.bind(n),n.getSelectionState=B("retracements").bind(n),n.saveNodeType=V.bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zp(e,t)}(t,e),n=t,(r=[{key:"convertMCPElementsToRetracements",value:function(e){var t=this;return e.filter(function(e){return"fibonacci"===e.type}).map(function(e){return{id:e.id,x1:e.data.start[0],y1:e.data.start[1],x2:e.data.end[0],y2:e.data.end[1],selected:e.selected||!1,appearance:e.appearance,type:e.data.type||t.props.type}})}},{key:"generateElementId",value:function(){return"fib_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},{key:"render",value:function(){var e=this,n=this.state,r=n.current,o=n.override,i=this.props,a=i.appearance,s=i.currentPositionStroke,l=i.currentPositionOpacity,c=i.currentPositionStrokeWidth,u=i.currentPositionRadius,f=void 0===u?t.defaultProps.currentPositionRadius:u,p=i.retracements,d=i.type,h=i.mcpElements,y=h?this.convertMCPElementsToRetracements(h):[],g=[].concat(Yp(p||[]),Yp(y)),v=this.props,b=v.enabled,x=v.hoverText,w=A(o)?o.index:null,S=Object.assign(Object.assign({},t.defaultProps.hoverText),x),k=A(r)&&A(r.x2)?(0,m.jsx)(Wp,Object.assign({interactive:!1,type:d,appearance:a,hoverText:S},r)):null;return(0,m.jsxs)("g",{children:[g.map(function(t,n){var r=A(t.appearance)?Object.assign(Object.assign({},a),t.appearance):a,i=A(t.hoverText)?Object.assign(Object.assign({},S),t.hoverText):S;return(0,m.jsx)(Wp,Object.assign({ref:e.saveNodeType(n),index:n,type:t.type,selected:t.selected},n===w?o:t,{hoverText:i,appearance:r,onSelect:e.props.onSelect,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete}),n)}),k,(0,m.jsx)(Oo,{enabled:b,snap:!1,r:f,stroke:s,opacity:l,strokeWidth:c,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawRetracement})]})}}])&&qp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Jp(e){return Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(e)}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nd(r.key),r)}}function nd(e){var t=function(e){if("object"!=Jp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jp(t)?t:t+""}function rd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rd=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},od(e)}function id(e,t){return id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},id(e,t)}Kp.defaultProps={enabled:!0,type:"RAY",retracements:[],onSelect:R,hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,appearance:{strokeStyle:"#000000",strokeWidth:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5}};var ad=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=od(t),function(e,t){if(t&&("object"==Jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rd()?Reflect.construct(t,n||[],od(e).constructor):t.apply(e,n))}(this,t,[e])).isHover=function(e){var t=n.props;return t.tolerance,void 0!==t.onHover&&n.isHoveringOverTriangle(e)},n.drawOnCanvas=function(e,t){var r=n.props,o=r.point1,i=r.point2,a=r.point3,s=r.strokeStyle,l=r.strokeWidth,c=r.fillStyle,u=r.fillOpacity,f=r.selected;if(A(o)&&A(i)&&A(a)){var p=t.xScale,d=t.chartConfig.yScale,h=p(o[0]),y=d(o[1]),m=p(i[0]),g=d(i[1]),v=p(a[0]),b=d(a[1]);e.fillStyle=c,e.globalAlpha=f?u+.1:u,e.beginPath(),e.moveTo(h,y),e.lineTo(m,g),e.lineTo(v,b),e.closePath(),e.fill(),e.globalAlpha=1,e.strokeStyle=s,e.lineWidth=f?l+1:l,e.beginPath(),e.moveTo(h,y),e.lineTo(m,g),e.lineTo(v,b),e.closePath(),e.stroke()}},n.isHoveringOverTriangle=function(e){var t=n.props,r=t.point1,o=t.point2,i=t.point3,a=t.tolerance,s=e.mouseXY,l=e.xScale,c=e.chartConfig.yScale;if(!r||!o||!i)return!1;var u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ed(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2),f=u[0],p=u[1],d=l(r[0]),h=c(r[1]),y=l(o[0]),m=c(o[1]),g=l(i[0]),v=c(i[1]),b=(m-v)*(d-g)+(g-y)*(h-v);if(Math.abs(b)<1e-10)return!1;var x=((m-v)*(f-g)+(g-y)*(p-v))/b,w=((v-h)*(f-g)+(d-g)*(p-v))/b,S=1-x-w,k=x>=0&&w>=0&&S>=0&&x<=1&&w<=1&&S<=1,E=n.pointToLineDistance(f,p,d,h,y,m),C=n.pointToLineDistance(f,p,y,m,g,v),O=n.pointToLineDistance(f,p,g,v,d,h);return k||E<=a||C<=a||O<=a},n.pointToLineDistance=function(e,t,n,r,o,i){var a=e-n,s=t-r,l=o-n,c=i-r,u=a*l+s*c,f=l*l+c*c;if(0===f)return Math.sqrt(a*a+s*s);var p=u/f,d=e-(n+(p=Math.max(0,Math.min(1,p)))*l),h=t-(r+p*c);return Math.sqrt(d*d+h*h)},n.handleDragStart=function(e,t){var r=n.props,o=r.point1,i=r.point2,a=r.point3,s=r.onDragStart,l=t.mouseXY,c=t.xScale,u=t.chartConfig.yScale,f=c.invert(l[0]),p=u.invert(l[1]);n.setState({dragStartPos:[f,p],originalPoints:{point1:[o[0],o[1]],point2:[i[0],i[1]],point3:[a[0],a[1]]}}),s&&s(e,t)},n.handleDrag=function(e,t){var r=n.props.onDrag,o=n.state,i=o.dragStartPos,a=o.originalPoints;if(i&&a&&r){var s=t.mouseXY,l=t.xScale,c=t.chartConfig.yScale,u=l.invert(s[0]),f=c.invert(s[1]),p=u-i[0],d=f-i[1],h={point1:[a.point1[0]+p,a.point1[1]+d],point2:[a.point2[0]+p,a.point2[1]+d],point3:[a.point3[0]+p,a.point3[1]+d]};console.log(" TriangleWithArea.handleDrag calling onDrag:",h),r(e,h)}},n.handleDragComplete=function(e,t){var r=n.props.onDragComplete;n.setState({dragStartPos:void 0,originalPoints:void 0}),r&&r(e,t)},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&id(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,o=(r.onDragStart,r.onDrag,r.onDragComplete,r.onHover),i=r.onUnHover,a=r.onClick;return(0,m.jsx)(io,{isHover:this.isHover,canvasToDraw:Hr,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragComplete,onHover:o,onUnHover:i,onClick:a,drawOn:["mousemove","mouseleave","pan","drag"]})}}])&&td(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}function ld(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fd(r.key),r)}}function fd(e){var t=function(e){if("object"!=sd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sd(t)?t:t+""}function pd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pd=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(e)}function hd(e,t){return hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hd(e,t)}ad.defaultProps={strokeWidth:1,tolerance:20,selected:!1,fillOpacity:.1};var yd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=dd(t),function(e,t){if(t&&("object"==sd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pd()?Reflect.construct(t,n||[],dd(e).constructor):t.apply(e,n))}(this,t,[e])).handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleTriangleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.point1,s=r.point2,l=r.point3,c=n.checkIfHovered(t);console.log(" EachTrianglePattern clicked, index:",o,"isActuallyHovered:",c,"coordinates:",{point1:a,point2:s,point3:l}),i&&c&&i(e,[{index:o,point1:a,point2:s,point3:l,selected:!0}],t)},n.checkIfHovered=function(e){var t=n.props,r=t.point1,o=t.point2,i=t.point3,a=t.index,s=e.mouseXY,l=e.xScale,c=e.chartConfig.yScale,u=[l(r[0]),c(r[1])],f=[l(o[0]),c(o[1])],p=[l(i[0]),c(i[1])],d=ld(s,2),h=d[0],y=d[1];if(n.pointInTriangle([h,y],u,f,p))return console.log(" EachTrianglePattern[".concat(a,"] hover detected inside triangle area")),!0;var m=n.distanceToLineSegment([h,y],u,f),g=n.distanceToLineSegment([h,y],f,p),v=n.distanceToLineSegment([h,y],p,u),b=Math.min(m,g,v);return b<=20&&(console.log(" EachTrianglePattern[".concat(a,"] hover detected on edge, distance: ").concat(b)),!0)},n.handleDragComplete=function(e,t){console.log(" EachTrianglePattern handleDragComplete called");var r=n.props,o=r.onDragComplete,i=r.onSelect,a=r.index,s=r.point1,l=r.point2,c=r.point3;if(void 0!==o&&o(e,t),void 0!==i){console.log("   Selecting triangle after drag, index:",a);var u=[{index:a,point1:s,point2:l,point3:c,selected:!0}];setTimeout(function(){i(e,u,t)},50)}},n.handleTriangleDragStart=function(){},n.handleTriangleDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag;console.log(" EachTrianglePattern.handleTriangleDrag called:",{index:o,hasOnDrag:!!i,newTriangleData:t}),i&&i(e,o,t)},n.handlePoint1DragStart=function(){n.setState({anchor:"point1"})},n.handlePoint2DragStart=function(){n.setState({anchor:"point2"})},n.handlePoint3DragStart=function(){n.setState({anchor:"point3"})},n.handlePoint1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point2,s=r.point3,l=ld(ei(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:[c,u],point2:a,point3:s})},n.handlePoint2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point1,s=r.point3,l=ld(ei(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:a,point2:[c,u],point3:s})},n.handlePoint3Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point1,s=r.point2,l=ld(ei(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:a,point2:s,point3:[c,u]})},n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.point1,n=e.point2,r=e.point3,o=e.strokeStyle,i=e.strokeWidth,a=e.fillStyle,s=e.fillOpacity,l=e.edgeStroke,c=e.edgeFill,u=e.edgeStrokeWidth,f=e.r,p=e.selected,d=e.hoverText,h=(e.onDragComplete,this.state),y=h.hover,g=h.anchor;if(!A(t)||!A(n)||!A(r))return null;var v=A(d)&&d.enable,b=A(d)&&d.text,x=A(d)&&d.selectedText;return(0,m.jsxs)("g",{children:[(0,m.jsx)(ad,{point1:t,point2:n,point3:r,strokeStyle:o,strokeWidth:i,fillStyle:a,fillOpacity:s,selected:p||y,tolerance:4,interactiveCursorClass:"react-financial-charts-move-cursor",onDragStart:this.handleTriangleDragStart,onDrag:this.handleTriangleDrag,onDragComplete:this.handleDragComplete,onHover:this.handleHover,onUnHover:this.handleHover,onClick:this.handleTriangleClick}),(p||y)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ho,{show:!0,cx:t[0],cy:t[1],r:f,fillStyle:"point1"===g?o:c,strokeStyle:l,strokeWidth:u,onDragStart:this.handlePoint1DragStart,onDrag:this.handlePoint1Drag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Ho,{show:!0,cx:n[0],cy:n[1],r:f,fillStyle:"point2"===g?o:c,strokeStyle:l,strokeWidth:u,onDragStart:this.handlePoint2DragStart,onDrag:this.handlePoint2Drag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Ho,{show:!0,cx:r[0],cy:r[1],r:f,fillStyle:"point3"===g?o:c,strokeStyle:l,strokeWidth:u,onDragStart:this.handlePoint3DragStart,onDrag:this.handlePoint3Drag,onDragComplete:this.handleDragComplete})]}),(0,m.jsx)(Io,Object.assign({show:v&&y},d,{text:p?x:b}))]})}},{key:"pointInTriangle",value:function(e,t,n,r){var o=ld(e,2),i=o[0],a=o[1],s=ld(t,2),l=s[0],c=s[1],u=ld(n,2),f=u[0],p=u[1],d=ld(r,2),h=d[0],y=d[1],m=(p-y)*(l-h)+(h-f)*(c-y);if(Math.abs(m)<1e-10)return!1;var g=((p-y)*(i-h)+(h-f)*(a-y))/m,v=((y-c)*(i-h)+(l-h)*(a-y))/m;return g>=0&&v>=0&&1-g-v>=0}},{key:"distanceToLineSegment",value:function(e,t,n){var r=ld(e,2),o=r[0],i=r[1],a=ld(t,2),s=a[0],l=a[1],c=ld(n,2),u=c[0],f=c[1],p=o-s,d=i-l,h=u-s,y=f-l,m=p*h+d*y,g=h*h+y*y;if(0===g)return Math.sqrt(p*p+d*d);var v,b,x=m/g;x<0?(v=s,b=l):x>1?(v=u,b=f):(v=s+x*h,b=l+x*y);var w=o-v,S=i-b;return Math.sqrt(w*w+S*S)}}])&&ud(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function gd(e){return function(e){if(Array.isArray(e))return vd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xd(r.key),r)}}function xd(e){var t=function(e){if("object"!=md(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==md(t)?t:t+""}function wd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wd=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}function kd(e,t){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kd(e,t)}yd.defaultProps={selected:!1,onDrag:R};var Ed=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Sd(t),function(e,t){if(t&&("object"==md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wd()?Reflect.construct(t,n||[],Sd(e).constructor):t.apply(e,n))}(this,t,[e])).drawCurrentTriangleOnCanvas=function(e,t,n,r){var o=n.point1,i=n.point2,a=n.point3,s=n.tempPoint2,l=n.tempPoint3;if(A(o)){var c=t.xScale,u=t.chartConfig.yScale,f=c(o[0]),p=u(o[1]);if(D(i)&&D(s))return e.fillStyle=r.strokeStyle,e.globalAlpha=.7,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),void e.fill();var d=A(i)?i:s;if(A(d)&&D(a)&&D(l)){var h=c(d[0]),y=u(d[1]);return e.strokeStyle=r.strokeStyle,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(h,y),e.stroke(),e.setLineDash([]),e.fillStyle=r.strokeStyle,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(h,y,4,0,2*Math.PI),void e.fill()}var m=A(a)?a:l;if(A(d)&&A(m)){var g=c(d[0]),v=u(d[1]),b=c(m[0]),x=u(m[1]);e.fillStyle=r.fillStyle,e.globalAlpha=.5*r.fillOpacity,e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.fill(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.stroke(),e.setLineDash([]),e.fillStyle=r.strokeStyle,e.globalAlpha=.7,[f,g,b].forEach(function(t,n){var r=[p,v,x][n];e.beginPath(),e.arc(t,r,4,0,2*Math.PI),e.fill()})}}},n.handleEnd=function(e,t,r){var o=n.state.current,i=n.props,a=i.triangles,s=i.appearance;if(console.log(" Triangle handleEnd called",{current:o,xyValue:t,mouseMoved:n.mouseMoved}),A(o))if(D(o.point2)){var l=o.point1[0],c=o.point1[1],u=t[0],f=t[1],p=Math.abs(l-u)>1||Math.abs(c-f)>1;console.log("   Point2 check:",{startX:l,startY:c,endX:u,endY:f,differentPosition:p,mouseMoved:n.mouseMoved}),n.mouseMoved||p?(console.log("   Setting point2"),n.setState({current:Object.assign(Object.assign({},o),{point2:t})})):console.log("   Not setting point2 - no movement detected")}else if(D(o.point3)){var d=o.point2[0],h=o.point2[1],y=t[0],m=t[1],g=Math.abs(d-y)>1||Math.abs(h-m)>1;if(console.log("   Point3 check:",{startX:d,startY:h,endX:y,endY:m,differentPosition:g,mouseMoved:n.mouseMoved}),n.mouseMoved||g){console.log("   Completing triangle with point3");var v={point1:o.point1,point2:o.point2,point3:t,selected:!0,appearance:s},b=n.props.onMCPCreate;if(b){var x=n.generateElementId(),w={id:x,points:[o.point1,o.point2,t]};console.log(" MCP Triangle Create:",{elementId:x,mcpElementData:w,appearance:s}),b("triangle",w,s)}else{var S=[].concat(gd(a.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[v]),k=n.props.onComplete;void 0!==k&&k(e,S,r)}n.setState({current:null})}else console.log("   Not completing triangle - no movement detected")}},n.handleStart=function(e,t,r){var o=n.state.current;console.log(" Triangle handleStart called",{current:o,xyValue:t,moreProps:r?"exists":"missing"}),console.log("   Raw xyValue coordinates:",t),console.log("   MoreProps keys:",r?Object.keys(r):"N/A"),(D(o)||D(o.point1))&&(console.log("   Setting point1"),n.mouseMoved=!1,n.setState({current:{point1:t,point2:null,point3:null}},function(){var e=n.props.onStart;void 0!==e&&e(r)}))},n.handleDrawTriangle=function(e,t){var r=n.state.current;A(r)&&(n.mouseMoved=!0,A(r.point1)&&D(r.point2)?n.setState({current:Object.assign(Object.assign({},r),{tempPoint2:t})}):A(r.point2)&&D(r.point3)&&n.setState({current:Object.assign(Object.assign({},r),{tempPoint3:t})}))},n.handleDragTriangleComplete=function(e,t){var r=n.state.override;if(A(r)){var o=n.props.triangles.map(function(e,t){return t===r.index?Object.assign(Object.assign({},e),{point1:r.point1,point2:r.point2,point3:r.point3,selected:!0}):Object.assign(Object.assign({},e),{selected:!1})});n.setState({override:null},function(){var r=n.props.onDragComplete;void 0!==r&&(console.log(" TrianglePattern calling onDragComplete with:",o.length,"triangles"),r(e,o,t))})}},n.handleDragTriangle=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.terminate=z.bind(n),n.saveNodeType=V.bind(n),n.getSelectionState=B("triangles").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kd(e,t)}(t,e),n=t,(r=[{key:"convertMCPElementsToTriangles",value:function(e){return e.filter(function(e){return"triangle"===e.type}).map(function(e){return{id:e.id,point1:e.data.points[0],point2:e.data.points[1],point3:e.data.points[2],selected:e.selected||!1,appearance:e.appearance}})}},{key:"generateElementId",value:function(){return"triangle_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.currentPositionOpacity,i=n.currentPositionRadius,a=void 0===i?t.defaultProps.currentPositionRadius:i,s=n.currentPositionStroke,l=n.currentPositionStrokeWidth,c=n.enabled,u=n.hoverText,f=n.triangles,p=n.mcpElements,d=p?this.convertMCPElementsToTriangles(p):[],h=[].concat(gd(f||[]),gd(d)),y=this.state,g=y.current,v=y.override;return(0,m.jsxs)("g",{children:[h.map(function(n,o){var i=A(n.appearance)?Object.assign(Object.assign({},r),n.appearance):r,a=Object.assign(Object.assign({},t.defaultProps.hoverText),u),s=v&&v.index===o?Object.assign(Object.assign({},n),{point1:v.point1,point2:v.point2,point3:v.point3}):n;return(0,m.jsx)(yd,{ref:e.saveNodeType(o),index:o,selected:s.selected,point1:s.point1,point2:s.point2,point3:s.point3,strokeStyle:i.strokeStyle,strokeWidth:i.strokeWidth,fillStyle:i.fillStyle,fillOpacity:i.fillOpacity,edgeStroke:i.edgeStroke,edgeFill:i.edgeFill,edgeStrokeWidth:i.edgeStrokeWidth,r:i.r,hoverText:a,onSelect:e.props.onSelect,onDrag:e.handleDragTriangle,onDragComplete:e.handleDragTriangleComplete},o)}),A(g)&&(0,m.jsx)(io,{canvasToDraw:Hr,canvasDraw:function(t,n){return e.drawCurrentTriangleOnCanvas(t,n,g,r)},drawOn:["mousemove","pan","drag"]}),c&&(0,m.jsx)(Oo,{enabled:c,snap:!1,r:a,stroke:s,opacity:o,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawTriangle})]})}}])&&bd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Cd(e){return Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(e)}function Od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jd(r.key),r)}}function jd(e){var t=function(e){if("object"!=Cd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cd(t)?t:t+""}function _d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_d=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(e)}function Ad(e,t){return Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ad(e,t)}Ed.defaultProps={onStart:R,onSelect:R,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select pattern",selectedText:""}),triangles:[],appearance:{strokeStyle:"#1f77b4",strokeWidth:2,fillStyle:"#1f77b4",fillOpacity:.1,edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var Dd=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Td(t),function(e,t){if(t&&("object"==Cd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_d()?Reflect.construct(t,n||[],Td(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.props,o=r.strokeStyle,i=r.strokeWidth,a=r.fillStyle,s=Md(e.props,n),l=s.line1,c=s.line2;if(void 0!==l){var u=l.x1,f=l.y1,p=l.x2,d=l.y2;if(t.lineWidth=i,t.strokeStyle=o,t.beginPath(),t.moveTo(u,f),t.lineTo(p,d),t.stroke(),void 0!==c){var h=c.y1,y=c.y2;t.beginPath(),t.moveTo(u,h),t.lineTo(p,y),t.stroke(),t.fillStyle=a,t.beginPath(),t.moveTo(u,f),t.lineTo(p,d),t.lineTo(p,y),t.lineTo(u,h),t.closePath(),t.fill()}}},e.isHover=function(t){var n=e.props,r=n.tolerance;if(void 0!==n.onHover){var o=Md(e.props,t),i=o.line1,a=o.line2;if(void 0!==i&&void 0!==a){var s=t.mouseXY,l=t.xScale,c=t.chartConfig.yScale,u=mo({x1Value:i.x1,y1Value:i.y1,x2Value:i.x2,y2Value:i.y2,type:"LINE",mouseXY:s,tolerance:r,xScale:l,yScale:c}),f=mo({x1Value:a.x1,y1Value:a.y1,x2Value:a.x2,y2Value:a.y2,type:"LINE",mouseXY:s,tolerance:r,xScale:l,yScale:c}),p=function(e){var t=e.line1,n=e.line2,r=e.mouseXY;if(!t||!n||!r)return!1;var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Od(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Od(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),i=o[0],a=o[1],s=t.x1,l=t.y1,c=t.x2,u=t.y2,f=n.y1,p=n.y2,d=Math.min(s,c),h=Math.max(s,c);if(i<d||i>h)return!1;var y=(i-s)/(c-s),m=l+(u-l)*y,g=f+(p-f)*y,v=Math.min(m,g),b=Math.max(m,g);return a>=v&&a<=b}({line1:i,line2:a,mouseXY:s,xScale:l,yScale:c});return u||f||p}}return!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ad(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,o=r.onDragStart,i=r.onDrag,a=r.onDragComplete,s=r.onClick,l=r.onHover,c=r.onUnHover;return(0,m.jsx)(io,{isHover:this.isHover,canvasToDraw:Hr,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:o,onDrag:i,onDragComplete:a,onClick:s,onHover:l,onUnHover:c,drawOn:["mousemove","mouseleave","pan","drag"]})}}])&&Pd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Md(e,t){var n=function(e,t){var n=e.startXY,r=e.endXY,o=e.dy,i=e.type,a=t.xScale;if(D(n)||D(r))return{};var s=bo({type:i,start:n,end:r,xScale:a,yScale:void 0});return{line1:s,line2:A(o)?Object.assign(Object.assign({},s),{y1:s.y1+o,y2:s.y2+o}):void 0}}(e,t),r=t.xScale,o=t.chartConfig.yScale,i=void 0!==n.line1?{x1:r(n.line1.x1),y1:o(n.line1.y1),x2:r(n.line1.x2),y2:o(n.line1.y2)}:void 0;return{lines:n,line1:i,line2:void 0!==n.line2?{x1:i.x1,y1:o(n.line2.y1),x2:i.x2,y2:o(n.line2.y2)}:void 0}}function Nd(e){return Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(e)}function Id(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ld(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ld(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fd(r.key),r)}}function Fd(e){var t=function(e){if("object"!=Nd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Nd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nd(t)?t:t+""}function zd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zd=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vd(e)}function Bd(e,t){return Bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bd(e,t)}Dd.defaultProps={type:"LINE",strokeWidth:1,tolerance:4,selected:!1};var Wd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Vd(t),function(e,t){if(t&&("object"==Nd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zd()?Reflect.construct(t,n||[],Vd(e).constructor):t.apply(e,n))}(this,t,[e])).getEdgeCircle=function(e){var t=e.xy,r=e.dragHandler,o=e.cursor,i=e.fill,a=e.edge,s=n.state.hover,l=n.props.appearance,c=l.edgeStroke,u=l.edgeStrokeWidth,f=l.r,p=n.props.selected;return n.props.onDragComplete,(0,m.jsx)(Ho,{ref:n.saveNodeType(a),show:p||s,cx:t[0],cy:t[1],r:f,fillStyle:i,strokeStyle:c,strokeWidth:u,interactiveCursorClass:o,onDragStart:n.handleDragStart,onDrag:r,onDragComplete:n.handleDragComplete})},n.handleChannelHeightChange=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.startXY,l=a.endXY,c=t.chartConfig.yScale,u=t.startPos,f=t.mouseXY,p=c(l[1]),d=u[1]-f[1];i(e,o,{startXY:s,endXY:l,dy:c.invert(p-d)-l[1]+n.dragStart.dy})},n.handleLine1Edge2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart.endXY,s=t.startPos,l=t.mouseXY,c=t.xAccessor,u=t.xScale,f=t.fullData,p=t.chartConfig.yScale,d=s[0]-l[0],h=s[1]-l[1],y=u(a[0]),m=p(a[1]),g=Mt(u,c,[y-d,m-h],f),v=p.invert(m-h);i(e,o,{startXY:n.dragStart.startXY,endXY:[g,v],dy:n.dragStart.dy})},n.handleLine1Edge1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart.startXY,s=t.startPos,l=t.mouseXY,c=t.xAccessor,u=t.xScale,f=t.fullData,p=t.chartConfig.yScale,d=s[0]-l[0],h=s[1]-l[1],y=u(a[0]),m=p(a[1]);i(e,o,{startXY:[Mt(u,c,[y-d,m-h],f),p.invert(m-h)],endXY:n.dragStart.endXY,dy:n.dragStart.dy})},n.handleChannelDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.startXY,l=a.endXY,c=t.xScale,u=t.chartConfig.yScale,f=t.xAccessor,p=t.fullData,d=t.startPos,h=t.mouseXY,y=c(s[0]),m=u(s[1]),g=c(l[0]),v=u(l[1]),b=d[0]-h[0],x=d[1]-h[1];i(e,o,{startXY:[Mt(c,f,[y-b,m-x],p),u.invert(m-x)],endXY:[Mt(c,f,[g-b,v-x],p),u.invert(v-x)],dy:n.dragStart.dy})},n.handleDragStart=function(){var e=n.props,t=e.startXY,r=e.endXY,o=e.dy;n.dragStart={startXY:t,endXY:r,dy:o}},n.handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.startXY,s=r.endXY,l=r.dy,c=n.checkIfHovered(t);console.log(" EachEquidistantChannel clicked, index:",o,"isActuallyHovered:",c,"coordinates:",{startXY:a,endXY:s,dy:l}),i&&c&&i(e,[{index:o,startXY:a,endXY:s,dy:l,selected:!0}],t)},n.checkIfHovered=function(e){var t=n.props,r=t.startXY,o=t.endXY,i=t.dy,a=t.index,s=e.mouseXY,l=e.xScale,c=e.chartConfig.yScale,u=[l(r[0]),c(r[1])],f=[l(o[0]),c(o[1])],p=i?c(o[1]+i)-c(o[1]):0,d=Id(s,2),h=d[0],y=d[1],m=Math.min(u[0],f[0])-30,g=Math.max(u[0],f[0])+30,v=Math.min(u[1],f[1]+p)-30,b=Math.max(u[1],f[1]+p)+30;if(h>=m&&h<=g&&y>=v&&y<=b)return console.log(" EachEquidistantChannel[".concat(a,"] hover detected in channel area")),!0;var x=n.distanceToLineSegment([h,y],u,f),w=n.distanceToLineSegment([h,y],[u[0],u[1]+p],[f[0],f[1]+p]),S=Math.min(x,w);return S<=30&&(console.log(" EachEquidistantChannel[".concat(a,"] hover detected on edge, distance: ").concat(S)),!0)},n.handleDragComplete=function(e,t){console.log(" EachEquidistantChannel handleDragComplete called");var r=n.props,o=r.onDragComplete,i=r.onSelect,a=r.index,s=r.startXY,l=r.endXY,c=r.dy;if(void 0!==o&&o(e,t),void 0!==i){console.log("   Selecting channel after drag, index:",a);var u=[{index:a,startXY:s,endXY:l,dy:c,selected:!0}];setTimeout(function(){i(e,u,t)},50)}},n.convertToRgba=function(e,t){if(e.startsWith("#")){var n=e.substring(1),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);return"rgba(".concat(r,", ").concat(o,", ").concat(i,", ").concat(t,")")}return e.startsWith("rgb(")?e.replace("rgb(","rgba(").replace(")",", ".concat(t,")")):e},n.isHover=W.bind(n),n.saveNodeType=V.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bd(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.startXY,n=e.endXY,r=e.dy,o=this.props,i=o.interactive,a=o.hoverText,s=o.appearance,l=s.edgeFill,c=s.edgeFill2,u=s.stroke,f=s.strokeWidth,p=s.fill,d=s.fillOpacity,h=this.props.selected,y=(this.props.onDragComplete,this.state.hover),g=a.enable,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(a,["enable"]),b=i?{onHover:this.handleHover,onUnHover:this.handleHover}:{},x=this.convertToRgba(p,d||.1),w=A(t)&&A(n)?(0,m.jsxs)("g",{children:[this.getEdgeCircle({xy:t,dragHandler:this.handleLine1Edge1Drag,cursor:"react-financial-charts-move-cursor",fill:l,edge:"line1edge1"}),this.getEdgeCircle({xy:n,dragHandler:this.handleLine1Edge2Drag,cursor:"react-financial-charts-move-cursor",fill:l,edge:"line1edge2"})]}):null,S=void 0!==r&&A(r)?(0,m.jsxs)("g",{children:[this.getEdgeCircle({xy:[t[0],t[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-financial-charts-ns-resize-cursor",fill:c,edge:"line2edge1"}),this.getEdgeCircle({xy:[n[0],n[1]+r],dragHandler:this.handleChannelHeightChange,cursor:"react-financial-charts-ns-resize-cursor",fill:c,edge:"line2edge2"})]}):null;return(0,m.jsxs)("g",{children:[(0,m.jsx)(Dd,Object.assign({ref:this.saveNodeType("channel"),selected:h||y},b,{startXY:t,endXY:n,dy:r,strokeStyle:u,strokeWidth:y||h?f+1:f,fillStyle:x,interactiveCursorClass:"react-financial-charts-move-cursor",onDragStart:this.handleDragStart,onDrag:this.handleChannelDrag,onDragComplete:this.handleDragComplete,onClick:this.handleClick})),w,S,(0,m.jsx)(Io,Object.assign({show:g&&y&&!h},v))]})}},{key:"distanceToLineSegment",value:function(e,t,n){var r=Id(e,2),o=r[0],i=r[1],a=Id(t,2),s=a[0],l=a[1],c=Id(n,2),u=c[0],f=c[1],p=o-s,d=i-l,h=u-s,y=f-l,m=p*h+d*y,g=h*h+y*y;if(0===g)return Math.sqrt(p*p+d*d);var v,b,x=m/g;x<0?(v=s,b=l):x>1?(v=u,b=f):(v=s+x*h,b=l+x*y);var w=o-v,S=i-b;return Math.sqrt(w*w+S*S)}}],r&&Rd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Ud(e){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(e)}function Hd(e){return function(e){if(Array.isArray(e))return Yd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qd(r.key),r)}}function qd(e){var t=function(e){if("object"!=Ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ud(t)?t:t+""}function $d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($d=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gd(e)}function Qd(e,t){return Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qd(e,t)}Wd.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,selected:!1,onDrag:R,onSelect:R,hoverText:{enable:!1}};var Zd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Gd(t),function(e,t){if(t&&("object"==Ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$d()?Reflect.construct(t,n||[],Gd(e).constructor):t.apply(e,n))}(this,t,[e])).handleDragChannel=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.handleDragChannelComplete=function(e,t){var r=n.state.override,o=n.props,i=o.channels,a=o.onDragComplete;if(A(r)){var s=r.index,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["index"]),c=i.map(function(e,t){return t===s?Object.assign(Object.assign(Object.assign({},e),l),{selected:!0}):Object.assign(Object.assign({},e),{selected:!1})});void 0!==a&&a(e,c,t)}},n.handleStart=function(e,t,r){var o=n.state.current;(D(o)||D(o.startXY))&&(n.mouseMoved=!1,n.setState({current:{startXY:t,endXY:null,dy:null}},function(){var e=n.props.onStart;void 0!==e&&e()}))},n.handleEnd=function(e,t,r){var o=n.state.current,i=n.props,a=i.channels,s=i.appearance;if(A(o))if(D(o.endXY)){var l=o.startXY[0],c=o.startXY[1],u=t[0],f=t[1],p=Math.abs(l-u)>1||Math.abs(c-f)>1;(n.mouseMoved||p)&&n.setState({current:Object.assign(Object.assign({},o),{endXY:t})})}else if(D(o.dy)){var d=o.endXY[0],h=o.endXY[1],y=t[0],m=t[1],g=Math.abs(d-y)>1||Math.abs(h-m)>1;if(n.mouseMoved||g){var v=go(o.startXY,o.endXY),b=vo(v,o.endXY),x=v*t[0]+b,w=t[1]-x,S={startXY:o.startXY,endXY:o.endXY,dy:w,selected:!0,appearance:s},k=n.props.onMCPCreate;if(k){var E=n.generateElementId(),C={id:E,startXY:o.startXY,endXY:o.endXY,dy:w};console.log(" MCP Channel Create:",{elementId:E,mcpElementData:C,appearance:s}),k("channel",C,s)}else{var O=[].concat(Hd(a.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[S]),P=n.props.onComplete;void 0!==P&&P(e,O,r)}n.setState({current:null})}}},n.handleDrawChannel=function(e,t){var r=n.state.current;if(A(r))if(n.mouseMoved=!0,A(r.startXY)&&D(r.endXY))n.setState({current:Object.assign(Object.assign({},r),{tempEndXY:t})});else if(A(r.endXY)&&D(r.dy)){var o=go(r.startXY,r.endXY),i=vo(o,r.endXY),a=o*t[0]+i,s=t[1]-a;n.setState({current:Object.assign(Object.assign({},r),{tempDy:s})})}},n.drawCurrentChannelOnCanvas=function(e,t,n,r){var o=n.startXY,i=n.endXY,a=n.dy,s=n.tempEndXY,l=n.tempDy;if(A(o)){var c=t.xScale,u=t.chartConfig.yScale,f=c(o[0]),p=u(o[1]);if(D(i)&&D(s))return e.fillStyle=r.stroke,e.globalAlpha=.7,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),void e.fill();var d=A(i)?i:s;if(A(d)&&D(a)&&D(l)){var h=c(d[0]),y=u(d[1]);return e.strokeStyle=r.stroke,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(h,y),e.stroke(),e.setLineDash([]),e.fillStyle=r.stroke,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(h,y,4,0,2*Math.PI),void e.fill()}var m=A(a)?a:l;if(A(d)&&A(m)){var g=c(d[0]),v=u(d[1]),b=u(o[1]+m),x=u(d[1]+m);e.fillStyle=r.fill,e.globalAlpha=.5*(r.fillOpacity||.1),e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.lineTo(g,x),e.lineTo(f,b),e.closePath(),e.fill(),e.strokeStyle=r.stroke,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.stroke(),e.beginPath(),e.moveTo(f,b),e.lineTo(g,x),e.stroke(),e.setLineDash([]),e.fillStyle=r.stroke,e.globalAlpha=.7,[f,g,f,g].forEach(function(t,n){var r=[p,v,b,x][n];e.beginPath(),e.arc(t,r,4,0,2*Math.PI),e.fill()})}}},n.terminate=z.bind(n),n.saveNodeType=V.bind(n),n.getSelectionState=B("channels").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qd(e,t)}(t,e),n=t,(r=[{key:"convertMCPElementsToChannels",value:function(e){return e.filter(function(e){return"channel"===e.type}).map(function(e){return{id:e.id,startXY:e.data.startXY,endXY:e.data.endXY,dy:e.data.dy,selected:e.selected||!1,appearance:e.appearance}})}},{key:"generateElementId",value:function(){return"channel_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.channels,i=n.currentPositionOpacity,a=n.currentPositionRadius,s=void 0===a?t.defaultProps.currentPositionRadius:a,l=n.currentPositionStroke,c=n.currentPositionStrokeWidth,u=n.enabled,f=n.hoverText,p=(n.onDragComplete,n.mcpElements),d=p?this.convertMCPElementsToChannels(p):[],h=[].concat(Hd(o||[]),Hd(d)),y=this.state,g=y.current,v=y.override,b=A(v)?v.index:null;return(0,m.jsxs)("g",{children:[h.map(function(t,n){var o=A(t.appearance)?Object.assign(Object.assign({},r),t.appearance):r;return(0,m.jsx)(Wd,Object.assign({ref:e.saveNodeType(n),index:n,selected:t.selected,hoverText:f},n===b?v:t,{appearance:o,onDrag:e.handleDragChannel,onDragComplete:e.handleDragChannelComplete,onSelect:e.props.onSelect}),n)}),A(g)&&(0,m.jsx)(io,{canvasToDraw:Hr,canvasDraw:function(t,n){return e.drawCurrentChannelOnCanvas(t,n,g,r)},drawOn:["mousemove","pan","drag"]}),u&&(0,m.jsx)(Oo,{enabled:u,snap:!1,r:s,stroke:l,opacity:i,strokeWidth:c,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawChannel})]})}},{key:"componentDidUpdate",value:function(e){var t=this.state.override,n=this.props.channels;if(t&&e.channels!==n){var r=n[t.index];r&&r.startXY&&r.endXY&&void 0!==r.dy&&Math.abs(r.startXY[0]-t.startXY[0])<.01&&Math.abs(r.startXY[1]-t.startXY[1])<.01&&Math.abs(r.endXY[0]-t.endXY[0])<.01&&Math.abs(r.endXY[1]-t.endXY[1])<.01&&Math.abs(r.dy-t.dy)<.01&&this.setState({override:null})}}}])&&Xd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Kd(e){return Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(e)}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}function eh(e){var t=function(e){if("object"!=Kd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kd(t)?t:t+""}function th(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(th=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(e)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rh(e,t)}Zd.defaultProps={onSelect:R,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Object.assign(Object.assign({},Io.defaultProps),{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select object"}),channels:[],appearance:{stroke:"#000000",strokeOpacity:1,strokeWidth:1,fill:"#8AAFE2",fillOpacity:.7,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeFill2:"#250B98",edgeStrokeWidth:1,r:5}};var oh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=nh(t),function(e,t){if(t&&("object"==Kd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,th()?Reflect.construct(t,n||[],nh(e).constructor):t.apply(e,n))}(this,t,[e])).handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.x1Value,s=r.y1Value,l=r.x2Value,c=r.y2Value;console.log(" EachHorizontalLineTrend clicked, index:",o),i&&i(e,[{index:o,start:[a,s],end:[l,c],selected:!0}],t)},n.handleDragStart=function(){console.log(" Horizontal line drag start")},n.handleLineDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1Value,s=r.x2Value,l=t.mouseXY,c=t.chartConfig.yScale.invert(l[1]);i&&i(e,o,{x1Value:a,y1Value:c,x2Value:s,y2Value:c})},n.handleMidpointDragStart=function(){console.log(" Horizontal line midpoint drag start")},n.handleMidpointDrag=function(e,t){n.handleLineDrag(e,t)},n.handleDragComplete=function(e,t){console.log(" Horizontal line drag complete");var r=n.props.onDragComplete;r&&r(e,t)},n.saveNodeType=V.bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,o=(e.y2Value,e.strokeStyle),i=e.strokeWidth,a=(e.strokeOpacity,e.strokeDasharray),s=e.type,l=e.r,c=e.edgeFill,u=e.edgeStroke,f=e.edgeStrokeWidth,p=e.edgeInteractiveCursor,d=e.lineInteractiveCursor,h=e.selected,y=e.hoverText,g=this.state.hover,v=y.enable,b=y.selectedText,x=y.text,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(y,["enable","selectedText","text"]),S=n,k=(t+r)/2;return(0,m.jsxs)("g",{children:[(0,m.jsx)(yo,{ref:this.saveNodeType("line"),selected:h,onHover:this.handleHover,onClick:this.handleClick,onDragStart:this.handleDragStart,onDrag:this.handleLineDrag,onDragComplete:this.handleDragComplete,strokeStyle:o,strokeWidth:i,strokeDasharray:a,interactiveCursorClass:d,type:s,x1Value:t,y1Value:S,x2Value:r,y2Value:S}),(0,m.jsx)(Ho,{ref:this.saveNodeType("midpoint"),show:h||g,cx:k,cy:S,r:l,fillStyle:c,strokeStyle:u,strokeWidth:f,interactiveCursorClass:p,onDragStart:this.handleMidpointDragStart,onDrag:this.handleMidpointDrag,onDragComplete:this.handleDragComplete}),(0,m.jsx)(Io,Object.assign({show:v&&g},w,{text:h?b:x}))]})}}])&&Jd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ih(e){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(e)}function ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lh(r.key),r)}}function lh(e){var t=function(e){if("object"!=ih(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ih(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ih(t)?t:t+""}function ch(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ch=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(e)}function fh(e,t){return fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fh(e,t)}var ph=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=uh(t),function(e,t){if(t&&("object"==ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ch()?Reflect.construct(t,n||[],uh(e).constructor):t.apply(e,n))}(this,t,arguments)).handleEnd=function(t,n,r){var o=e.state.current,i=e.props.trends||e.props.lines||[],a=e.props.appearance;if(o&&o.start){var s=o.start[0],l=o.start[1],c=[].concat(function(e){return function(e){if(Array.isArray(e))return ah(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ah(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ah(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[{start:[s,l],end:[s+1,l],selected:!0,appearance:a,type:"XLINE"}]);e.setState({current:null},function(){var n=e.props.onComplete;void 0!==n&&n(t,c,r)})}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fh(e,t)}(t,e),n=t,r=[{key:"getInteractiveType",value:function(){return"horizontalLines"}},{key:"applyConstraints",value:function(e,t){return e&&t?[t[0],e[1]]:t}},{key:"renderLineItem",value:function(e,n,r,o,i){var a=e.start[1],s=Math.min(e.start[0],e.end[0]),l=Math.max(e.start[0],e.end[0]),c=A(e.appearance)?Object.assign(Object.assign({},o),e.appearance):o,u=Object.assign(Object.assign({},t.defaultProps.hoverText),i);return(0,m.jsx)(oh,{ref:this.saveNodeType(n),index:n,type:e.type||"XLINE",selected:e.selected,x1Value:F(r,n,"x1Value",s),y1Value:F(r,n,"y1Value",a),x2Value:F(r,n,"x2Value",l),y2Value:F(r,n,"y2Value",a),strokeStyle:c.strokeStyle,strokeWidth:c.strokeWidth,strokeOpacity:c.strokeOpacity,strokeDasharray:c.strokeDasharray,edgeStroke:c.edgeStroke,edgeFill:c.edgeFill,edgeStrokeWidth:c.edgeStrokeWidth,r:c.r,hoverText:u,onSelect:this.props.onSelect,onDrag:this.handleDragLine,onDragComplete:this.handleDragLineComplete,edgeInteractiveCursor:"react-financial-charts-move-cursor",lineInteractiveCursor:"react-financial-charts-move-cursor"},n)}}],r&&sh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}($i);function dh(e){return dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(e)}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yh(r.key),r)}}function yh(e){var t=function(e){if("object"!=dh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dh(t)?t:t+""}function mh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mh=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(e)}function vh(e,t){return vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vh(e,t)}ph.defaultProps=Object.assign(Object.assign({},$i.defaultProps),{type:"XLINE",hoverText:Object.assign(Object.assign({},$i.defaultProps.hoverText),{text:"Click to place horizontal line"})});var bh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=gh(t),function(e,t){if(t&&("object"==dh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mh()?Reflect.construct(t,n||[],gh(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vh(e,t)}(t,e),n=t,r=[{key:"getInteractiveType",value:function(){return"horizontalRays"}},{key:"applyConstraints",value:function(e,t){return e&&t?[t[0],e[1]]:t}},{key:"renderLineItem",value:function(e,n,r,o,i){var a=e.start[1],s=e.start[1],l=e.start[0],c=e.end[0],u=A(e.appearance)?Object.assign(Object.assign({},o),e.appearance):o,f=Object.assign(Object.assign({},t.defaultProps.hoverText),i);return(0,m.jsxs)("g",{children:[(0,m.jsx)(oh,{ref:this.saveNodeType(n),index:n,type:"RAY",x1Value:l,y1Value:a,x2Value:c,y2Value:s,strokeStyle:u.strokeStyle,strokeWidth:u.strokeWidth,strokeOpacity:u.strokeOpacity,strokeDasharray:u.strokeDasharray,edgeStroke:u.edgeStroke,edgeFill:u.edgeFill,edgeStrokeWidth:u.edgeStrokeWidth,r:u.r,hoverText:f,onSelect:this.props.onSelect,onDrag:this.handleDragLine,onDragComplete:this.handleDragLineComplete,selected:e.selected,edgeInteractiveCursor:"react-financial-charts-move-cursor",lineInteractiveCursor:"react-financial-charts-move-cursor"}),e.selected&&(0,m.jsxs)("g",{children:[(0,m.jsx)("rect",{x:l-30,y:a-15,width:60,height:20,fill:u.strokeStyle,opacity:.9,rx:3}),(0,m.jsx)("text",Object.assign({x:l,y:a,fill:"white",fontSize:11,textAnchor:"middle",dy:4},{children:a.toFixed(2)}))]})]},n)}}],r&&hh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}($i);bh.defaultProps=Object.assign(Object.assign({},$i.defaultProps),{type:"RAY",hoverText:Object.assign(Object.assign({},$i.defaultProps.hoverText),{text:"Click and drag to place horizontal ray"})});var xh=function(e,t){var n=t.coordinate,r=t.fitToText,o=t.fontSize,i=t.fontFamily,a=t.rectWidth;e.font="".concat(o,"px ").concat(i),e.textBaseline="middle";var s=a;r&&(s=Math.round(e.measureText(n).width+10));var l=function(e){var t,n,r=e.coordinate,o=e.show,i=e.type,a=e.orient,s=e.edgeAt,l=e.hideLine,c=e.lineStrokeDasharray,u=e.fill,f=e.fontFamily,p=e.fontSize,d=e.textFill,h=e.lineStroke,y=e.stroke,m=e.strokeWidth,g=e.arrowWidth,v=e.rectWidth,b=e.rectHeight,x=e.rectRadius,w=e.x1,S=e.y1,k=e.x2,E=e.y2,C=e.dx;if(!o)return null;if(void 0!==r){var O,P,j,_;if("horizontal"===i)O=C+("right"===a?s+1:s-v-1),P=S-b/2-m,j=C+("right"===a?s+v/2:s-v/2),_=S;else{var T="bottom"===a?m-1:1-m;O=w-v/2,P=("bottom"===a?s:s-b)+T,j=w,_=("bottom"===a?s+b/2:s-b/2)+T}t={edgeXRect:O,edgeYRect:P,rectHeight:b+m,rectWidth:v,rectRadius:x,fill:u,arrowWidth:g,stroke:y,strokeWidth:m},n={edgeXText:j,edgeYText:_,textAnchor:"middle",fontFamily:f,fontSize:p,textFill:d,displayCoordinate:r}}return{coordinateBase:t,coordinate:n,line:l?void 0:{stroke:h,strokeDasharray:c,x1:w,y1:S,x2:k,y2:E},orient:a}}(Object.assign(Object.assign({},t),{rectWidth:s}));if(null!==l){if(void 0!==l.line&&A(l.line)){var c=U(l.line.strokeDasharray);e.setLineDash(c),e.strokeStyle=l.line.stroke,e.lineWidth=1,e.beginPath(),e.moveTo(l.line.x1,l.line.y1),e.lineTo(l.line.x2,l.line.y2),e.stroke()}if(e.setLineDash([]),void 0!==l.coordinateBase){var u=l.coordinateBase,f=u.arrowWidth,p=u.rectWidth,d=u.rectHeight,h=u.rectRadius;e.fillStyle=l.coordinateBase.fill,void 0!==l.coordinateBase.stroke&&(e.strokeStyle=l.coordinateBase.stroke,e.lineWidth=l.coordinateBase.strokeWidth);var y=l.coordinateBase.edgeXRect,m=l.coordinateBase.edgeYRect,g=d/2;e.beginPath(),f>0&&"right"===l.orient?(y-=f,e.moveTo(y,m+g),e.lineTo(y+f,m),e.lineTo(y+p+f,m),e.lineTo(y+p+f,m+d),e.lineTo(y+f,m+d),e.closePath()):f>0&&"left"===l.orient?(e.moveTo(y,m),e.lineTo(y+p,m),e.lineTo(y+p+f,m+g),e.lineTo(y+p,m+d),e.lineTo(y,m+d),e.closePath()):h?wh(e,y-.5,m-.5,p,d,3):e.rect(y-.5,m,p,d),e.fill(),void 0!==l.coordinateBase.stroke&&e.stroke(),void 0!==l.coordinate&&(e.fillStyle=l.coordinate.textFill,e.textAlign="middle"===l.coordinate.textAnchor?"center":l.coordinate.textAnchor,e.fillText(l.coordinate.displayCoordinate,l.coordinate.edgeXText,l.coordinate.edgeYText))}}},wh=function(e,t,n,r,o,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath()};function Sh(e){return Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(e)}function kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eh(r.key),r)}}function Eh(e){var t=function(e){if("object"!=Sh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sh(t)?t:t+""}function Ch(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ch=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(e)}function Ph(e,t){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ph(e,t)}var jh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Oh(t),function(e,t){if(t&&("object"==Sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ch()?Reflect.construct(t,n||[],Oh(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);void 0!==r&&xh(t,r)},e.helper=function(e,t){var n=t.chartConfig.yScale,r=t.chartId,o=t.currentItem,i=t.currentCharts,a=t.mouseXY;if(t.show&&!(D(a)||i.indexOf(r)<0)){var s=e.displayFormat,l=e.yAccessor;if(!l||o){var c=l?n(l(o)):a[1];return function(e,t,n,r){var o=r.width,i=n.orient,a=n.at,s=n.rectWidth,l=n.rectHeight,c=n.dx,u=n.stroke,f=n.strokeOpacity,p=n.strokeWidth,d=n.fill,h=n.opacity;return{coordinate:t,show:!0,fitToText:n.fitToText,type:"horizontal",orient:i,edgeAt:"right"===a?o:0,hideLine:!0,fill:d,opacity:h,fontFamily:n.fontFamily,fontSize:n.fontSize,textFill:n.textFill,stroke:u,strokeOpacity:f,strokeWidth:p,rectWidth:s,rectHeight:l,arrowWidth:n.arrowWidth,dx:c,x1:0,x2:o,y1:e,y2:e}}(c,s(n.invert(c)),e,t)}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["mousemove","pan","drag"]})}}])&&kh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function _h(e){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(e)}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ah(r.key),r)}}function Ah(e){var t=function(e){if("object"!=_h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_h(t)?t:t+""}function Dh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dh=function(){return!!e})()}function Mh(e){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(e)}function Nh(e,t){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nh(e,t)}jh.defaultProps={arrowWidth:0,at:"right",dx:0,fill:"#4C525E",fitToText:!1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"right",rectWidth:50,rectHeight:20,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var Ih=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Mh(t),function(e,t){if(t&&("object"==_h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dh()?Reflect.construct(t,n||[],Mh(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);if(void 0!==r){var o=Object.assign(Object.assign({},e.props),r);xh(t,o)}},e.helper=function(t,n){var r=t.itemType,o=t.yAccessor,i=n.plotData,a="first"===r?_(i,o):T(i,o);return void 0!==a?e.getEdge(n,a):void 0},e.getEdge=function(n,r){var o=e.props,i=o.fontFamily,a=o.fontSize,s=o.type,l=o.displayFormat,c=void 0===l?t.defaultProps.displayFormat:l,u=o.edgeAt,f=o.yAxisPad,p=void 0===f?t.defaultProps.yAxisPad:f,d=o.orient,h=o.lineStroke,y=o.yAccessor,m=o.fill,g=o.fullWidth,v=o.textFill,x=o.rectHeight,w=o.rectWidth,S=o.arrowWidth,k=o.stroke,E=n.xScale,C=n.chartConfig.yScale,O=n.xAccessor,P=n.width,j=y(r);if(void 0!==j){var _=O(r),T=g?0:Math.round(E(_)),A=Math.round(C(j)),D=P,M="left"===u?0-p:D+p;return{coordinate:c(j),show:!0,type:s,orient:d,edgeAt:M,fill:b(m)(r),lineStroke:b(h)(r),stroke:b(k)(r),fontFamily:i,fontSize:a,textFill:b(v)(r),rectHeight:x,rectWidth:w,arrowWidth:S,x1:T,y1:A,x2:D,y2:A}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{edgeClip:!0,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Ur,drawOn:["pan"]})}}])&&Th(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Lh(e){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(e)}function Rh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wh(r.key),r)}}function Bh(e,t,n){return t&&Vh(e.prototype,t),n&&Vh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wh(e){var t=function(e){if("object"!=Lh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Lh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lh(t)?t:t+""}function Uh(e,t,n){return t=Yh(t),function(e,t){if(t&&("object"==Lh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hh()?Reflect.construct(t,n||[],Yh(e).constructor):t.apply(e,n))}function Hh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hh=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yh(e)}function Xh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qh(e,t)}function qh(e,t){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qh(e,t)}Ih.defaultProps={fitToText:!1,lineStroke:"#000000",lineOpacity:1,lineStrokeDasharray:"ShortDot",orient:"right",displayFormat:dt(".2f"),edgeAt:"right",yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,stroke:R,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",type:"horizontal"};var $h=function(e){function t(){var e;return zh(this,t),(e=Uh(this,t,arguments)).onClick=function(t){var n=e.props,r=n.onClick,o=n.forChart,i=n.options;void 0!==r&&r(t,Object.assign({chartId:o},i))},e}return Xh(t,e),Bh(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.displayName,r=e.fontSize,o=e.fontFamily,i=e.fontWeight,a=e.textFill,s=e.labelFill,l=e.labelFontWeight,c=e.value,u="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return(0,m.jsxs)("g",Object.assign({transform:u},{children:[(0,m.jsx)("line",{x1:0,y1:2,x2:0,y2:28,stroke:t,strokeWidth:4}),(0,m.jsxs)(tp,Object.assign({x:5,y:11,fontFamily:o,fontSize:r,fontWeight:i},{children:[(0,m.jsx)(lp,Object.assign({fill:s,fontWeight:l},{children:n})),(0,m.jsx)("tspan",Object.assign({x:5,dy:15,fill:a},{children:c}))]})),(0,m.jsx)("rect",{x:0,y:0,width:55,height:30,onClick:this.onClick,fill:"none",stroke:"none"})]}))}}])}(t.Component),Gh=function(e){function t(){var e;return zh(this,t),(e=Uh(this,t,arguments)).renderSVG=function(n){var r,o=n.chartId,i=n.chartConfig,a=n.chartConfig,s=(void 0===a?{}:a).height,l=void 0===s?0:s,c=n.fullData,u=e.props,f=u.className,p=u.displayInit,d=void 0===p?t.defaultProps.displayInit:p,h=u.onClick,y=u.width,g=void 0===y?65:y,v=u.fontFamily,x=u.fontSize,w=u.fontWeight,S=u.textFill,k=u.labelFill,E=u.origin,C=u.displayFormat,O=u.displayValuesFor,P=void 0===O?t.defaultProps.displayValuesFor:O,j=u.options,_=null!==(r=P(e.props,n))&&void 0!==r?r:T(c),A=i,D=Rh(b(E)(g,l),2),M=D[0],N=D[1],I=Rh(A.origin,2),L=I[0],R=I[1];return(0,m.jsx)("g",Object.assign({transform:"translate(".concat(L+M,", ").concat(R+N,")"),className:f},{children:j.map(function(e,t){var n=_&&e.yAccessor(_),r="".concat(e.type," (").concat(e.windowSize,")"),i=n?C(n):d;return(0,m.jsx)($h,{origin:[g*t,0],color:e.stroke,displayName:r,value:i,options:e,forChart:o,onClick:h,fontFamily:v,fontSize:x,fontWeight:w,textFill:S,labelFill:k},t)})}))},e}return Xh(t,e),Bh(t,[{key:"render",value:function(){return(0,m.jsx)(io,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])}(t.Component);function Qh(e){return Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(e)}function Zh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ey(r.key),r)}}function ey(e){var t=function(e){if("object"!=Qh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qh(t)?t:t+""}function ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ty=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ny(e)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ry(e,t)}Gh.defaultProps={className:"react-financial-charts-tooltip react-financial-charts-moving-average-tooltip",displayFormat:dt(".2f"),displayInit:"n/a",displayValuesFor:function(e,t){return t.currentItem},origin:[0,10],width:65};var oy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=ny(t),function(e,t){if(t&&("object"==Qh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ty()?Reflect.construct(t,n||[],ny(e).constructor):t.apply(e,n))}(this,t,arguments)).handleZoomIn=function(){e.interval||e.zoom(-1)},e.handleZoomOut=function(){e.interval||e.zoom(1)},e.zoom=function(t){var n=e.context,r=n.xAxisZoom,o=n.xScale,i=n.plotData,a=n.xAccessor;if(r){var s=o;if(s.domain&&s.range&&s.invert){var l=s(a(T(i))),c=e.props.zoomMultiplier,u=t>0?1*c:1/c,f=Zh(s.domain(),2),p=f[0],d=f[1],h=Zh(s.range().map(function(e){return l+(e-l)*u}).map(s.invert),2),y=h[0],m=h[1],g=We(p,y),v=We(d,m),b=[.25,.3,.5,.6,.75,1].map(function(e){return[g(e),v(e)]});e.interval=window.setInterval(function(){var t=b.shift();t&&r(t),0===b.length&&(clearInterval(e.interval),delete e.interval)},10)}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.context.chartConfig,t=e.width,n=e.height,r=this.props,o=r.heightFromBase,i=r.r,a=r.fill,s=r.fillOpacity,l=r.onReset,c=r.stroke,u=r.strokeWidth,f=r.textFill,p=Math.round(t/2),d=n-o,h=p-16-2*i,y=p-8,g=p+16+2*i;return(0,m.jsxs)("g",Object.assign({className:"react-financial-charts-zoom-buttons"},{children:[(0,m.jsx)("circle",{className:"react-financial-charts-button",cx:h-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,m.jsx)("g",Object.assign({transform:"translate (".concat(h-20,", ").concat(d-8+i/4,")")},{children:(0,m.jsx)("path",{d:"M19,13H5V11H19V13Z",fill:f})})),(0,m.jsx)("circle",{className:"react-financial-charts-button",cx:y-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,m.jsx)("g",Object.assign({transform:"translate (".concat(y-20,", ").concat(d-8+i/4,")")},{children:(0,m.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z",fill:f})})),(0,m.jsx)("circle",{className:"react-financial-charts-button",cx:g-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,m.jsx)("g",Object.assign({transform:"translate (".concat(g-i,", ").concat(d-4+i/4,")")},{children:(0,m.jsx)("path",{d:"M2.35 2.35A7.958 7.958 0 018 0a8 8 0 110 16c-3.73 0-6.84-2.55-7.73-6h2.08c.82 2.33 3.04 4 5.65 4A6 6 0 108 2c-1.66 0-3.14.69-4.22 1.78L7 7H0V0l2.35 2.35z",fill:f})})),(0,m.jsx)("circle",{className:"react-financial-charts-enable-interaction out",onClick:this.handleZoomOut,cx:h-i/2,cy:d+i/2,r:i,fill:"none"}),(0,m.jsx)("circle",{className:"react-financial-charts-enable-interaction in",onClick:this.handleZoomIn,cx:y-i/2,cy:d+i/2,r:i,fill:"none"}),(0,m.jsx)("circle",{className:"react-financial-charts-enable-interaction reset",onClick:l,cx:g-i/2,cy:d+i/2,r:i,fill:"none","data-testid":"refresh-button"})]}))}}])&&Jh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ly(r.key),r)}}function ly(e){var t=function(e){if("object"!=iy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iy(t)?t:t+""}function cy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cy=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uy(e)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fy(e,t)}oy.defaultProps={fill:"#ffffff",fillOpacity:.75,heightFromBase:32,r:16,stroke:"#e0e3eb",strokeWidth:1,textFill:"#000000",zoomMultiplier:1.5},oy.contextType=Xr;var py=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=uy(t),function(e,t){if(t&&("object"==iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cy()?Reflect.construct(t,n||[],uy(e).constructor):t.apply(e,n))}(this,t,arguments)).renderSVG=function(n){var r,o=e.props,i=o.accessor,a=o.changeFormat,s=void 0===a?t.defaultProps.changeFormat:a,l=o.className,c=o.displayTexts,u=void 0===c?t.defaultProps.displayTexts:c,f=o.displayValuesFor,p=void 0===f?t.defaultProps.displayValuesFor:f,d=o.fontFamily,h=o.fontSize,y=o.fontWeight,g=o.labelFill,v=o.labelFontWeight,x=o.ohlcFormat,w=void 0===x?t.defaultProps.ohlcFormat:x,S=o.onClick,k=o.percentFormat,E=void 0===k?t.defaultProps.percentFormat:k,C=o.textFill,O=n.chartConfig,P=O.width,j=O.height,_=n.fullData,A=null!==(r=p(e.props,n))&&void 0!==r?r:T(_),D=u.na,M=u.na,N=u.na,I=u.na,L=u.na;if(void 0!==A&&void 0!==i){var R=i(A);void 0!==R&&(D=w(R.open),M=w(R.high),N=w(R.low),I=w(R.close),L="".concat(s(R.close-R.open)," (").concat(E((R.close-R.open)/R.open),")"))}var F=e.props.origin,z=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ay(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ay(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b(F)(P,j),2),V=z[0],B=z[1],W=b(C)(A);return(0,m.jsx)("g",Object.assign({className:l,transform:"translate(".concat(V,", ").concat(B,")"),onClick:S},{children:(0,m.jsxs)(tp,Object.assign({x:0,y:0,fontFamily:d,fontSize:h,fontWeight:y},{children:[(0,m.jsx)(lp,Object.assign({fill:g,fontWeight:v},{children:u.o}),"label_O"),(0,m.jsx)("tspan",Object.assign({fill:W},{children:D}),"value_O"),(0,m.jsx)(lp,Object.assign({fill:g,fontWeight:v},{children:u.h}),"label_H"),(0,m.jsx)("tspan",Object.assign({fill:W},{children:M}),"value_H"),(0,m.jsx)(lp,Object.assign({fill:g,fontWeight:v},{children:u.l}),"label_L"),(0,m.jsx)("tspan",Object.assign({fill:W},{children:N}),"value_L"),(0,m.jsx)(lp,Object.assign({fill:g,fontWeight:v},{children:u.c}),"label_C"),(0,m.jsx)("tspan",Object.assign({fill:W},{children:I}),"value_C"),(0,m.jsx)("tspan",Object.assign({fill:W},{children:" ".concat(L)}),"value_Change")]}))}))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])&&sy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function dy(e){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(e)}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yy(r.key),r)}}function yy(e){var t=function(e){if("object"!=dy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dy(t)?t:t+""}function my(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(my=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(e)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vy(e,t)}py.defaultProps={accessor:function(e){return e},changeFormat:dt("+.2f"),className:"react-financial-charts-tooltip-hover",displayTexts:{o:"O: ",h:" H: ",l:" L: ",c:" C: ",na:"n/a"},displayValuesFor:function(e,t){return t.currentItem},fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",ohlcFormat:dt(".2f"),origin:[0,0],percentFormat:dt("+.2%")};var by=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=gy(t),function(e,t){if(t&&("object"==dy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,my()?Reflect.construct(t,n||[],gy(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);null!==r&&xh(t,r)},e.helper=function(e,t){var n=t.show,r=t.currentItem,o=t.chartConfig.height;if(D(r))return null;var i=e.customX,a=e.orient,s=e.at,l=e.rectRadius,c=e.rectWidth,u=e.rectHeight,f=e.stroke,p=e.strokeOpacity,d=e.strokeWidth,h=e.fill,y=e.opacity,m=e.fitToText,g=e.fontFamily,v=e.fontSize,b=e.textFill,x="bottom"===s?o:0,w=i(e,t),S=w.x;return{coordinate:w.coordinate,fitToText:m,show:n,type:"vertical",orient:a,edgeAt:x,hideLine:!0,fill:h,opacity:y,fontFamily:g,fontSize:v,textFill:b,stroke:f,strokeOpacity:p,strokeWidth:d,rectWidth:c,rectHeight:u,rectRadius:l,arrowWidth:0,x1:S,x2:S,y1:0,y2:o}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["mousemove","pan","drag"]})}}])&&hy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function xy(e){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(e)}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sy(r.key),r)}}function Sy(e){var t=function(e){if("object"!=xy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xy(t)?t:t+""}function ky(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ky=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ey(e)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cy(e,t)}by.defaultProps={at:"bottom",customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,i=t.mouseXY,a=e.snapX,s=a?n(r(o)):i[0],l=t.displayXAccessor;return{x:s,coordinate:(0,e.displayFormat)(a?l(o):n.invert(s))}},fill:"#4C525E",fitToText:!0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"bottom",rectWidth:80,rectHeight:20,snapX:!0,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var Oy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ey(t),function(e,t){if(t&&("object"==xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ky()?Reflect.construct(t,n||[],Ey(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getBars(n);Bf(e.props,t,r)},e.getBars=function(t){var n=t.xScale,r=t.xAccessor,o=t.chartConfig.yScale,i=t.plotData,a=e.props,s=a.baseAt,l=a.fillStyle,c=a.stroke,u=a.yAccessor,f=b(l),p=b(s),d=b(e.props.width)(e.props,t),h=Math.floor(.5*d),y=i.map(function(e){for(var t,i=u.map(function(t,i){var a=t(e);if(void 0!==a){var s=r(e),l=Math.round(n(s))-h,u=o(a);return{height:0,width:2*h,x:l,y:u,stroke:c?f(e,i):"none",fillStyle:f(e,i),i}}}).filter(function(e){return void 0!==e}),a=p(n,o,e),s=i.length-1;s>=0;s--)(t=a-i[s].y)<0&&(i[s].y=a,t*=-1),i[s].height=t,a=i[s].y;return i});return Cf(y)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,m.jsx)(io,{canvasToDraw:Ur,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}])&&wy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Py(e){return Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(e)}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_y(r.key),r)}}function _y(e){var t=function(e){if("object"!=Py(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Py(t)?t:t+""}function Ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ty=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(e)}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dy(e,t)}Oy.defaultProps={baseAt:function(e,t){return _(t.range())},clip:!0,direction:"up",stroke:!1,fillStyle:"#4682B4",widthRatio:.5,width:hc};var My=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ay(t),function(e,t){if(t&&("object"==Py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ty()?Reflect.construct(t,n||[],Ay(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.props,o=r.type,i=r.strokeStyle,a=r.lineWidth,s=r.lineDash,l=r.yValue,c=r.xValue,u=n.xScale,f=n.chartConfig,p=f.yScale,d=f.width,h=f.height;t.beginPath(),void 0!==i&&(t.strokeStyle=i),void 0!==a&&(t.lineWidth=a),void 0!==s&&("string"==typeof s?t.setLineDash(U(s)):t.setLineDash(s));var y=e.getLineCoordinates(o,u,p,c,l,d,h),m=y.x1,g=y.y1,v=y.x2,b=y.y2;t.moveTo(m,g),t.lineTo(v,b),t.stroke()},e.getLineCoordinates=function(e,t,n,r,o,i,a){return"horizontal"===e?{x1:0,y1:Math.round(n(o)),x2:i,y2:Math.round(n(o))}:{x1:Math.round(t(r)),y1:0,x2:Math.round(t(r)),y2:a}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(io,{canvasDraw:this.drawOnCanvas,canvasToDraw:Ur,drawOn:["pan"]})}}])&&jy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Ny(e){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(e)}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ly(r.key),r)}}function Ly(e){var t=function(e){if("object"!=Ny(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ny(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ny(t)?t:t+""}function Ry(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ry=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fy(e)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zy(e,t)}My.defaultProps={lineWidth:1,lineDash:"Solid",strokeStyle:"rgba(0, 0, 0, 0.5)",type:"horizontal"};var Vy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Fy(t),function(e,t){if(t&&("object"==Ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ry()?Reflect.construct(t,n||[],Fy(e).constructor):t.apply(e,n))}(this,t,arguments)).yAccessorBullTop=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower>0?n(t).bullPower:void 0)},e.yAccessorBearTop=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bearPower>0?n(t).bearPower:void 0)},e.yAccessorBullBottom=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower<0?0:void 0)},e.yAccessorBearBottom=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower<0||n(t).bullPower*n(t).bearPower<0?Math.min(0,n(t).bullPower):void 0)},e.yAccessorForBarBase=function(t,n,r){var o=e.props.yAccessor;return n(o(r)&&Math.min(o(r).bearPower,0))},e.fillForEachBar=function(t,n){var r=e.props.fillStyle;return n%2==0?r.bullPower:r.bearPower},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.clip,r=e.stroke,o=e.straightLineStrokeStyle,i=e.straightLineStrokeDasharray,a=e.widthRatio;return(0,m.jsxs)("g",Object.assign({className:t},{children:[(0,m.jsx)(Oy,{baseAt:this.yAccessorForBarBase,stroke:r,fillStyle:this.fillForEachBar,widthRatio:a,clip:n,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),(0,m.jsx)(My,{yValue:0,strokeStyle:o,lineDash:i})]}))}}])&&Iy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function By(e){return By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(e)}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uy(r.key),r)}}function Uy(e){var t=function(e){if("object"!=By(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=By(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==By(t)?t:t+""}function Hy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hy=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(e)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}Vy.defaultProps={fillStyle:{bearPower:"rgba(239, 83, 80, 0.7)",bullPower:"rgba(38, 166, 153, 0.7)"},className:"react-financial-charts-elderray-series",clip:!0,stroke:!0,straightLineStrokeStyle:"rgba(0, 0, 0, 0.7)",straightLineStrokeDasharray:"Dash",widthRatio:.8};var qy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Yy(t),function(e,t){if(t&&("object"==By(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hy()?Reflect.construct(t,n||[],Yy(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getLines(e.props,n);if(void 0!==r){var o=e.context,i=o.margin,a=o.ratio,s=.5*a+i.left,l=.5*a+i.top;t.save(),t.setTransform(1,0,0,1,0,0),t.scale(a,a),t.translate(s,l),r.forEach(function(e){var n=U(e.strokeDasharray);t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash(n),t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()}),t.restore()}},e.getLines=function(e,n){var r=n.mouseXY,o=n.currentItem,i=n.show,a=n.height,s=n.width,l=e.customX,c=void 0===l?t.defaultProps.customX:l,u=e.strokeStyle,f=void 0===u?t.defaultProps.strokeStyle:u,p=e.strokeDasharray,d=e.strokeWidth,h=void 0===d?t.defaultProps.strokeWidth:d;if(i&&void 0!==o){var y={x1:0,x2:s,y1:r[1]+.5,y2:r[1]+.5,strokeStyle:f,strokeDasharray:p,strokeWidth:h},m=c(e,n);return[y,{x1:m,x2:m,y1:0,y2:a,strokeStyle:f,strokeDasharray:p,strokeWidth:h}]}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,m.jsx)(Wr,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Hr,drawOn:["mousemove","pan","drag"]})}}])&&Wy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);let $y;qy.defaultProps={customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,i=t.mouseXY;return e.snapX?Math.round(n(r(o))):i[0]+.5},snapX:!0,strokeStyle:"rgba(55, 71, 79, 0.8)",strokeDasharray:"Dash",strokeWidth:1},qy.contextType=Cr,$y="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;let Gy=null,Qy=null;const Zy=$y.clearTimeout,Ky=$y.setTimeout,Jy=$y.cancelAnimationFrame||$y.mozCancelAnimationFrame||$y.webkitCancelAnimationFrame,em=$y.requestAnimationFrame||$y.mozRequestAnimationFrame||$y.webkitRequestAnimationFrame;null==Jy||null==em?(Gy=Zy,Qy=function(e){return Ky(e,20)}):(Gy=function([e,t]){Jy(e),Zy(t)},Qy=function(e){const t=em(function(){Zy(n),e()}),n=Ky(function(){Jy(t),e()},20);return[t,n]});class tm extends t.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},o=parseFloat(r.paddingLeft||"0"),i=parseFloat(r.paddingRight||"0"),a=parseFloat(r.paddingTop||"0"),s=parseFloat(r.paddingBottom||"0"),l=this._parentNode.getBoundingClientRect(),c=l.height-a-s,u=l.width-o-i;if(!e&&this.state.height!==c||!t&&this.state.width!==u){this.setState({height:c,width:u});const e=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};"function"==typeof n&&n({height:c,width:u,get scaledHeight(){return e(),c},get scaledWidth(){return e(),u}})}}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const n=t.ownerDocument.defaultView.ResizeObserver;null!=n?(this._resizeObserver=new n(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=function(e){let t,n,r,o,i,a,s;const l="undefined"!=typeof document&&document.attachEvent;if(!l){a=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;a(this),this.__resizeRAF__&&Gy(this.__resizeRAF__),this.__resizeRAF__=Qy(function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})};let e=!1,l="";r="animationstart";const c="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<c.length;n++)if(void 0!==t.style[c[n]+"AnimationName"]){f=c[n],l="-"+f.toLowerCase()+"-",r=u[n],e=!0;break}}n="resizeanim",t="@"+l+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",o=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(i,c){if(l)i.attachEvent("onresize",c);else{if(!i.__resizeTriggers__){const l=i.ownerDocument,c=$y.getComputedStyle(i);c&&"static"===c.position&&(i.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),i.appendChild(a)}}(l),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const u=l.createElement("div");u.className="expand-trigger",u.appendChild(l.createElement("div"));const f=l.createElement("div");f.className="contract-trigger",i.__resizeTriggers__.appendChild(u),i.__resizeTriggers__.appendChild(f),i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",s,!0),r&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(i)},i.__resizeTriggers__.addEventListener(r,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:o=!1,disableWidth:i=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:s,onResize:l,style:c={},tagName:u="div",...f}=this.props,{height:p,width:d}=this.state,h={overflow:"visible"},y={};let m=!1;return o||(0===p&&(m=!0),h.height=0,y.height=p,y.scaledHeight=p),i||(0===d&&(m=!0),h.width=0,y.width=d,y.scaledWidth=d),a&&(m=!1),(0,t.createElement)(u,{ref:this._setRef,style:{...h,...c},...f},!m&&e(y))}}function nm(e){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(e)}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,om(r.key),r)}}function om(e){var t=function(e){if("object"!=nm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nm(t)?t:t+""}function im(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(im=function(){return!!e})()}function am(e){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},am(e)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sm(e,t)}var lm=function(e){return function(n){return function(t){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,n){return t=am(t),function(e,t){if(t&&("object"==nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,im()?Reflect.construct(t,n||[],am(e).constructor):t.apply(e,n))}(this,r,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}(r,t),o=r,(i=[{key:"render",value:function(){var t=this;return(0,m.jsx)(tm,Object.assign({},e,{children:function(e){var r=e.height,o=e.width;return(0,m.jsx)(n,Object.assign({},t.props,{height:r,width:o}))}}))}}])&&rm(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i}(t.Component)}};function cm(e){return cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(e)}function um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fm(r.key),r)}}function fm(e){var t=function(e){if("object"!=cm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=cm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cm(t)?t:t+""}function pm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pm=function(){return!!e})()}function dm(e){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dm(e)}function hm(e,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hm(e,t)}var ym=function(){return function(e){return function(n){function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=function(e,t,n){return t=dm(t),function(e,t){if(t&&("object"==cm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pm()?Reflect.construct(t,n||[],dm(e).constructor):t.apply(e,n))}(this,r,arguments)).ref=t.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hm(e,t)}(r,n),o=r,(i=[{key:"componentDidMount",value:function(){var e,t,n,r,o,i=this.ref.current;if(null!==i){var a=i.getContext("2d"),s=window.devicePixelRatio,l=null!==(o=null!==(r=null!==(n=null!==(t=null!==(e=a.webkitBackingStorePixelRatio)&&void 0!==e?e:a.mozBackingStorePixelRatio)&&void 0!==t?t:a.msBackingStorePixelRatio)&&void 0!==n?n:a.oBackingStorePixelRatio)&&void 0!==r?r:a.backingStorePixelRatio)&&void 0!==o?o:1;this.setState({ratio:s/l})}else this.setState({ratio:1})}},{key:"render",value:function(){var t=this.state;return null!==t?(0,m.jsx)(e,Object.assign({},this.props,{ratio:t.ratio})):(0,m.jsx)("canvas",{ref:this.ref})}}])&&um(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i}(t.Component)}};function mm(e){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function gm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||vm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(e,t){if(e){if("string"==typeof e)return bm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bm(e,t):void 0}}function bm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xm.apply(null,arguments)}function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach(function(t){Pm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jm(r.key),r)}}function Em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Em=function(){return!!e})()}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cm(e)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Om(e,t)}function Pm(e,t,n){return(t=jm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jm(e){var t=function(e){if("object"!=mm(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mm(t)?t:t+""}var _m=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Pm(r=function(e,t,n){return t=Cm(t),function(e,t){if(t&&("object"==mm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Em()?Reflect.construct(t,n||[],Cm(e).constructor):t.apply(e,n))}(this,n,[e]),"margin",{left:50,right:80,top:20,bottom:24}),Pm(r,"pricesDisplayFormat",d(".2f")),Pm(r,"preciseDisplayFormat",function(e){return e.toFixed(2)}),Pm(r,"getTradingViewColors",function(){return{background:"#131722",grid:"#2a2e39",text:"#d1d4dc",green:"#089981",red:"#f23645",blue:"#2962ff",orange:"#ff9800"}}),Pm(r,"renderLineTools",function(){var e=r.props,n=e.currentTool,o=e.enableTrendLine,i=(e.enableTrendChannel,e.trendLines),a=void 0===i?[]:i,s=(e.trendChannels,e.horizontalLines,e.selectedTrendLines),l=void 0===s?[]:s,c=(e.selectedChannels,e.selectedHorizontalLines,e.onTrendLineComplete),u=(e.onTrendChannelComplete,e.onHorizontalLineComplete,e.onTrendLineSelect),f=(e.onTrendChannelSelect,e.onHorizontalLineSelect,r.getTradingViewColors(),{enabled:o,snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){},onComplete:function(e,t,n){c&&c(t)},onDragStart:function(e,t,n){u&&t.length>0&&u(e,t)},onDragComplete:function(e,t,n){t.length>0&&(c&&c(t),u&&u(e,t))},onSelect:u,trends:a.filter(function(e){return!e.channelType}).map(function(e,t){return Sm(Sm({},e),{},{selected:l.includes(t)})}),hoverText:{enable:!1}});switch(n){case"trendline":case"horizontalline":case"horizontalray":default:return null;case"ray":return t.createElement(Ii,xm({},f,{type:"RAY",appearance:{strokeStyle:"#ff9800",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#ff9800",edgeStroke:"#ff9800"},currentPositionStroke:"#ff9800",currentPositionStrokeWidth:3,currentPositionRadius:4}));case"extendedline":return t.createElement(Ii,xm({},f,{type:"XLINE",appearance:{strokeStyle:"#4caf50",strokeWidth:2,strokeDasharray:"ShortDot",edgeStrokeWidth:2,edgeFill:"#4caf50",edgeStroke:"#4caf50"},currentPositionStroke:"#4caf50",currentPositionStrokeWidth:3,currentPositionRadius:4}));case"verticalline":return t.createElement(na,xm({},f,{type:"XLINE",appearance:{strokeStyle:"#e91e63",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#e91e63",edgeStroke:"#e91e63"},currentPositionStroke:"#e91e63",currentPositionStrokeWidth:3,currentPositionRadius:4}));case"infoline":return t.createElement(pa,xm({},f,{type:"LINE",appearance:{strokeStyle:"#607d8b",strokeWidth:2,strokeDasharray:"LongDash",edgeStrokeWidth:2,edgeFill:"#607d8b",edgeStroke:"#607d8b"},currentPositionStroke:"#607d8b",currentPositionStrokeWidth:3,currentPositionRadius:4}))}}),Pm(r,"xScaleProvider",Sl().inputDateAccessor(function(e){return e.date})),Pm(r,"cachedCalculatedData",null),Pm(r,"cachedIndicators",{}),Pm(r,"lastDataLength",0),Pm(r,"lastEnabledIndicators",""),Pm(r,"lastDataTimestamp",0),Pm(r,"barChartExtents",function(e){return e.volume}),Pm(r,"candleChartExtents",function(e){var t=r.props.yAxisPadding||.1,n=e.high-e.low,o=t;t>1&&(o=Math.pow(t,1.5));var i=n*o,a=[e.high+i,e.low-i];return console.log(" Y-Axis Extents: padding=".concat((100*t).toFixed(1),"%, multiplier=").concat(o.toFixed(2),", range=").concat(n.toFixed(2),", extents=[").concat(a[0].toFixed(2),", ").concat(a[1].toFixed(2),"]")),a}),Pm(r,"yEdgeIndicator",function(e){return e.close}),Pm(r,"volumeColor",function(e){return e.close>e.open?"rgba(8, 153, 129, 0.3)":"rgba(242, 54, 69, 0.3)"}),Pm(r,"volumeSeries",function(e){return e.volume}),Pm(r,"openCloseColor",function(e){return e.close>e.open?"#089981":"#f23645"}),Pm(r,"getFibonacciColor",function(e){var t=["#787b86","#f23645","#ff9800","#ffeb3b","#4caf50","#00bcd4","#9c27b0","#2196f3","#3f51b5"];return t[e%t.length]||"#ff9800"}),Pm(r,"getFibonacciColorByLevel",function(e){return e&&e.y1&&e.y2?(Math.abs(e.y2-e.y1),"#ff9800"):"#ff9800"}),Pm(r,"formatReplayTimestamp",function(e,t){if(!t||e<=0||e>t.length)return"N/A";var n=t[e-1];return n&&n.date?new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:n.date.getHours?"2-digit":void 0,minute:n.date.getMinutes?"2-digit":void 0}).replace(/,/g,""):"N/A"}),Pm(r,"getReplayLineX",function(e,t,n,r){if(!t||e<=0||e>t.length)return 0;var o=t[e-1];if(!o)return 0;try{return n(r(o))||0}catch(e){return console.warn("Error calculating replay line x-coordinate:",e),0}}),Pm(r,"renderIndicatorLines",function(e,n,r,o,i){var a=[],s={ema10:"#ff6b6b",ema12:"#ff9800",ema26:"#2196f3",ema50:"#9c27b0",ema200:"#4caf50",sma10:"#e91e63",sma50:"#795548",sma200:"#607d8b"};return Object.entries(n).forEach(function(n){var o=gm(n,2),i=o[0];if(o[1]&&e[i]&&"bollingerBands"!==i){var l=s[i]||r.text;a.push(t.createElement(Hl,{key:"line-".concat(i),yAccessor:e[i].accessor(),strokeStyle:l,strokeWidth:2})),a.push(t.createElement(Zl,{key:"coord-".concat(i),yAccessor:e[i].accessor(),fillStyle:l}))}}),n.bollingerBands&&e.bollingerBands&&a.push(t.createElement(fc,{key:"bollinger-bands",yAccessor:e.bollingerBands.accessor(),strokeStyle:{top:"#8884d8",middle:"#82ca9d",bottom:"#8884d8"},fillStyle:"rgba(136, 132, 216, 0.1)"})),o&&o.length>0&&o.forEach(function(e,n){e.enabled&&e.output.plots&&e.output.plots.forEach(function(e,r){var o=function(t){var n=i.indexOf(t);return n>=0&&n<e.values.length?e.values[n]:null},s="dashed"===e.style?"5, 5":"circles"===e.style?"1, 6":void 0;a.push(t.createElement(Hl,{key:"imported-".concat(n,"-").concat(r),yAccessor:o,strokeStyle:e.color||"#2196F3",strokeWidth:e.lineWidth||2,strokeDasharray:s})),"circles"!==e.style&&a.push(t.createElement(Zl,{key:"imported-coord-".concat(n,"-").concat(r),yAccessor:o,fillStyle:e.color||"#2196F3"}))})}),a}),Pm(r,"renderChartSeries",function(e,n){var r=n.green,o=n.red;switch(e){case"candlestick":default:return t.createElement(Oc,{fill:function(e){return e.close>e.open?r:o},stroke:function(e){return e.close>e.open?r:o},wickStroke:function(e){return e.close>e.open?r:o},candleStrokeWidth:1});case"ohlc":return t.createElement(Mc,{stroke:function(e){return e.close>e.open?r:o},strokeWidth:1});case"line":return t.createElement(Hl,{yAccessor:function(e){return e.close},strokeStyle:n.blue,strokeWidth:2});case"area":return t.createElement(Vc,{yAccessor:function(e){return e.close},strokeStyle:n.blue,fillStyle:"rgba(33, 150, 243, 0.1)",strokeWidth:2})}}),Pm(r,"getTooltipOptions",function(e,t){var n=[],r={ema10:"#ff6b6b",ema12:"#ff9800",ema26:"#2196f3",ema50:"#9c27b0",ema200:"#4caf50",sma10:"#e91e63",sma50:"#795548",sma200:"#607d8b"};return Object.entries(t).forEach(function(t){var o=gm(t,2),i=o[0];if(o[1]&&e[i]&&"bollingerBands"!==i){var a=r[i],s=i.startsWith("ema")?"EMA":"SMA",l=e[i].options().windowSize;n.push({yAccessor:e[i].accessor(),type:s,stroke:a,windowSize:l})}}),n}),r.state={isDraggingYAxis:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}(n,e),r=n,o=[{key:"shouldRecalculateIndicators",value:function(e,t){var n=JSON.stringify(t),r=e.length,o=e.length>0?e[e.length-1].date.getTime():0,i=null===this.cachedCalculatedData||r!==this.lastDataLength||n!==this.lastEnabledIndicators||o!==this.lastDataTimestamp;return i&&(this.lastDataLength=r,this.lastEnabledIndicators=n,this.lastDataTimestamp=o),i}},{key:"calculateIndicators",value:function(e,t){var n=e,r={},o=1;if(t.ema10&&(r.ema10=nu().id(o++).options({windowSize:10}).merge(function(e,t){e.ema10=t}).accessor(function(e){return e.ema10}),n=r.ema10(n)),t.ema12&&(r.ema12=nu().id(o++).options({windowSize:12}).merge(function(e,t){e.ema12=t}).accessor(function(e){return e.ema12}),n=r.ema12(n)),t.ema26&&(r.ema26=nu().id(o++).options({windowSize:26}).merge(function(e,t){e.ema26=t}).accessor(function(e){return e.ema26}),n=r.ema26(n)),t.ema50&&(r.ema50=nu().id(o++).options({windowSize:50}).merge(function(e,t){e.ema50=t}).accessor(function(e){return e.ema50}),n=r.ema50(n)),t.ema200&&(r.ema200=nu().id(o++).options({windowSize:200}).merge(function(e,t){e.ema200=t}).accessor(function(e){return e.ema200}),n=r.ema200(n)),t.sma10&&(r.sma10=au().id(o++).options({windowSize:10}).merge(function(e,t){e.sma10=t}).accessor(function(e){return e.sma10}),n=r.sma10(n)),t.sma50&&(r.sma50=au().id(o++).options({windowSize:50}).merge(function(e,t){e.sma50=t}).accessor(function(e){return e.sma50}),n=r.sma50(n)),t.sma200&&(r.sma200=au().id(o++).options({windowSize:200}).merge(function(e,t){e.sma200=t}).accessor(function(e){return e.sma200}),n=r.sma200(n)),t.bollingerBands&&(r.bollingerBands=function(){var e=tu().type(lu),t=su(),n=Uc().algorithm(t).merge(function(e,t){e.bollingerBand=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat(lu," before calculating"));return n(r)}return t(r)};return Yc(r,e,"id","accessor","stroke","fill","echo","type"),Yc(r,t,"options"),Yc(r,n,"merge","skipUndefined"),r}().merge(function(e,t){e.bb=t}).accessor(function(e){return e.bb}),n=r.bollingerBands(n)),t.elderRay){var i=function(){var e=tu().type(fu).accessor(function(e){return e.elderRay}),t=function(){var e=$c,t=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},n=function(n){var r=e,o=r.windowSize,i=r.sourcePath,a="ema"===r.movingAverageType?Zc().options({windowSize:o,sourcePath:i}):iu().windowSize(o).accumulator(function(e){return ru(e)}).sourcePath(i);return uu(n,a(n)).map(function(e){var n=e[0],r=e[1];return{bullPower:void 0!==r?t(n).high-r:void 0,bearPower:void 0!==r?t(n).low-r:void 0}})};return n.undefinedLength=function(){return e.windowSize-1},n.ohlc=function(e){return void 0===e?t:(t=e,n)},n.options=function(t){return void 0===t?e:(e=Object.assign(Object.assign({},$c),t),n)},n}(),n=Uc().algorithm(t).merge(function(e,t){e.elderRay=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat(fu," before calculating"));return n(r)}return t(r)};return Yc(r,e,"id","accessor","stroke","fill","echo","type"),Yc(r,t,"options"),Yc(r,n,"merge","skipUndefined"),r}();n=i(n),r.elder=i}return{calculatedData:n,indicators:r}}},{key:"render",value:function(){var e,n,r=this,o=this.props,i=o.data,a=o.dateTimeFormat,s=void 0===a?"%d %b":a,l=o.displayTimezone,c=void 0===l?"local":l,u=o.currentTool,f=o.height,p=o.ratio,h=o.width,y=(o.enableTrendLine,o.enableTrendChannel),m=void 0!==y&&y,g=o.enableFibonacci,v=void 0!==g&&g,b=o.enablePatterns,x=void 0!==b&&b,w=o.importedIndicators,S=void 0===w?[]:w,k=o.trendLines,E=void 0===k?[]:k,C=o.trendChannels,O=void 0===C?[]:C,P=o.fibonacciRetracements,j=void 0===P?[]:P,_=o.trianglePatterns,T=void 0===_?[]:_,A=o.labels,D=void 0===A?[]:A,M=o.selectedTrendLines,N=void 0===M?[]:M,I=o.selectedChannels,L=void 0===I?[]:I,R=o.selectedFibs,F=void 0===R?[]:R,z=o.selectedTriangles,V=void 0===z?[]:z,B=o.selectedLabels,W=void 0===B?[]:B,U=o.onTrendLineComplete,H=o.onTrendChannelComplete,Y=o.onFibonacciComplete,X=o.onTriangleComplete,q=o.onLabelComplete,$=o.onTrendLineSelect,G=o.onTrendChannelSelect,Q=o.onFibonacciSelect,Z=o.onTriangleSelect,K=o.onLabelSelect,J=o.onDeselectAll,ee=o.enabledIndicators,te=void 0===ee?{ema10:!1,ema12:!0,ema26:!0,ema50:!1,ema200:!1,sma10:!1,sma50:!1,sma200:!1,bollingerBands:!1,elderRay:!0,volume:!0}:ee,ne=o.chartType,re=void 0===ne?"candlestick":ne,oe=o.zoomMultiplier,ie=void 0===oe?1.05:oe,ae=o.elderRayHeight,se=void 0===ae?100:ae,le=o.volumeHeight,ce=void 0===le?150:le;if(this.shouldRecalculateIndicators(i,te)){var ue=this.calculateIndicators(i,te);e=ue.calculatedData,n=ue.indicators,this.cachedCalculatedData=e,this.cachedIndicators=n}else e=this.cachedCalculatedData,n=this.cachedIndicators;var fe=this.margin,pe=(0,this.xScaleProvider)(e),de=pe.data,he=pe.xScale,ye=pe.xAccessor,me=pe.displayXAccessor;if(e.length!==de.length){console.warn(" Data filtering detected: ".concat(e.length,"  ").concat(de.length," points"));var ge=e.map(function(e){return e.date.toISOString().split("T")[0]}),ve=de.map(function(e){return e.date.toISOString().split("T")[0]}),be=ge.filter(function(e){return!ve.includes(e)});be.length>0&&console.warn(" Missing dates after xScaleProvider:",be.slice(-10))}var xe=ye(de[de.length-1]),we=[ye(de[Math.max(0,de.length-100)]),xe+10];if(de.length>0){var Se=Math.max(0,de.length-100),ke=de[Se].date.toISOString().split("T")[0],Ee=de[de.length-1].date.toISOString().split("T")[0];console.log(" Chart showing data from index ".concat(Se," to ").concat(de.length-1)),console.log(" Date range: ".concat(ke," to ").concat(Ee," (").concat(100," points visible of ").concat(de.length," total)"))}var Ce=f-fe.top-fe.bottom,Oe=te.elderRay?se:0,Pe=te.volume?ce:0,je=0;te.volume&&(je+=10),te.elderRay&&(je+=10);var _e=Ce-Oe-Pe-je,Te=function(e,t){return[0,t-Oe]},Ae=function(e,t){return[0,t-Pe-Oe-(te.elderRay?10:0)]},De=n.elder,Me={background:"#131722",grid:"#2a2e39",text:"#d1d4dc",green:"#089981",red:"#f23645",blue:"#2962ff",orange:"#ff9800"};return t.createElement("div",{style:{background:Me.background,width:"100%",height:"100%",position:"relative"}},t.createElement(Nr,{height:f,ratio:p,width:h,margin:fe,data:de,displayXAccessor:me,seriesName:"Data",xScale:he,xAccessor:ye,xExtents:we,zoomAnchor:Nt,zoomMultiplier:ie,onClick:function(e,t){var n=["trendline","ray","extendedline","infoline","horizontalline","horizontalray","verticalline","label"].includes(u||"");x?console.log(" Patterns mode active - clicked at:",t):n?console.log(" Drawing mode active (".concat(u,") - letting drawing component handle click")):J&&(console.log(" Empty chart area clicked - calling unified deselect"),J())}},te.volume&&t.createElement(qr,{id:2,height:Pe,origin:Ae,yExtents:this.barChartExtents},t.createElement(Ef,{axisAt:"right",orient:"right",ticks:5,tickFormat:function(e){return d(".2s")(e)},showDomain:!1,showTicks:!0,showTickLabel:!0,tickLabelFill:Me.text,tickStroke:Me.grid,stroke:Me.grid,fontSize:10,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",tickLabelProps:function(){return{fontSize:10,fontWeight:400,fill:Me.text,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",textAnchor:"start",dx:8}}}),t.createElement($f,{fillStyle:this.volumeColor,yAccessor:this.volumeSeries}),t.createElement(mp,{yAccessor:this.volumeSeries,yLabel:"Volume",yDisplayFormat:function(e){return d(".2s")(e)},origin:[8,16],textFill:Me.text,labelFill:Me.text,valueFill:Me.text})),t.createElement(qr,{id:3,height:_e,yExtents:this.candleChartExtents,key:"main-chart-".concat(this.props.yAxisPadding||.1),padding:{top:10,bottom:0,left:0,right:0}},t.createElement(Ep,{showGridLines:!0,showTicks:!1,showTickLabel:!te.elderRay,stroke:Me.grid,tickStroke:Me.text,tickLabelFill:Me.text,gridLinesStrokeStyle:Me.grid}),t.createElement(Ef,{showGridLines:!0,tickFormat:this.preciseDisplayFormat,stroke:Me.grid,tickStroke:Me.text,gridLinesStrokeStyle:Me.grid}),t.createElement(Ef,{axisAt:"right",orient:"right",ticks:8,tickFormat:this.preciseDisplayFormat,showDomain:!1,showTicks:!0,showTickLabel:!0,tickLabelFill:"#ffffff",tickStroke:Me.grid,strokeWidth:1,stroke:Me.grid,fontSize:12,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",tickLabelProps:function(){return{fontSize:12,fontWeight:500,fill:"#ffffff",fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",textAnchor:"start",dx:12}}}),this.renderChartSeries(re,Me),this.renderIndicatorLines(n,te,Me,S,de),this.renderLineTools(),t.createElement(Kp,{enabled:v,type:"BOUND",onStart:function(){},onComplete:function(e,t,n){Y&&Y(t)},onDragStart:function(e,t,n){Q&&t.length>0&&Q(e,t)},onDragComplete:function(e,t,n){Q&&t.length>0&&Q(e,t)},onSelect:Q,retracements:j.map(function(e,t){return Sm(Sm({},e),{},{selected:F.includes(t)})}),appearance:{strokeStyle:"#ff9800",strokeWidth:1,fontFamily:"-apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif",fontSize:11,fontFill:Me.text,edgeStroke:"#ff9800",edgeFill:"#ff9800",nsEdgeFill:Me.background,edgeStrokeWidth:1,r:3},hoverText:{enable:!1},currentPositionStroke:"#ff9800",currentPositionStrokeWidth:2,currentPositionRadius:4}),t.createElement(Ed,{enabled:x,onStart:function(){},onComplete:function(e,t,n){X&&X(t)},onDrag:function(e,t,n){console.log(" Triangle drag update:",t,n)},onDragComplete:function(e,t,n){X&&(console.log(" Triangle pattern drag completed:",t),X(t))},onSelect:Z,triangles:T.map(function(e,t){return Sm(Sm({},e),{},{selected:V.includes(t)})}),appearance:{strokeStyle:"#9c27b0",strokeWidth:2,fillStyle:"#9c27b0",fillOpacity:.05,edgeStrokeWidth:1,edgeFill:"#9c27b0",edgeStroke:"#9c27b0",r:4},hoverText:{enable:!1},currentPositionStroke:"#9c27b0",currentPositionStrokeWidth:2,currentPositionRadius:4}),t.createElement(Oi,{enabled:"label"===u,textList:null==D?void 0:D.map(function(e,t){return Sm(Sm({},e),{},{position:[e.x,e.y],text:e.text||"Label",selected:W.includes(t)})}),onChoosePosition:function(e,t,n){if(q){var r={x:t.position[0],y:t.position[1],text:t.text,selected:!0};q([].concat(function(e){return function(e){if(Array.isArray(e))return bm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(D.map(function(e){return Sm(Sm({},e),{},{selected:!1})})),[r]))}},onSelect:K||function(){},onDragComplete:function(e,t,n){if(q&&t.length>0){var r=t.map(function(e){return{x:e.position[0],y:e.position[1],text:e.text,selected:e.selected}});q(r)}},defaultText:{bgFill:"#ffffff",bgOpacity:.9,bgStrokeWidth:1,bgStroke:"#666666",textFill:"#000000",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal",text:"Label"},hoverText:{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to place label"}}),t.createElement(Zd,{enabled:m,snap:!1,channels:O.map(function(e,t){return Sm(Sm({},e),{},{selected:L.includes(t)})}),onStart:function(){},onComplete:function(e,t,n){H&&H(t)},onSelect:G||function(){},currentPositionStroke:"#9c27b0",currentPositionStrokeWidth:3,currentPositionRadius:4,appearance:{stroke:"#9c27b0",strokeOpacity:.8,strokeWidth:2,fill:"#9c27b0",fillOpacity:.05,edgeStroke:"#9c27b0",edgeFill:"#FFFFFF",edgeFill2:"#9c27b0",edgeStrokeWidth:2,r:6},onDragComplete:function(e,t,n){H&&t.length>0&&H(t)},hoverText:{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select trend channel",selectedText:"Trend channel selected"}}),t.createElement(Ii,{enabled:"trendline"===u,snap:!1,onStart:function(){},onComplete:function(e,t,n){U&&t.length>0&&U(t)},onDragStart:function(e,t,n){$&&t.length>0&&$(e,t)},onDragComplete:function(e,t,n){U&&t.length>0&&U(t),$&&t.length>0&&$(e,t)},onSelect:$,trends:E.filter(function(e){return!e.channelType}).map(function(e,t){return Sm(Sm({},e),{},{selected:N.includes(t)})}),hoverText:{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select trend line",selectedText:"Trend line selected"},type:"LINE",appearance:{strokeStyle:"#2196f3",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#2196f3",edgeStroke:"#2196f3"},currentPositionStroke:"#2196f3",currentPositionStrokeWidth:3,currentPositionRadius:4}),t.createElement(ph,{enabled:"horizontalline"===u,snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){},onComplete:function(e,t,n){r.props.onHorizontalLineComplete&&t.length>0&&r.props.onHorizontalLineComplete(t)},onDragStart:function(e,t,n){r.props.onHorizontalLineSelect&&t.length>0&&r.props.onHorizontalLineSelect(e,t)},onDragComplete:function(e,t,n){r.props.onHorizontalLineComplete&&t.length>0&&r.props.onHorizontalLineComplete(t),r.props.onHorizontalLineSelect&&t.length>0&&r.props.onHorizontalLineSelect(e,t)},onSelect:this.props.onHorizontalLineSelect,trends:(this.props.horizontalLines||[]).map(function(e,t){return Sm(Sm({},e),{},{selected:(r.props.selectedHorizontalLines||[]).includes(t)})}),hoverText:{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select horizontal line",selectedText:"Horizontal line selected"},type:"XLINE",appearance:{strokeStyle:"#f44336",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#f44336",edgeStroke:"#f44336"},currentPositionStroke:"#f44336",currentPositionStrokeWidth:3,currentPositionRadius:4}),t.createElement(bh,{enabled:"horizontalray"===u,snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){},onComplete:function(e,t,n){r.props.onHorizontalRayComplete&&t.length>0&&r.props.onHorizontalRayComplete(t)},onDragStart:function(e,t,n){r.props.onHorizontalRaySelect&&t.length>0&&r.props.onHorizontalRaySelect(e,t)},onDragComplete:function(e,t,n){r.props.onHorizontalRayComplete&&t.length>0&&r.props.onHorizontalRayComplete(t),r.props.onHorizontalRaySelect&&t.length>0&&r.props.onHorizontalRaySelect(e,t)},onSelect:this.props.onHorizontalRaySelect,trends:(this.props.horizontalRays||[]).map(function(e,t){return Sm(Sm({},e),{},{selected:(r.props.selectedHorizontalRays||[]).includes(t)})}),hoverText:{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select horizontal ray",selectedText:"Horizontal ray selected"},type:"RAY",appearance:{strokeStyle:"#795548",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#795548",edgeStroke:"#795548"},currentPositionStroke:"#795548",currentPositionStrokeWidth:3,currentPositionRadius:4}),t.createElement(jh,{rectWidth:80,displayFormat:this.preciseDisplayFormat,fill:Me.background,stroke:Me.grid,textFill:Me.text}),t.createElement(Ih,{itemType:"last",rectWidth:80,fill:this.openCloseColor,lineStroke:this.openCloseColor,displayFormat:this.preciseDisplayFormat,yAccessor:this.yEdgeIndicator,textFill:"#ffffff"}),t.createElement(Gh,{origin:[8,24],textFill:Me.text,options:this.getTooltipOptions(n,te)}),t.createElement(oy,{fill:Me.background,stroke:Me.grid,textFill:Me.text,onReset:this.props.onRefresh}),t.createElement(py,{origin:[8,16],textFill:Me.text}),this.props.isReplayMode&&this.props.replayPosition&&this.props.fullData&&this.props.fullData.length>0&&t.createElement("g",{className:"replay-timestamp-indicator"},t.createElement("rect",{x:8,y:f-Oe-50,width:200,height:24,fill:"rgba(41, 98, 255, 0.9)",rx:4,ry:4}),t.createElement("text",{x:18,y:f-Oe-32,fill:"#ffffff",fontSize:"12",fontFamily:"'Roboto Mono', Monaco, Consolas, monospace",fontWeight:"600"}," Replay: ",this.formatReplayTimestamp(this.props.replayPosition,this.props.fullData))),this.props.isReplayMode&&this.props.replayPosition&&de.length>0&&t.createElement("g",{className:"replay-progress-line"},t.createElement("line",{x1:this.getReplayLineX(this.props.replayPosition,de,he,me),y1:0,x2:this.getReplayLineX(this.props.replayPosition,de,he,me),y2:_e,stroke:"rgba(41, 98, 255, 0.8)",strokeWidth:"2",strokeDasharray:"5,5"}),t.createElement("circle",{cx:this.getReplayLineX(this.props.replayPosition,de,he,me),cy:10,r:"4",fill:"rgba(41, 98, 255, 1)",stroke:"#ffffff",strokeWidth:"1"}))),te.elderRay&&De&&t.createElement(qr,{id:4,height:Oe,yExtents:[0,De.accessor()],origin:Te,padding:{top:8,bottom:8}},t.createElement(Ep,{showGridLines:!0,gridLinesStrokeStyle:Me.grid,stroke:Me.grid,tickStroke:Me.text,tickLabelFill:Me.text}),t.createElement(Ef,{ticks:4,tickFormat:this.preciseDisplayFormat,stroke:Me.grid,tickStroke:Me.text,tickLabelFill:Me.text}),t.createElement(by,{displayFormat:function(e){var t=s.includes("%H")||s.includes("%I");return function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):"et"===t?e.toLocaleString("en-US",{timeZone:"America/New_York",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})+" ET":"utc"===t?e.toLocaleString("en-US",{timeZone:"UTC",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!1})+" UTC":e.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}(e,c,t)},fill:Me.background,stroke:Me.grid,textFill:Me.text}),t.createElement(jh,{rectWidth:80,displayFormat:this.preciseDisplayFormat,fill:Me.background,stroke:Me.grid,textFill:Me.text}),t.createElement(Vy,{yAccessor:De.accessor(),fillStyle:{bearPower:Me.red,bullPower:Me.green},strokeStyle:{bearPower:Me.red,bullPower:Me.green}}),t.createElement(mp,{yAccessor:De.accessor(),yLabel:"Elder Ray",yDisplayFormat:function(e){return"".concat(r.pricesDisplayFormat(e.bullPower),", ").concat(r.pricesDisplayFormat(e.bearPower))},origin:[8,16],textFill:Me.text,labelFill:Me.text,valueFill:Me.text,backgroundFill:"rgba(0, 0, 0, 0)",backgroundStroke:"transparent"})),t.createElement(qy,{stroke:Me.grid})),t.createElement("div",{style:{position:"absolute",left:"".concat(h-fe.right,"px"),top:"".concat(fe.top,"px"),width:"".concat(fe.right,"px"),height:"".concat(_e,"px"),background:this.state.isDraggingYAxis?"rgba(255, 255, 255, 0.1)":"transparent",transition:this.state.isDraggingYAxis?"none":"background 0.2s ease",cursor:"ns-resize",zIndex:9999,userSelect:"none",pointerEvents:"auto"},"data-testid":"y-axis-resize-handle",title:"Y-Axis Scaling (".concat(Math.round(100*(this.props.yAxisPadding||.1)),"% padding) - Drag anywhere on Y-axis area"),onMouseDown:function(e){e.preventDefault(),r.setState({isDraggingYAxis:!0});var t=e.clientY,n=r.props.yAxisPadding||.1,o=function(e){var o=e.clientY-t,i=o/_e*3,a=Math.max(0,n+i);console.log(" Y-Axis Resize: deltaY=".concat(o,", paddingDelta=").concat(i.toFixed(3),", newPadding=").concat((100*a).toFixed(1),"%")),console.log(" Y-Axis Padding changed to ".concat((100*a).toFixed(1),"%")),r.props.onYAxisPaddingChange&&r.props.onYAxisPaddingChange(a)},i=function(){r.setState({isDraggingYAxis:!1}),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}}),te.volume&&t.createElement("div",{className:"volume-resize-handle",style:{position:"absolute",top:"".concat(fe.top+Ae(0,f-fe.top-fe.bottom)[1]-2,"px"),left:"".concat(fe.left,"px"),width:"".concat(h-fe.left-fe.right,"px"),height:"4px",backgroundColor:"transparent",border:"none",zIndex:1001,cursor:"ns-resize",transition:"all 0.2s ease"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="rgba(74, 144, 226, 0.3)",e.currentTarget.style.height="6px"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.height="4px"},onMouseDown:function(e){console.log("Volume resize started"),e.preventDefault();var t=e.clientY,n=ce,o=function(e){var o=e.clientY-t,i=Math.max(50,Math.min(300,n-o));r.props.onVolumeHeightChange&&r.props.onVolumeHeightChange(i)},i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),console.log("Volume resize ended")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}}),te.elderRay&&te.volume&&t.createElement("div",{className:"elderray-resize-handle",style:{position:"absolute",top:"".concat(fe.top+Te(0,f-fe.top-fe.bottom)[1]-2,"px"),left:"".concat(fe.left,"px"),width:"".concat(h-fe.left-fe.right,"px"),height:"4px",cursor:"ns-resize",zIndex:1001,backgroundColor:"transparent",border:"none",transition:"all 0.2s ease"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="rgba(144, 226, 74, 0.3)",e.currentTarget.style.height="6px"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.height="4px"},onMouseDown:function(e){console.log("Elder Ray resize started"),e.preventDefault();var t=e.clientY,n=se,o=function(e){var o=e.clientY-t,i=Math.max(50,Math.min(200,n-o));r.props.onElderRayHeightChange&&r.props.onElderRayHeightChange(i)},i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),console.log(" Elder Ray resize ended")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}}))}}],o&&km(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component),Tm=t.memo(_m),Am=lm({style:{minHeight:600}})(Tm),Dm=ym()(Am);const Mm=t.memo(Dm);var Nm=new Date,Im=new Date;function Lm(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return Lm(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return Nm.setTime(+t),Im.setTime(+r),e(Nm),e(Im),Math.floor(n(Nm,Im))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}const Rm=864e5,Fm=6048e5;function zm(e){return Lm(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Fm})}var Vm=zm(0),Bm=zm(1),Wm=zm(2),Um=zm(3),Hm=zm(4),Ym=zm(5),Xm=zm(6),qm=(Vm.range,Bm.range,Wm.range,Um.range,Hm.range,Ym.range,Xm.range,Lm(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Rm},function(e){return e.getUTCDate()-1}));const $m=qm;function Gm(e){return Lm(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/Fm})}qm.range;var Qm=Gm(0),Zm=Gm(1),Km=Gm(2),Jm=Gm(3),eg=Gm(4),tg=Gm(5),ng=Gm(6),rg=(Qm.range,Zm.range,Km.range,Jm.range,eg.range,tg.range,ng.range,Lm(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/Rm,e=>e.getDate()-1));const og=rg;rg.range;var ig=Lm(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ig.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Lm(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const ag=ig;ig.range;var sg=Lm(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});sg.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Lm(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const lg=sg;function cg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ug(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}sg.range;var pg,dg,hg,yg={"-":"",_:" ",0:"0"},mg=/^\s*\d+/,gg=/^%/,vg=/[\\^$*+?|[\]().{}]/g;function bg(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function xg(e){return e.replace(vg,"\\$&")}function wg(e){return new RegExp("^(?:"+e.map(xg).join("|")+")","i")}function Sg(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function kg(e,t,n){var r=mg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=mg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Cg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Og(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jg(e,t,n){var r=mg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _g(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ag(e,t,n){var r=mg.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Dg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Mg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=mg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ig(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Lg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Rg(e,t,n){var r=mg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Fg(e,t,n){var r=mg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zg(e,t,n){var r=mg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vg(e,t,n){var r=gg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Bg(e,t,n){var r=mg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Wg(e,t,n){var r=mg.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ug(e,t){return bg(e.getDate(),t,2)}function Hg(e,t){return bg(e.getHours(),t,2)}function Yg(e,t){return bg(e.getHours()%12||12,t,2)}function Xg(e,t){return bg(1+og.count(ag(e),e),t,3)}function qg(e,t){return bg(e.getMilliseconds(),t,3)}function $g(e,t){return qg(e,t)+"000"}function Gg(e,t){return bg(e.getMonth()+1,t,2)}function Qg(e,t){return bg(e.getMinutes(),t,2)}function Zg(e,t){return bg(e.getSeconds(),t,2)}function Kg(e){var t=e.getDay();return 0===t?7:t}function Jg(e,t){return bg(Qm.count(ag(e)-1,e),t,2)}function ev(e){var t=e.getDay();return t>=4||0===t?eg(e):eg.ceil(e)}function tv(e,t){return e=ev(e),bg(eg.count(ag(e),e)+(4===ag(e).getDay()),t,2)}function nv(e){return e.getDay()}function rv(e,t){return bg(Zm.count(ag(e)-1,e),t,2)}function ov(e,t){return bg(e.getFullYear()%100,t,2)}function iv(e,t){return bg((e=ev(e)).getFullYear()%100,t,2)}function av(e,t){return bg(e.getFullYear()%1e4,t,4)}function sv(e,t){var n=e.getDay();return bg((e=n>=4||0===n?eg(e):eg.ceil(e)).getFullYear()%1e4,t,4)}function lv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bg(t/60|0,"0",2)+bg(t%60,"0",2)}function cv(e,t){return bg(e.getUTCDate(),t,2)}function uv(e,t){return bg(e.getUTCHours(),t,2)}function fv(e,t){return bg(e.getUTCHours()%12||12,t,2)}function pv(e,t){return bg(1+$m.count(lg(e),e),t,3)}function dv(e,t){return bg(e.getUTCMilliseconds(),t,3)}function hv(e,t){return dv(e,t)+"000"}function yv(e,t){return bg(e.getUTCMonth()+1,t,2)}function mv(e,t){return bg(e.getUTCMinutes(),t,2)}function gv(e,t){return bg(e.getUTCSeconds(),t,2)}function vv(e){var t=e.getUTCDay();return 0===t?7:t}function bv(e,t){return bg(Vm.count(lg(e)-1,e),t,2)}function xv(e){var t=e.getUTCDay();return t>=4||0===t?Hm(e):Hm.ceil(e)}function wv(e,t){return e=xv(e),bg(Hm.count(lg(e),e)+(4===lg(e).getUTCDay()),t,2)}function Sv(e){return e.getUTCDay()}function kv(e,t){return bg(Bm.count(lg(e)-1,e),t,2)}function Ev(e,t){return bg(e.getUTCFullYear()%100,t,2)}function Cv(e,t){return bg((e=xv(e)).getUTCFullYear()%100,t,2)}function Ov(e,t){return bg(e.getUTCFullYear()%1e4,t,4)}function Pv(e,t){var n=e.getUTCDay();return bg((e=n>=4||0===n?Hm(e):Hm.ceil(e)).getUTCFullYear()%1e4,t,4)}function jv(){return"+0000"}function _v(){return"%"}function Tv(e){return+e}function Av(e){return Math.floor(+e/1e3)}function Dv(e){return Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(e)}function Mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Lv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nv(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Lv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Iv(e){return function(e){if(Array.isArray(e))return Rv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){if(e){if("string"==typeof e)return Rv(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rv(e,t):void 0}}function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zv(r.key),r)}}function zv(e){var t=function(e){if("object"!=Dv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dv(t)?t:t+""}pg=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=wg(o),u=Sg(o),f=wg(i),p=Sg(i),d=wg(a),h=Sg(a),y=wg(s),m=Sg(s),g=wg(l),v=Sg(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ug,e:Ug,f:$g,g:iv,G:sv,H:Hg,I:Yg,j:Xg,L:qg,m:Gg,M:Qg,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Tv,s:Av,S:Zg,u:Kg,U:Jg,V:tv,w:nv,W:rv,x:null,X:null,y:ov,Y:av,Z:lv,"%":_v},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:cv,e:cv,f:hv,g:Cv,G:Pv,H:uv,I:fv,j:pv,L:dv,m:yv,M:mv,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Tv,s:Av,S:gv,u:vv,U:bv,V:wv,w:Sv,W:kv,x:null,X:null,y:Ev,Y:Ov,Z:jv,"%":_v},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Mg,e:Mg,f:zg,g:_g,G:jg,H:Ig,I:Ig,j:Ng,L:Fg,m:Dg,M:Lg,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ag,Q:Bg,s:Wg,S:Rg,u:Eg,U:Cg,V:Og,w:kg,W:Pg,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:_g,Y:jg,Z:Tg,"%":Vg};function S(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=yg[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,o,i=fg(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=ug(fg(i.y,0,1))).getUTCDay(),r=o>4||0===o?Bm.ceil(r):Bm(r),r=$m.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=cg(fg(i.y,0,1))).getDay(),r=o>4||0===o?Zm.ceil(r):Zm(r),r=og.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?ug(fg(i.y,0,1)).getUTCDay():cg(fg(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ug(i)):cg(i)}}function E(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in yg?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),dg=pg.format,hg=pg.parse,pg.utcFormat,pg.utcParse;var Vv=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.xAccessor=n},t=[{key:"findLocalBottoms",value:function(e){for(var t=this,n=[],r=function(){var r=t.data[o],i=t.data.slice(o-e.lookback,o),a=t.data.slice(o+1,o+e.lookback+1);if(i.every(function(e){return r.low<=e.low})&&a.every(function(e){return r.low<=e.low})){var s=Math.max.apply(Math,Iv(i.map(function(e){return e.high}))),l=(s-r.low)/s;l>=e.minDecline&&n.push({index:o,date:r.date,low:r.low,declinePercent:l,xValue:t.xAccessor(r)})}},o=e.lookback;o<this.data.length-e.lookback;o++)r();return n.slice(-5)}},{key:"findLocalTops",value:function(e){for(var t=this,n=[],r=function(){var r=t.data[o],i=t.data.slice(o-e.lookback,o),a=t.data.slice(o+1,o+e.lookback+1);if(i.every(function(e){return r.high>=e.high})&&a.every(function(e){return r.high>=e.high})){var s=Math.min.apply(Math,Iv(i.map(function(e){return e.low}))),l=(r.high-s)/s;l>=e.minAdvance&&n.push({index:o,date:r.date,high:r.high,advancePercent:l,xValue:t.xAccessor(r)})}},o=e.lookback;o<this.data.length-e.lookback;o++)r();return n.slice(-5)}},{key:"findVolumeSpikes",value:function(){var e=[],t=this.data.filter(function(e){return e.volume&&e.volume>0});if(t.length<20)return e;for(var n=t.slice(-20).map(function(e){return e.volume}),r=n.reduce(function(e,t){return e+t},0)/n.length,o=t.length-10;o<t.length;o++){var i=t[o],a=i.volume/r;a>=3&&e.push({index:o,date:i.date,volume:i.volume,price:i.close,volumeRatio:a,xValue:this.xAccessor(i)})}return e}},{key:"generateMCPLabels",value:function(e){var t=[];console.log(" LLM analyzing chart patterns...");var n=this.findLocalBottoms(e);n.forEach(function(e,n){t.push({id:"bottom_".concat(e.index),type:"label",data:{position:[e.xValue,.98*e.low],text:"Local Bottom\n$".concat(e.low.toFixed(2),"\n").concat((100*e.declinePercent).toFixed(1),"% decline"),direction:"up",priority:"high"},appearance:{bgFill:"#e8f5e8",bgStroke:"#4caf50",textFill:"#2e7d32",fontSize:11,fontWeight:"bold"},selected:!1})});var r=this.findLocalTops(e);r.forEach(function(e,n){t.push({id:"top_".concat(e.index),type:"label",data:{position:[e.xValue,1.02*e.high],text:"Local Top\n$".concat(e.high.toFixed(2),"\n").concat((100*e.advancePercent).toFixed(1),"% advance"),direction:"down",priority:"high"},appearance:{bgFill:"#ffebee",bgStroke:"#f44336",textFill:"#c62828",fontSize:11,fontWeight:"bold"},selected:!1})});var o=this.findVolumeSpikes();return o.forEach(function(e,n){t.push({id:"volume_".concat(e.index),type:"label",data:{position:[e.xValue,1.05*e.price],text:"Volume Spike\n".concat(e.volumeRatio.toFixed(1),"x avg\n").concat((e.volume/1e6).toFixed(1),"M"),direction:"neutral",priority:"medium"},appearance:{bgFill:"#fff3e0",bgStroke:"#ff9800",textFill:"#f57c00",fontSize:10,fontWeight:"normal"},selected:!1})}),console.log(" Generated ".concat(t.length," intelligent labels:"),{bottoms:n.length,tops:r.length,volumeSpikes:o.length}),t}},{key:"generateMCPTrendlines",value:function(e){var t=[];console.log(" LLM generating actionable trendlines for price targets...");var n=Math.max(0,this.data.length-50),r=this.data.slice(n);this.xAccessor(r[0]),this.xAccessor(r[r.length-1]),console.log(" Analyzing last ".concat(r.length," candles for actionable support/resistance"));var o=this.createAscendingSupportLine(r,n);o&&t.push(o);var i=this.createDescendingResistanceLine(r,n);i&&t.push(i);var a=this.createHorizontalSupportResistance(r,n);if(t.push.apply(t,Iv(a)),o&&i){var s=this.createContainingTrendChannel(r,n);s&&t.push.apply(t,Iv(s))}return console.log(" Generated ".concat(t.length," actionable trendlines with price targets")),t}},{key:"createAscendingSupportLine",value:function(e,t){for(var n=this,r=[],o=function(){var o=e[i],a=e.slice(Math.max(0,i-2),i),s=e.slice(i+1,Math.min(e.length,i+3));a.every(function(e){return o.low<=e.low})&&s.every(function(e){return o.low<=e.low})&&r.push({index:t+i,price:o.low,x:n.xAccessor(o)})},i=2;i<e.length-2;i++)o();if(r.length<2)return null;for(var a=null,s=0,l=0;l<r.length-1;l++)for(var c=l+1;c<r.length;c++){var u=r[l],f=r[c];if(!(f.price<=u.price)){var p,d=(f.price-u.price)/(f.x-u.x),h=2,y=Nv(r);try{for(y.s();!(p=y.n()).done;){var m=p.value;if(m!==u&&m!==f){var g=u.price+d*(m.x-u.x);Math.abs(m.price-g)<=.02*(f.price-u.price)&&h++}}}catch(e){y.e(e)}finally{y.f()}h>s&&(s=h,a={start:[u.x,u.price],end:[this.xAccessor(e[e.length-1])+20,f.price+d*(this.xAccessor(e[e.length-1])+20-f.x)],touchPoints:h})}}return!a||s<2?null:{id:"ascending_support_".concat(Date.now()),type:"trendline",data:{start:a.start,end:a.end,id:"ascending_support_".concat(Date.now())},appearance:{strokeStyle:"#4caf50",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#4caf50",edgeStroke:"#4caf50"},selected:!1}}},{key:"createDescendingResistanceLine",value:function(e,t){for(var n=this,r=[],o=function(){var o=e[i],a=e.slice(Math.max(0,i-2),i),s=e.slice(i+1,Math.min(e.length,i+3));a.every(function(e){return o.high>=e.high})&&s.every(function(e){return o.high>=e.high})&&r.push({index:t+i,price:o.high,x:n.xAccessor(o)})},i=2;i<e.length-2;i++)o();if(r.length<2)return null;for(var a=null,s=0,l=0;l<r.length-1;l++)for(var c=l+1;c<r.length;c++){var u=r[l],f=r[c];if(!(f.price>=u.price)){var p,d=(f.price-u.price)/(f.x-u.x),h=2,y=Nv(r);try{for(y.s();!(p=y.n()).done;){var m=p.value;if(m!==u&&m!==f){var g=u.price+d*(m.x-u.x);Math.abs(m.price-g)<=.02*(u.price-f.price)&&h++}}}catch(e){y.e(e)}finally{y.f()}h>s&&(s=h,a={start:[u.x,u.price],end:[this.xAccessor(e[e.length-1])+20,f.price+d*(this.xAccessor(e[e.length-1])+20-f.x)],touchPoints:h})}}return!a||s<2?null:{id:"descending_resistance_".concat(Date.now()),type:"trendline",data:{start:a.start,end:a.end,id:"descending_resistance_".concat(Date.now())},appearance:{strokeStyle:"#f44336",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:"#f44336",edgeStroke:"#f44336"},selected:!1}}},{key:"createHorizontalSupportResistance",value:function(e,t){var n=[],r=new Map,o=.005*(Math.max.apply(Math,Iv(e.map(function(e){return e.high})))-Math.min.apply(Math,Iv(e.map(function(e){return e.low}))));e.forEach(function(e){[e.high,e.low,e.open,e.close].forEach(function(e){var t,n=!1,i=Nv(r);try{for(i.s();!(t=i.n()).done;){var a=Mv(t.value,2),s=a[0],l=a[1];if(Math.abs(e-s)<=o){r.set(s,l+1),n=!0;break}}}catch(e){i.e(e)}finally{i.f()}n||r.set(e,1)})});var i=Array.from(r.entries()).filter(function(e){var t=Mv(e,2);return t[0],t[1]>=3}).sort(function(e,t){return t[1]-e[1]}).slice(0,3),a=this.xAccessor(e[0]),s=this.xAccessor(e[e.length-1])+20;return i.forEach(function(t,r){var o=Mv(t,2),i=o[0],l=o[1],c=i<e[e.length-1].close;n.push({id:"horizontal_".concat(c?"support":"resistance","_").concat(Date.now(),"_").concat(r),type:"trendline",data:{start:[a,i],end:[s,i],id:"horizontal_".concat(c?"support":"resistance","_").concat(Date.now(),"_").concat(r)},appearance:{strokeStyle:c?"#4caf50":"#f44336",strokeWidth:l>=4?2:1,strokeDasharray:"ShortDash",edgeStrokeWidth:1,edgeFill:c?"#4caf50":"#f44336",edgeStroke:c?"#4caf50":"#f44336"},selected:!1})}),n}},{key:"createContainingTrendChannel",value:function(e,t){var n=[],r=Math.max.apply(Math,Iv(e.map(function(e){return e.high}))),o=Math.min.apply(Math,Iv(e.map(function(e){return e.low}))),i=.8*(r-o),a=(r+o)/2,s=this.xAccessor(e[0]),l=this.xAccessor(e[e.length-1])+20;return n.push({id:"trend_channel_upper_".concat(Date.now()),type:"trendline",data:{start:[s,a+i/2],end:[l,a+i/2],id:"trend_channel_upper_".concat(Date.now())},appearance:{strokeStyle:"#9c27b0",strokeWidth:1,strokeDasharray:"ShortDash",edgeStrokeWidth:1,edgeFill:"#9c27b0",edgeStroke:"#9c27b0"},selected:!1}),n.push({id:"trend_channel_lower_".concat(Date.now()),type:"trendline",data:{start:[s,a-i/2],end:[l,a-i/2],id:"trend_channel_lower_".concat(Date.now())},appearance:{strokeStyle:"#9c27b0",strokeWidth:1,strokeDasharray:"ShortDash",edgeStrokeWidth:1,edgeFill:"#9c27b0",edgeStroke:"#9c27b0"},selected:!1}),n}}],t&&Fv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function Wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wv(Object(n),!0).forEach(function(t){Hv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hv(e,t,n){return(t=function(e){var t=function(e){if("object"!=Bv(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yv(e){return function(e){if(Array.isArray(e))return $v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||qv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qv(e,t){if(e){if("string"==typeof e)return $v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$v(e,t):void 0}}function $v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Gv=lm({style:{minHeight:600}})(ym()(function(e){var n,r=e.data,o=e.height,i=e.width,a=e.ratio,s=Xv((0,t.useState)([]),2),l=s[0],c=s[1],u=Xv((0,t.useState)([]),2),f=u[0],p=u[1],h=Xv((0,t.useState)(!0),2),y=h[0],m=h[1],g={left:50,right:80,top:20,bottom:24},v=Sl().inputDateAccessor(function(e){return e.date}),b=nu().id(1).options({windowSize:12}).merge(function(e,t){e.ema12=t}).accessor(function(e){return e.ema12}),x=v(b(r)),w=x.data,S=x.xScale,k=x.xAccessor,E=x.displayXAccessor,C=k(w[w.length-1]),O=[k(w[Math.max(0,w.length-100)]),C+10],P=function(e,t,n){console.log(" MCP Create Event:",{elementType:e,elementData:t,appearance:n});var r={id:t.id,type:e,data:t,appearance:n,selected:!1};c(function(e){return[].concat(Yv(e),[r])}),alert("MCP Element Created!\nType: ".concat(e,"\nID: ").concat(t.id,"\nStart: [").concat(t.start,"]\nEnd: [").concat(t.end,"]"))},j=function(e){console.log(" MCP Select Event:",e),c(function(t){return t.map(function(t){return Uv(Uv({},t),{},{selected:t.id===e})})})},_=function(e,t){console.log(" MCP Modify Event:",{elementId:e,newData:t}),c(function(n){return n.map(function(n){return n.id===e?Uv(Uv({},n),{},{data:Uv(Uv({},n.data),t)}):n})})},T=function(e){console.log(" MCP Delete Event:",e),c(function(t){return t.filter(function(t){return t.id!==e})})};return t.createElement("div",{style:{background:"#131722",width:"100%",height:"100%"}},t.createElement("div",{style:{padding:"8px 15px",background:"#1e222d",color:"#d1d4dc",fontSize:"12px",borderBottom:"1px solid #2a2e39",position:"fixed",top:0,left:0,right:0,zIndex:1e3}},t.createElement("div",{style:{marginBottom:"10px"}},t.createElement("strong",null,"MCP TrendLine Demo")," - Test MCP Integration"),t.createElement("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"}},t.createElement("label",{style:{display:"flex",alignItems:"center",gap:"5px"}},t.createElement("input",{type:"checkbox",checked:y,onChange:function(e){return m(e.target.checked)}}),"Enable MCP Mode"),t.createElement("button",{onClick:function(){var e=Math.max(0,w.length-100),t=w.length-1,n=w[e],r=w[t],o=Math.min(n.low,n.open,n.close),i=Math.max(r.high,r.open,r.close),a=k(n),s=k(r),l={id:"test_mcp_".concat(Date.now()),type:"trendline",data:{start:[a,o],end:[s,i],id:"test_mcp_".concat(Date.now())},appearance:{strokeStyle:"#00ff00",strokeWidth:3,strokeDasharray:"Solid",edgeStrokeWidth:3,edgeFill:"#00ff00",edgeStroke:"#00ff00"},selected:!0};console.log(" Creating test MCP element with chart coordinates:",l),console.log(" Chart coordinate mapping:",{startX:a,endX:s,startPrice:o,endPrice:i,xAccessorType:Bv(k),totalPoints:w.length}),c(function(e){return[].concat(Yv(e),[l])})},style:{padding:"5px 10px",background:"#089981",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"Test Trendline"),t.createElement("button",{onClick:function(){var e=Math.max(0,w.length-80),t=w.length-20,n=w[e],r=w[t],o=Math.min(n.low,n.open,n.close),i=Math.max(r.high,r.open,r.close),a=k(n),s=k(r),l={id:"test_fib_".concat(Date.now()),type:"fibonacci",data:{start:[a,i],end:[s,o],id:"test_fib_".concat(Date.now()),type:"BOUND"},appearance:{strokeStyle:"#ff9800",strokeWidth:2,fontFamily:"-apple-system, system-ui, Roboto",fontSize:11,fontFill:"#ff9800",edgeStroke:"#ff9800",edgeFill:"#ffffff",nsEdgeFill:"#ff9800",edgeStrokeWidth:1,r:5},selected:!0};console.log(" Creating test MCP Fibonacci element:",l),c(function(e){return[].concat(Yv(e),[l])})},style:{padding:"5px 10px",background:"#ff9800",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"Test Fibonacci"),t.createElement("button",{onClick:function(){var e=Math.max(0,w.length-50),t=Math.max(0,w.length-80),n=w.length-20,r=w[t],o=w[e],i=w[n],a=k(r),s=k(o),l=k(i),u={id:"test_triangle_".concat(Date.now()),type:"triangle",data:{points:[[a,r.low],[s,o.high],[l,i.low]],id:"test_triangle_".concat(Date.now())},appearance:{strokeStyle:"#9c27b0",strokeWidth:2,fillStyle:"#9c27b0",fillOpacity:.1,edgeStroke:"#9c27b0",edgeFill:"#ffffff",edgeStrokeWidth:1,r:6},selected:!0};console.log(" Creating test MCP Triangle element:",u),c(function(e){return[].concat(Yv(e),[u])})},style:{padding:"5px 10px",background:"#9c27b0",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"Test Triangle"),t.createElement("button",{onClick:function(){var e=Math.max(0,w.length-80),t=Math.max(0,w.length-40),n=w[e],r=w[t],o=k(n),i=k(r),a=[o,n.low],s=[i,r.low],l=.7*(r.high-r.low),u={id:"test_channel_".concat(Date.now()),type:"channel",data:{startXY:a,endXY:s,dy:l,id:"test_channel_".concat(Date.now())},appearance:{stroke:"#00bcd4",strokeOpacity:1,strokeWidth:2,fill:"#00bcd4",fillOpacity:.2,edgeStroke:"#00bcd4",edgeFill:"#ffffff",edgeFill2:"#00bcd4",edgeStrokeWidth:1,r:5},selected:!0};console.log(" Creating test MCP Channel element:",u),c(function(e){return[].concat(Yv(e),[u])})},style:{padding:"5px 10px",background:"#00bcd4",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"Test Channel"),t.createElement("button",{onClick:function(){console.log(" LLM analyzing chart for interesting points...");var e=new Vv(w,k).generateMCPLabels({lookback:8,minDecline:.03,minAdvance:.03});c(function(t){var n=t.filter(function(e){return"trendline"===e.type});return[].concat(Yv(n),Yv(e))}),console.log(" Applied",e.length,"intelligent labels to chart")},style:{padding:"5px 10px",background:"#9c27b0",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}}," AI Analyze"),t.createElement("button",{onClick:function(){console.log(" Highlighting all labels..."),c(function(e){return e.map(function(e){return Uv(Uv({},e),{},{selected:"label"===e.type||e.selected})})}),console.log(" All labels are now highlighted")},style:{padding:"5px 10px",background:"#ff9800",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}}," Highlight All"),t.createElement("button",{onClick:function(){console.log(" Drawing intelligent trendlines...");var e=new Vv(w,k).generateMCPTrendlines({lookback:8,minDecline:.03,minAdvance:.03});c(function(t){var n=t.filter(function(e){return"label"===e.type});return[].concat(Yv(n),Yv(e))}),console.log(" Applied",e.length,"intelligent trendlines to chart")},style:{padding:"5px 10px",background:"#673ab7",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}}," Draw Trendlines"),t.createElement("button",{onClick:function(){c([]),p([])},style:{padding:"5px 10px",background:"#f23645",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"Clear All"),t.createElement("span",null,"Regular Trends: ",f.length),t.createElement("span",null,"MCP Elements: ",l.length)),l.length>0&&t.createElement("div",{style:{marginTop:"10px",fontSize:"12px"}},t.createElement("strong",null,"MCP Elements:"),l.map(function(e){return t.createElement("div",{key:e.id,style:{marginLeft:"10px",color:e.selected?"#089981":"#d1d4dc"}},e.type," (",e.id.slice(-8),") - ",e.selected?"SELECTED":"inactive")}))),t.createElement("div",{style:{marginTop:"80px"}}," ",t.createElement(Nr,{height:o-80,ratio:a,width:i,margin:g,data:w,displayXAccessor:E,seriesName:"MCP Demo",xScale:S,xAccessor:k,xExtents:O,zoomAnchor:Nt},t.createElement(qr,{id:1,height:o-80-g.top-g.bottom,yExtents:function(e){return[e.high,e.low]}},t.createElement(Ep,{showGridLines:!0,stroke:"#2a2e39",tickStroke:"#d1d4dc"}),t.createElement(Ef,{showGridLines:!0,stroke:"#2a2e39",tickStroke:"#d1d4dc"}),t.createElement(Oc,{fill:function(e){return e.close>e.open?"#089981":"#f23645"},stroke:function(e){return e.close>e.open?"#089981":"#f23645"},wickStroke:function(e){return e.close>e.open?"#089981":"#f23645"}}),t.createElement(Hl,{yAccessor:b.accessor(),strokeStyle:"#2962ff",strokeWidth:2}),t.createElement(Ii,{enabled:!0,snap:!1,onStart:function(){},onComplete:y?void 0:function(e){p(e)},trends:y?[]:f,type:"LINE",appearance:{strokeStyle:y?"#ff9800":"#2196f3",strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:y?"#ff9800":"#2196f3",edgeStroke:y?"#ff9800":"#2196f3"},onMCPCreate:y?P:void 0,onMCPSelect:y?j:void 0,onMCPModify:y?_:void 0,onMCPDelete:y?T:void 0,mcpElements:(n=y?l:void 0,console.log(" MCPTrendLineDemo passing mcpElements:",{mcpEnabled:y,mcpElementsLength:l.length,mcpElements:l,result:n}),n)}),t.createElement(Kp,{enabled:!0,type:"BOUND",retracements:[],appearance:{strokeStyle:"#ff9800",strokeWidth:2,fontFamily:"-apple-system, system-ui, Roboto",fontSize:11,fontFill:"#ff9800",edgeStroke:"#ff9800",edgeFill:"#ffffff",nsEdgeFill:"#ff9800",edgeStrokeWidth:1,r:5},onMCPCreate:y?P:void 0,onMCPSelect:y?j:void 0,onMCPModify:y?_:void 0,onMCPDelete:y?T:void 0,mcpElements:y?l:void 0}),t.createElement(Ed,{enabled:!0,triangles:[],appearance:{strokeStyle:"#9c27b0",strokeWidth:2,fillStyle:"#9c27b0",fillOpacity:.1,edgeStroke:"#9c27b0",edgeFill:"#ffffff",edgeStrokeWidth:1,r:6},onMCPCreate:y?P:void 0,onMCPSelect:y?j:void 0,onMCPModify:y?_:void 0,onMCPDelete:y?T:void 0,mcpElements:y?l:void 0}),t.createElement(Zd,{enabled:!0,onStart:function(){},onComplete:function(){},onSelect:function(){},channels:[],appearance:{stroke:"#00bcd4",strokeOpacity:1,strokeWidth:2,fill:"#00bcd4",fillOpacity:.2,edgeStroke:"#00bcd4",edgeFill:"#ffffff",edgeFill2:"#00bcd4",edgeStrokeWidth:1,r:5},hoverText:{enable:!0,bgHeight:18,bgWidth:120,text:"Click to select channel",selectedText:""},onMCPCreate:y?P:void 0,onMCPSelect:y?j:void 0,onMCPModify:y?_:void 0,onMCPDelete:y?T:void 0,mcpElements:y?l:void 0}),t.createElement(by,{rectWidth:100,displayFormat:dg("%d %b"),fill:"#131722",stroke:"#2a2e39",textFill:"#d1d4dc"}),t.createElement(jh,{rectWidth:80,displayFormat:d(".2f"),fill:"#131722",stroke:"#2a2e39",textFill:"#d1d4dc"})),t.createElement(qy,{stroke:"#2a2e39"}))))}));var Qv=n(72),Zv=n.n(Qv),Kv=n(825),Jv=n.n(Kv),eb=n(659),tb=n.n(eb),nb=n(56),rb=n.n(nb),ob=n(159),ib=n.n(ob),ab=n(113),sb=n.n(ab),lb=n(384),cb={};function ub(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}cb.styleTagTransform=sb(),cb.setAttributes=rb(),cb.insert=tb().bind(null,"head"),cb.domAPI=Jv(),cb.insertStyleElement=ib(),Zv()(lb.A,cb),lb.A&&lb.A.locals&&lb.A.locals;var pb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("path",{d:"M2 2l4.5 10.5L8 9l3.5 1.5L2 2z",stroke:"currentColor",strokeWidth:"1.2",fill:"currentColor",fillOpacity:"0.8"}))},db=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"3",y1:"12",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"3",cy:"12",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"4",r:"1.5",fill:"currentColor"}))},hb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"2",y1:"12",x2:"12",y2:"4",stroke:"currentColor",strokeWidth:"1.2"}),t.createElement("line",{x1:"4",y1:"14",x2:"14",y2:"6",stroke:"currentColor",strokeWidth:"1.2"}),t.createElement("circle",{cx:"2",cy:"12",r:"1.2",fill:"currentColor"}),t.createElement("circle",{cx:"12",cy:"4",r:"1.2",fill:"currentColor"}),t.createElement("circle",{cx:"4",cy:"14",r:"1.2",fill:"currentColor"}))},yb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"3",y1:"12",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("polygon",{points:"11,3 13,4 11,5",fill:"currentColor"}),t.createElement("circle",{cx:"3",cy:"12",r:"1.5",fill:"currentColor"}))},mb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"1",y1:"10",x2:"15",y2:"6",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"2,1"}),t.createElement("line",{x1:"4",y1:"9",x2:"12",y2:"7",stroke:"currentColor",strokeWidth:"2"}),t.createElement("circle",{cx:"6",cy:"8.5",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"10",cy:"7.5",r:"1.5",fill:"currentColor"}))},gb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"3",y1:"12",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"8",cy:"8",r:"2",fill:"none",stroke:"currentColor",strokeWidth:"1"}),t.createElement("text",{x:"8",y:"9",fontSize:"3",fill:"currentColor",textAnchor:"middle"},"i"),t.createElement("circle",{cx:"3",cy:"12",r:"1.2",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"4",r:"1.2",fill:"currentColor"}))},vb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"3",y1:"8",x2:"13",y2:"8",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("polygon",{points:"12,7 14,8 12,9",fill:"currentColor"}),t.createElement("circle",{cx:"3",cy:"8",r:"1.5",fill:"currentColor"}))},bb=function(){return t.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none"},t.createElement("path",{d:"M1 2L4 5L7 2",stroke:"currentColor",strokeWidth:"1.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}))},xb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"2",y1:"3",x2:"14",y2:"3",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("line",{x1:"2",y1:"5.5",x2:"14",y2:"5.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.8"}),t.createElement("line",{x1:"2",y1:"7.5",x2:"14",y2:"7.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.7"}),t.createElement("line",{x1:"2",y1:"9.5",x2:"14",y2:"9.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.6"}),t.createElement("line",{x1:"2",y1:"11.5",x2:"14",y2:"11.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"}),t.createElement("line",{x1:"2",y1:"13",x2:"14",y2:"13",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"2",cy:"3",r:"1",fill:"currentColor"}),t.createElement("circle",{cx:"14",cy:"13",r:"1",fill:"currentColor"}))},wb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("path",{d:"M3 12L8 4L13 12L3 12z",stroke:"currentColor",strokeWidth:"1.3",fill:"none"}),t.createElement("circle",{cx:"3",cy:"12",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"8",cy:"4",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"12",r:"1.5",fill:"currentColor"}))},Sb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"2",y1:"8",x2:"14",y2:"8",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"2",cy:"8",r:"1",fill:"currentColor"}),t.createElement("circle",{cx:"14",cy:"8",r:"1",fill:"currentColor"}))},kb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"14",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"8",cy:"2",r:"1",fill:"currentColor"}),t.createElement("circle",{cx:"8",cy:"14",r:"1",fill:"currentColor"}))},Eb=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("rect",{x:"2",y:"6",width:"12",height:"6",rx:"2",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),t.createElement("line",{x1:"4",y1:"8",x2:"12",y2:"8",stroke:"currentColor",strokeWidth:"1"}),t.createElement("line",{x1:"4",y1:"10",x2:"10",y2:"10",stroke:"currentColor",strokeWidth:"1"}),t.createElement("circle",{cx:"8",cy:"4",r:"1.5",fill:"currentColor"}),t.createElement("line",{x1:"8",y1:"4",x2:"8",y2:"6",stroke:"currentColor",strokeWidth:"1"}))};const Cb=function(e){var n,r,o=e.currentTool,i=e.onToolSelect,a=ub((0,t.useState)(!1),2),s=a[0],l=a[1],c=ub((0,t.useState)("trendline"),2),u=c[0],f=c[1],p=(0,t.useRef)(null),d=[{id:"trendline",icon:t.createElement(db,null),title:"Trend line"},{id:"ray",icon:t.createElement(yb,null),title:"Ray"},{id:"extendedline",icon:t.createElement(mb,null),title:"Extended line"},{id:"infoline",icon:t.createElement(gb,null),title:"Info line"},{id:"horizontalline",icon:t.createElement(Sb,null),title:"Horizontal line"},{id:"horizontalray",icon:t.createElement(vb,null),title:"Horizontal ray"},{id:"verticalline",icon:t.createElement(kb,null),title:"Vertical line"}],h=[{id:"cursor",icon:t.createElement(pb,null),title:"Selection Tool - Select and move objects"},{id:"trendchannel",icon:t.createElement(hb,null),title:"Trend Channel - Draw parallel trend lines"},{id:"fibonacci",icon:t.createElement(xb,null),title:"Fibonacci Retracement - Draw Fibonacci retracement levels"},{id:"patterns",icon:t.createElement(wb,null),title:"Triangle Pattern - Draw triangle chart patterns"},{id:"label",icon:t.createElement(Eb,null),title:"Label - Add text annotations with anchor point"}];return(0,t.useEffect)(function(){var e=function(e){p.current&&!p.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]),t.createElement("div",{className:"drawing-toolbar","data-testid":"drawing-toolbar"},t.createElement("button",{className:"tool-button ".concat(null===o?"active":""),onClick:function(){return i(null)},title:"Selection Tool - Select and move objects","data-testid":"cursor-button"},t.createElement("span",{className:"tool-icon"},t.createElement(pb,null))),t.createElement("div",{className:"line-tool-container",ref:p,"data-testid":"line-tool-container"},t.createElement("button",{className:"tool-button line-tool-button ".concat(o&&d.some(function(e){return e.id===o})?"active":""),onClick:function(){i(u)},title:(null===(n=d.find(function(e){return e.id===u}))||void 0===n?void 0:n.title)||"Line Tools","data-testid":"line-tools-button"},t.createElement("span",{className:"tool-icon"},(r=d.find(function(e){return e.id===u}),r?r.icon:t.createElement(db,null))),t.createElement("span",{className:"dropdown-arrow",onClick:function(e){e.stopPropagation(),l(!s)},title:"Show line type options","data-testid":"dropdown-arrow"},t.createElement(bb,null))),s&&t.createElement("div",{className:"line-dropdown","data-testid":"line-dropdown"},d.map(function(e){return t.createElement("button",{key:e.id,className:"dropdown-item ".concat(u===e.id?"selected":""),onClick:function(){return function(e){f(e),i(e),l(!1)}(e.id)},title:e.title,"data-testid":"line-type-".concat(e.id)},t.createElement("span",{className:"dropdown-icon"},e.icon),t.createElement("span",{className:"dropdown-label"},e.title))}))),h.slice(1).map(function(e){return t.createElement("button",{key:e.id,className:"tool-button ".concat(o===e.id?"active":""),onClick:function(){return i(e.id)},title:e.title,"data-testid":"".concat(e.id,"-button")},t.createElement("span",{className:"tool-icon"},e.icon))}))};var Ob=n(383),Pb={};function jb(e,t){return function(){return e.apply(t,arguments)}}Pb.styleTagTransform=sb(),Pb.setAttributes=rb(),Pb.insert=tb().bind(null,"head"),Pb.domAPI=Jv(),Pb.insertStyleElement=ib(),Zv()(Ob.A,Pb),Ob.A&&Ob.A.locals&&Ob.A.locals;const{toString:_b}=Object.prototype,{getPrototypeOf:Tb}=Object,{iterator:Ab,toStringTag:Db}=Symbol,Mb=(Nb=Object.create(null),e=>{const t=_b.call(e);return Nb[t]||(Nb[t]=t.slice(8,-1).toLowerCase())});var Nb;const Ib=e=>(e=e.toLowerCase(),t=>Mb(t)===e),Lb=e=>t=>typeof t===e,{isArray:Rb}=Array,Fb=Lb("undefined");function zb(e){return null!==e&&!Fb(e)&&null!==e.constructor&&!Fb(e.constructor)&&Wb(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vb=Ib("ArrayBuffer"),Bb=Lb("string"),Wb=Lb("function"),Ub=Lb("number"),Hb=e=>null!==e&&"object"==typeof e,Yb=e=>{if("object"!==Mb(e))return!1;const t=Tb(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Db in e||Ab in e)},Xb=Ib("Date"),qb=Ib("File"),$b=Ib("Blob"),Gb=Ib("FileList"),Qb=Ib("URLSearchParams"),[Zb,Kb,Jb,ex]=["ReadableStream","Request","Response","Headers"].map(Ib);function tx(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),Rb(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(zb(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function nx(e,t){if(zb(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const rx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ox=e=>!Fb(e)&&e!==rx,ix=(ax="undefined"!=typeof Uint8Array&&Tb(Uint8Array),e=>ax&&e instanceof ax);var ax;const sx=Ib("HTMLFormElement"),lx=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),cx=Ib("RegExp"),ux=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tx(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},fx=Ib("AsyncFunction"),px=(dx="function"==typeof setImmediate,hx=Wb(rx.postMessage),dx?setImmediate:hx?(yx=`axios@${Math.random()}`,mx=[],rx.addEventListener("message",({source:e,data:t})=>{e===rx&&t===yx&&mx.length&&mx.shift()()},!1),e=>{mx.push(e),rx.postMessage(yx,"*")}):e=>setTimeout(e));var dx,hx,yx,mx;const gx="undefined"!=typeof queueMicrotask?queueMicrotask.bind(rx):"undefined"!=typeof process&&process.nextTick||px,vx={isArray:Rb,isArrayBuffer:Vb,isBuffer:zb,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Wb(e.append)&&("formdata"===(t=Mb(e))||"object"===t&&Wb(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Vb(e.buffer),t},isString:Bb,isNumber:Ub,isBoolean:e=>!0===e||!1===e,isObject:Hb,isPlainObject:Yb,isEmptyObject:e=>{if(!Hb(e)||zb(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:Zb,isRequest:Kb,isResponse:Jb,isHeaders:ex,isUndefined:Fb,isDate:Xb,isFile:qb,isBlob:$b,isRegExp:cx,isFunction:Wb,isStream:e=>Hb(e)&&Wb(e.pipe),isURLSearchParams:Qb,isTypedArray:ix,isFileList:Gb,forEach:tx,merge:function e(){const{caseless:t}=ox(this)&&this||{},n={},r=(r,o)=>{const i=t&&nx(n,o)||o;Yb(n[i])&&Yb(r)?n[i]=e(n[i],r):Yb(r)?n[i]=e({},r):Rb(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tx(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(tx(t,(t,r)=>{n&&Wb(t)?e[r]=jb(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Tb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Mb,kindOfTest:Ib,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Rb(e))return e;let t=e.length;if(!Ub(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ab]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:sx,hasOwnProperty:lx,hasOwnProp:lx,reduceDescriptors:ux,freezeMethods:e=>{ux(e,(t,n)=>{if(Wb(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Wb(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Rb(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:nx,global:rx,isContextDefined:ox,isSpecCompliantForm:function(e){return!!(e&&Wb(e.append)&&"FormData"===e[Db]&&e[Ab])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Hb(e)){if(t.indexOf(e)>=0)return;if(zb(e))return e;if(!("toJSON"in e)){t[r]=e;const o=Rb(e)?[]:{};return tx(e,(e,t)=>{const i=n(e,r+1);!Fb(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:fx,isThenable:e=>e&&(Hb(e)||Wb(e))&&Wb(e.then)&&Wb(e.catch),setImmediate:px,asap:gx,isIterable:e=>null!=e&&Wb(e[Ab])};function bx(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}vx.inherits(bx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vx.toJSONObject(this.config),code:this.code,status:this.status}}});const xx=bx.prototype,wx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wx[e]={value:e}}),Object.defineProperties(bx,wx),Object.defineProperty(xx,"isAxiosError",{value:!0}),bx.from=(e,t,n,r,o,i)=>{const a=Object.create(xx);return vx.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),bx.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Sx=bx;function kx(e){return vx.isPlainObject(e)||vx.isArray(e)}function Ex(e){return vx.endsWith(e,"[]")?e.slice(0,-2):e}function Cx(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ex(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ox=vx.toFlatObject(vx,{},null,function(e){return/^is[A-Z]/.test(e)}),Px=function(e,t,n){if(!vx.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=vx.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!vx.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&vx.isSpecCompliantForm(t);if(!vx.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vx.isDate(e))return e.toISOString();if(vx.isBoolean(e))return e.toString();if(!s&&vx.isBlob(e))throw new Sx("Blob is not supported. Use a Buffer instead.");return vx.isArrayBuffer(e)||vx.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(vx.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(vx.isArray(e)&&function(e){return vx.isArray(e)&&!e.some(kx)}(e)||(vx.isFileList(e)||vx.endsWith(n,"[]"))&&(s=vx.toArray(e)))return n=Ex(n),s.forEach(function(e,r){!vx.isUndefined(e)&&null!==e&&t.append(!0===a?Cx([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!kx(e)||(t.append(Cx(o,n,i),l(e)),!1)}const u=[],f=Object.assign(Ox,{defaultVisitor:c,convertValue:l,isVisitable:kx});if(!vx.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!vx.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),vx.forEach(n,function(n,i){!0===(!(vx.isUndefined(n)||null===n)&&o.call(t,n,vx.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function jx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function _x(e,t){this._pairs=[],e&&Px(e,this,t)}const Tx=_x.prototype;Tx.append=function(e,t){this._pairs.push([e,t])},Tx.toString=function(e){const t=e?function(t){return e.call(this,t,jx)}:jx;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ax=_x;function Dx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mx(e,t,n){if(!t)return e;const r=n&&n.encode||Dx;vx.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):vx.isURLSearchParams(t)?t.toString():new Ax(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Nx=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vx.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lx={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ax,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rx="undefined"!=typeof window&&"undefined"!=typeof document,Fx="object"==typeof navigator&&navigator||void 0,zx=Rx&&(!Fx||["ReactNative","NativeScript","NS"].indexOf(Fx.product)<0),Vx="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Bx=Rx&&window.location.href||"http://localhost",Wx={...e,...Lx},Ux=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&vx.isArray(r)?r.length:i,s?(vx.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&vx.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&vx.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(vx.isFormData(e)&&vx.isFunction(e.entries)){const n={};return vx.forEachEntry(e,(e,r)=>{t(function(e){return vx.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null},Hx={transitional:Ix,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=vx.isObject(e);if(o&&vx.isHTMLForm(e)&&(e=new FormData(e)),vx.isFormData(e))return r?JSON.stringify(Ux(e)):e;if(vx.isArrayBuffer(e)||vx.isBuffer(e)||vx.isStream(e)||vx.isFile(e)||vx.isBlob(e)||vx.isReadableStream(e))return e;if(vx.isArrayBufferView(e))return e.buffer;if(vx.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Px(e,new Wx.classes.URLSearchParams,{visitor:function(e,t,n,r){return Wx.isNode&&vx.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=vx.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Px(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(vx.isString(e))try{return(0,JSON.parse)(e),vx.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Hx.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vx.isResponse(e)||vx.isReadableStream(e))return e;if(e&&vx.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Sx.from(e,Sx.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wx.classes.FormData,Blob:Wx.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vx.forEach(["delete","get","head","post","put","patch"],e=>{Hx.headers[e]={}});const Yx=Hx,Xx=vx.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qx=Symbol("internals");function $x(e){return e&&String(e).trim().toLowerCase()}function Gx(e){return!1===e||null==e?e:vx.isArray(e)?e.map(Gx):String(e)}function Qx(e,t,n,r,o){return vx.isFunction(r)?r.call(this,t,n):(o&&(t=n),vx.isString(t)?vx.isString(r)?-1!==t.indexOf(r):vx.isRegExp(r)?r.test(t):void 0:void 0)}class Zx{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=$x(t);if(!o)throw new Error("header name must be a non-empty string");const i=vx.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Gx(e))}const i=(e,t)=>vx.forEach(e,(e,n)=>o(e,n,t));if(vx.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(vx.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Xx[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(vx.isObject(e)&&vx.isIterable(e)){let n,r,o={};for(const t of e){if(!vx.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?vx.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=$x(e)){const n=vx.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(vx.isFunction(t))return t.call(this,e,n);if(vx.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$x(e)){const n=vx.findKey(this,e);return!(!n||void 0===this[n]||t&&!Qx(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=$x(e)){const o=vx.findKey(n,e);!o||t&&!Qx(0,n[o],o,t)||(delete n[o],r=!0)}}return vx.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Qx(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return vx.forEach(this,(r,o)=>{const i=vx.findKey(n,o);if(i)return t[i]=Gx(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=Gx(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return vx.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&vx.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[qx]=this[qx]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=$x(e);t[r]||(function(e,t){const n=vx.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return vx.isArray(e)?e.forEach(r):r(e),this}}Zx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vx.reduceDescriptors(Zx.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),vx.freezeMethods(Zx);const Kx=Zx;function Jx(e,t){const n=this||Yx,r=t||n,o=Kx.from(r.headers);let i=r.data;return vx.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function ew(e){return!(!e||!e.__CANCEL__)}function tw(e,t,n){Sx.call(this,null==e?"canceled":e,Sx.ERR_CANCELED,t,n),this.name="CanceledError"}vx.inherits(tw,Sx,{__CANCEL__:!0});const nw=tw;function rw(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Sx("Request failed with status code "+n.status,[Sx.ERR_BAD_REQUEST,Sx.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ow=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,f=0;for(;u!==i;)f+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*f/p):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-s)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},iw=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},aw=e=>(...t)=>vx.asap(()=>e(...t)),sw=Wx.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wx.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wx.origin),Wx.navigator&&/(msie|trident)/i.test(Wx.navigator.userAgent)):()=>!0,lw=Wx.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];vx.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),vx.isString(r)&&a.push("path="+r),vx.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function cw(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const uw=e=>e instanceof Kx?{...e}:e;function fw(e,t){t=t||{};const n={};function r(e,t,n,r){return vx.isPlainObject(e)&&vx.isPlainObject(t)?vx.merge.call({caseless:r},e,t):vx.isPlainObject(t)?vx.merge({},t):vx.isArray(t)?t.slice():t}function o(e,t,n,o){return vx.isUndefined(t)?vx.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!vx.isUndefined(t))return r(void 0,t)}function a(e,t){return vx.isUndefined(t)?vx.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(uw(e),uw(t),0,!0)};return vx.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||o,a=i(e[r],t[r],r);vx.isUndefined(a)&&i!==s||(n[r]=a)}),n}const pw=e=>{const t=fw({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Kx.from(s),t.url=Mx(cw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),vx.isFormData(r))if(Wx.hasStandardBrowserEnv||Wx.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Wx.hasStandardBrowserEnv&&(o&&vx.isFunction(o)&&(o=o(t)),o||!1!==o&&sw(t.url))){const e=i&&a&&lw.read(a);e&&s.set(i,e)}return t},dw="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=pw(e);let o=r.data;const i=Kx.from(r.headers).normalize();let a,s,l,c,u,{responseType:f,onUploadProgress:p,onDownloadProgress:d}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let y=new XMLHttpRequest;function m(){if(!y)return;const r=Kx.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());rw(function(e){t(e),h()},function(e){n(e),h()},{data:f&&"text"!==f&&"json"!==f?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout,"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(m)},y.onabort=function(){y&&(n(new Sx("Request aborted",Sx.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new Sx("Network Error",Sx.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Ix;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Sx(t,o.clarifyTimeoutError?Sx.ETIMEDOUT:Sx.ECONNABORTED,e,y)),y=null},void 0===o&&i.setContentType(null),"setRequestHeader"in y&&vx.forEach(i.toJSON(),function(e,t){y.setRequestHeader(t,e)}),vx.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),f&&"json"!==f&&(y.responseType=r.responseType),d&&([l,u]=ow(d,!0),y.addEventListener("progress",l)),p&&y.upload&&([s,c]=ow(p),y.upload.addEventListener("progress",s),y.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{y&&(n(!t||t.type?new nw(null,e,y):t),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Wx.protocols.indexOf(g)?n(new Sx("Unsupported protocol "+g+":",Sx.ERR_BAD_REQUEST,e)):y.send(o||null)})},hw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Sx?t:new nw(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new Sx(`timeout ${t} of ms exceeded`,Sx.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>vx.asap(a),s}},yw=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},mw=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*yw(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},gw="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,vw=gw&&"function"==typeof ReadableStream,bw=gw&&("function"==typeof TextEncoder?(xw=new TextEncoder,e=>xw.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var xw;const ww=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Sw=vw&&ww(()=>{let e=!1;const t=new Request(Wx.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),kw=vw&&ww(()=>vx.isReadableStream(new Response("").body)),Ew={stream:kw&&(e=>e.body)};var Cw;gw&&(Cw=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ew[e]&&(Ew[e]=vx.isFunction(Cw[e])?t=>t[e]():(t,n)=>{throw new Sx(`Response type '${e}' is not supported`,Sx.ERR_NOT_SUPPORT,n)})}));const Ow=gw&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=pw(e);c=c?(c+"").toLowerCase():"text";let d,h=hw([o,i&&i.toAbortSignal()],a);const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(l&&Sw&&"get"!==n&&"head"!==n&&0!==(m=await(async(e,t)=>{const n=vx.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(vx.isBlob(e))return e.size;if(vx.isSpecCompliantForm(e)){const t=new Request(Wx.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vx.isArrayBufferView(e)||vx.isArrayBuffer(e)?e.byteLength:(vx.isURLSearchParams(e)&&(e+=""),vx.isString(e)?(await bw(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(vx.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=iw(m,ow(aw(l)));r=mw(n.body,65536,e,t)}}vx.isString(f)||(f=f?"include":"omit");const o="credentials"in Request.prototype;d=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?f:void 0});let i=await fetch(d,p);const a=kw&&("stream"===c||"response"===c);if(kw&&(s||a&&y)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=vx.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&iw(t,ow(aw(s),!0))||[];i=new Response(mw(i.body,65536,n,()=>{r&&r(),y&&y()}),e)}c=c||"text";let g=await Ew[vx.findKey(Ew,c)||"text"](i,e);return!a&&y&&y(),await new Promise((t,n)=>{rw(t,n,{data:g,headers:Kx.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:d})})}catch(t){if(y&&y(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new Sx("Network Error",Sx.ERR_NETWORK,e,d),{cause:t.cause||t});throw Sx.from(t,t&&t.code,e,d)}}),Pw={http:null,xhr:dw,fetch:Ow};vx.forEach(Pw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const jw=e=>`- ${e}`,_w=e=>vx.isFunction(e)||null===e||!1===e,Tw=e=>{e=vx.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!_w(n)&&(r=Pw[(t=String(n)).toLowerCase()],void 0===r))throw new Sx(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let n=t?e.length>1?"since :\n"+e.map(jw).join("\n"):" "+jw(e[0]):"as no adapter specified";throw new Sx("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Aw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nw(null,e)}function Dw(e){return Aw(e),e.headers=Kx.from(e.headers),e.data=Jx.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tw(e.adapter||Yx.adapter)(e).then(function(t){return Aw(e),t.data=Jx.call(e,e.transformResponse,t),t.headers=Kx.from(t.headers),t},function(t){return ew(t)||(Aw(e),t&&t.response&&(t.response.data=Jx.call(e,e.transformResponse,t.response),t.response.headers=Kx.from(t.response.headers))),Promise.reject(t)})}const Mw="1.11.0",Nw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Iw={};Nw.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Mw+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Sx(r(o," has been removed"+(t?" in "+t:"")),Sx.ERR_DEPRECATED);return t&&!Iw[o]&&(Iw[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},Nw.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Lw={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Sx("options must be an object",Sx.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Sx("option "+i+" must be "+n,Sx.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Sx("Unknown option "+i,Sx.ERR_BAD_OPTION)}},validators:Nw},Rw=Lw.validators;class Fw{constructor(e){this.defaults=e||{},this.interceptors={request:new Nx,response:new Nx}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=fw(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Lw.assertOptions(n,{silentJSONParsing:Rw.transitional(Rw.boolean),forcedJSONParsing:Rw.transitional(Rw.boolean),clarifyTimeoutError:Rw.transitional(Rw.boolean)},!1),null!=r&&(vx.isFunction(r)?t.paramsSerializer={serialize:r}:Lw.assertOptions(r,{encode:Rw.function,serialize:Rw.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Lw.assertOptions(t,{baseUrl:Rw.spelling("baseURL"),withXsrfToken:Rw.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&vx.merge(o.common,o[t.method]);o&&vx.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=Kx.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,f=0;if(!s){const e=[Dw.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);f<u;)c=c.then(e[f++],e[f++]);return c}u=a.length;let p=t;for(f=0;f<u;){const e=a[f++],t=a[f++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=Dw.call(this,p)}catch(e){return Promise.reject(e)}for(f=0,u=l.length;f<u;)c=c.then(l[f++],l[f++]);return c}getUri(e){return Mx(cw((e=fw(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}vx.forEach(["delete","get","head","options"],function(e){Fw.prototype[e]=function(t,n){return this.request(fw(n||{},{method:e,url:t,data:(n||{}).data}))}}),vx.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(fw(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Fw.prototype[e]=t(),Fw.prototype[e+"Form"]=t(!0)});const zw=Fw;class Vw{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new nw(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Vw(function(t){e=t}),cancel:e}}}const Bw=Vw,Ww={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ww).forEach(([e,t])=>{Ww[t]=e});const Uw=Ww,Hw=function e(t){const n=new zw(t),r=jb(zw.prototype.request,n);return vx.extend(r,zw.prototype,n,{allOwnKeys:!0}),vx.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(fw(t,n))},r}(Yx);Hw.Axios=zw,Hw.CanceledError=nw,Hw.CancelToken=Bw,Hw.isCancel=ew,Hw.VERSION=Mw,Hw.toFormData=Px,Hw.AxiosError=Sx,Hw.Cancel=Hw.CanceledError,Hw.all=function(e){return Promise.all(e)},Hw.spread=function(e){return function(t){return e.apply(null,t)}},Hw.isAxiosError=function(e){return vx.isObject(e)&&!0===e.isAxiosError},Hw.mergeConfig=fw,Hw.AxiosHeaders=Kx,Hw.formToJSON=e=>Ux(vx.isHTMLForm(e)?new FormData(e):e),Hw.getAdapter=Tw,Hw.HttpStatusCode=Uw,Hw.default=Hw;const Yw=Hw;function Xw(e){return function(e){if(Array.isArray(e))return qw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Gw(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Gw(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Gw(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,Gw(f,"constructor",c),Gw(c,"constructor",l),l.displayName="GeneratorFunction",Gw(c,o,"GeneratorFunction"),Gw(f),Gw(f,o,"Generator"),Gw(f,r,function(){return this}),Gw(f,"toString",function(){return"[object Generator]"}),($w=function(){return{w:i,m:p}})()}function Gw(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Gw=function(e,t,n,r){function i(t,n){Gw(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Gw(e,t,n,r)}function Qw(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Zw(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Qw(i,r,o,a,s,"next",e)}function s(e){Qw(i,r,o,a,s,"throw",e)}a(void 0)})}}var Kw="http://localhost:3001/api",Jw=!0,eS=function(){var e=Zw($w().m(function e(){return $w().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Yw.get("http://localhost:3001/health");case 1:return Jw=!0,e.a(2,!0);case 2:return e.p=2,e.v,Jw=!1,e.a(2,!1)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),tS=function(){var e=Zw($w().m(function e(t){var n,r,o,i,a,s,l=arguments;return $w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"1day",e.p=1,console.log(" Fetching ".concat(t,"@").concat(n," from backend cache...")),!(a=!Jw)){e.n=3;break}return e.n=2,eS();case 2:a=!e.v;case 3:if(!a){e.n=4;break}throw new Error("Backend service unavailable");case 4:return e.n=5,Yw.get("".concat(Kw,"/data/").concat(t,"/").concat(n));case 5:if(!((r=e.v).data&&r.data.data&&r.data.data.length>0)){e.n=6;break}return o=r.data.data,i=r.data.metadata,console.log(" Loaded ".concat(o.length," points for ").concat(t,"@").concat(n," from cache")),console.log(" Data age: ".concat(i.ageMinutes||"unknown"," minutes old")),console.log(" Price range: $".concat(Math.min.apply(Math,Xw(o.map(function(e){return e.low}))).toFixed(2)," - $").concat(Math.max.apply(Math,Xw(o.map(function(e){return e.high}))).toFixed(2))),e.a(2,o.map(function(e){return{date:new Date(e.date),open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}}));case 6:throw new Error("No cached data available for ".concat(t,"@").concat(n));case 7:e.n=9;break;case 8:throw e.p=8,s=e.v,console.error(" Backend API error for ".concat(t,"@").concat(n,":"),s.message),(s.message.includes("Network Error")||s.message.includes("ECONNREFUSED"))&&(console.error(" Backend server is not running! Please start it:"),console.error("   cd backend && npm start"),Jw=!1),new Error("Failed to fetch ".concat(t,"@").concat(n,": ").concat(s.message));case 9:return e.a(2)}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),nS=function(){var e=Zw($w().m(function e(t){var n,r,o,i,a,s,l,c=arguments;return $w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],e.p=1,console.log(" Searching '".concat(t,"' via backend...")),!(s=!Jw)){e.n=3;break}return e.n=2,eS();case 2:s=!e.v;case 3:if(!s){e.n=4;break}throw new Error("Backend service unavailable for search");case 4:return r=n?"?download=true":"",e.n=5,Yw.get("".concat(Kw,"/search/").concat(encodeURIComponent(t)).concat(r));case 5:if(!((o=e.v).data&&o.data.results&&Array.isArray(o.data.results))){e.n=6;break}return i=o.data.results,a=o.data.metadata,console.log(" Found ".concat(a.total," symbols matching '").concat(t,"'")),a.justDownloaded>0&&console.log(" Auto-downloaded data for ".concat(a.justDownloaded," new symbols")),e.a(2,i);case 6:if(!o.data||!Array.isArray(o.data)){e.n=7;break}return console.log(" Found ".concat(o.data.length," symbols matching '").concat(t,"'")),e.a(2,o.data);case 7:return e.a(2,[]);case 8:e.n=10;break;case 9:return e.p=9,l=e.v,console.error(" Search error for '".concat(t,"':"),l.message),e.a(2,[]);case 10:return e.a(2)}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();function rS(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return oS(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(oS(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,oS(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,oS(f,"constructor",c),oS(c,"constructor",l),l.displayName="GeneratorFunction",oS(c,o,"GeneratorFunction"),oS(f),oS(f,o,"Generator"),oS(f,r,function(){return this}),oS(f,"toString",function(){return"[object Generator]"}),(rS=function(){return{w:i,m:p}})()}function oS(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}oS=function(e,t,n,r){function i(t,n){oS(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},oS(e,t,n,r)}function iS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function aS(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){iS(i,r,o,a,s,"next",e)}function s(e){iS(i,r,o,a,s,"throw",e)}a(void 0)})}}function sS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cS=[{symbol:"AAPL",shortName:"Apple Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"GOOGL",shortName:"Alphabet Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"MSFT",shortName:"Microsoft Corporation",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"AMZN",shortName:"Amazon.com Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"TSLA",shortName:"Tesla Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"SNOW",shortName:"Snowflake Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"WDAY",shortName:"Workday Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"META",shortName:"Meta Platforms Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"NVDA",shortName:"NVIDIA Corporation",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"JPM",shortName:"JPMorgan Chase & Co.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"V",shortName:"Visa Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"WMT",shortName:"Walmart Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"DIS",shortName:"The Walt Disney Company",typeDisp:"Stock",exchange:"NYSE"},{symbol:"NFLX",shortName:"Netflix Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"AMD",shortName:"Advanced Micro Devices",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"BA",shortName:"Boeing Company",typeDisp:"Stock",exchange:"NYSE"},{symbol:"CRM",shortName:"Salesforce Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"UBER",shortName:"Uber Technologies Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"ABNB",shortName:"Airbnb Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"SHOP",shortName:"Shopify Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"SPOT",shortName:"Spotify Technology S.A.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"COIN",shortName:"Coinbase Global Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"GME",shortName:"GameStop Corp.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"AMC",shortName:"AMC Entertainment Holdings",typeDisp:"Stock",exchange:"NYSE"},{symbol:"PLTR",shortName:"Palantir Technologies Inc.",typeDisp:"Stock",exchange:"NYSE"}];const uS=function(e){var n=e.currentSymbol,r=e.onSymbolChange,o=e.currentInterval,i=e.onIntervalChange,a=e.onUndo,s=e.onRedo,l=e.onReplay,c=e.onIndicatorsClick,u=e.onChartTypeClick,f=e.onSettingsClick,p=e.onPineScriptImport,d=sS((0,t.useState)(!1),2),h=d[0],y=d[1],m=sS((0,t.useState)(""),2),g=m[0],v=m[1],b=sS((0,t.useState)(cS),2),x=b[0],w=b[1],S=sS((0,t.useState)(!1),2),k=S[0],E=S[1],C=(0,t.useRef)(null),O=(0,t.useRef)(null);(0,t.useEffect)(function(){var e=function(e){C.current&&!C.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(function(){return O.current&&clearTimeout(O.current),g.trim()?(E(!0),O.current=setTimeout(aS(rS().m(function e(){var t,n,r,o;return rS().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,nS(g.trim(),!1);case 1:(t=e.v).length>0?w(t):(n=cS.filter(function(e){return e.symbol.toLowerCase().includes(g.toLowerCase())||e.shortName.toLowerCase().includes(g.toLowerCase())}),w(n)),e.n=3;break;case 2:e.p=2,o=e.v,console.error("Search failed:",o),r=cS.filter(function(e){return e.symbol.toLowerCase().includes(g.toLowerCase())||e.shortName.toLowerCase().includes(g.toLowerCase())}),w(r);case 3:return e.p=3,E(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])})),300)):(w(cS),E(!1)),function(){O.current&&clearTimeout(O.current)}},[g]);var P=function(e){r(e),y(!1),v("")};return t.createElement("div",{className:"header-toolbar"},t.createElement("div",{className:"header-left"},t.createElement("div",{className:"symbol-search-area",ref:C,"data-testid":"symbol-search-area"},t.createElement("button",{className:"search-button",onClick:function(){return y(!h)},title:"Search symbols","data-testid":"search-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("circle",{cx:"7",cy:"7",r:"5.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M11 11L16 16",stroke:"currentColor",strokeWidth:"1.5"}))),t.createElement("div",{className:"symbol-display"},t.createElement("span",{className:"current-symbol","data-testid":"current-symbol"},n)),h&&t.createElement("div",{className:"symbol-search-dropdown","data-testid":"symbol-search-dropdown"},t.createElement("div",{className:"search-input-wrapper"},t.createElement("input",{type:"text",className:"symbol-search-input",placeholder:"Search symbol...",value:g,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(x.length>0?P(x[0].symbol):g.trim()&&P(g.trim().toUpperCase())),"Escape"===e.key&&y(!1)},"data-testid":"symbol-search-input",autoFocus:!0})),t.createElement("div",{className:"symbol-results"},k?t.createElement("div",{className:"loading-message"},"Searching..."):t.createElement(t.Fragment,null,x.length>0?x.map(function(e){return t.createElement("div",{key:e.symbol,className:"symbol-result-item",onClick:function(){return P(e.symbol)},"data-testid":"symbol-result-item"},t.createElement("div",{className:"symbol-info"},t.createElement("span",{className:"symbol-ticker"},e.symbol),t.createElement("span",{className:"symbol-exchange"},e.exchange||""),t.createElement("span",{className:"symbol-type"},e.typeDisp)),t.createElement("div",{className:"symbol-name"},e.shortName))}):g.trim()?t.createElement("div",{className:"symbol-result-item",onClick:function(){return P(g.trim().toUpperCase())},"data-testid":"symbol-result-item"},t.createElement("div",{className:"symbol-info"},t.createElement("span",{className:"symbol-ticker"},g.trim().toUpperCase()),t.createElement("span",{className:"symbol-type"},"Enter to select")),t.createElement("div",{className:"symbol-name"},"Load ",g.trim().toUpperCase()," data")):t.createElement("div",{className:"no-results"},"Popular symbols"))))),t.createElement("div",{className:"toolbar-separator"}),t.createElement("div",{className:"time-interval-dropdown"},t.createElement("select",{className:"interval-select","data-testid":"interval-select",value:o,onChange:function(e){return i(e.target.value)}},t.createElement("optgroup",{label:"Intraday (Last 30 days)"},t.createElement("option",{value:"1min"},"1m"),t.createElement("option",{value:"5min"},"5m"),t.createElement("option",{value:"15min"},"15m"),t.createElement("option",{value:"30min"},"30m"),t.createElement("option",{value:"60min"},"1h")),t.createElement("optgroup",{label:"Daily, Weekly & Monthly (20+ years)"},t.createElement("option",{value:"1day"},"1D"),t.createElement("option",{value:"1week"},"1W"),t.createElement("option",{value:"1month"},"1M")))),t.createElement("div",{className:"toolbar-separator"}),t.createElement("button",{className:"chart-type-button",title:"Chart type",onClick:u,"data-testid":"chart-type-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("rect",{x:"4",y:"12",width:"2",height:"4",fill:"currentColor"}),t.createElement("rect",{x:"8",y:"8",width:"2",height:"8",fill:"currentColor"}),t.createElement("rect",{x:"12",y:"10",width:"2",height:"6",fill:"currentColor"}))),t.createElement("button",{className:"indicators-button",title:"Indicators",onClick:c,"data-testid":"indicators-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M3 9L7 5L11 9L15 3",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("circle",{cx:"15",cy:"3",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"11",cy:"9",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"7",cy:"5",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"3",cy:"9",r:"1.5",fill:"currentColor"})),t.createElement("span",null,"Indicators")),t.createElement("button",{className:"pinescript-button",title:"Import PineScript",onClick:p,"data-testid":"pinescript-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M2 2h14v14H2V2z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M6 6h6M6 9h4M6 12h5",stroke:"currentColor",strokeWidth:"1"})),t.createElement("span",null,"PineScript"))),t.createElement("div",{className:"header-right"},t.createElement("button",{className:"header-icon-button",title:"Bar replay",onClick:l,"data-testid":"replay-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M3 9L3 5L7 5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M15 9C15 12.314 12.314 15 9 15C6.5 15 4.5 13.5 3.5 11.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M3 9C3 5.686 5.686 3 9 3C11.5 3 13.5 4.5 14.5 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})),t.createElement("span",null,"Replay")),t.createElement("button",{className:"header-icon-button",title:"Undo (Z)",onClick:a,"data-testid":"undo-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M4 8H12C14 8 15 9 15 11C15 13 14 14 12 14H8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M6 6L4 8L6 10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}))),t.createElement("button",{className:"header-icon-button",title:"Redo (Z)",onClick:s,"data-testid":"redo-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M14 8H6C4 8 3 9 3 11C3 13 4 14 6 14H10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M12 6L14 8L12 10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}))),t.createElement("button",{className:"header-icon-button",title:"Settings","data-testid":"settings-button",onClick:f},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M9 11.5C10.38 11.5 11.5 10.38 11.5 9C11.5 7.62 10.38 6.5 9 6.5C7.62 6.5 6.5 7.62 6.5 9C6.5 10.38 7.62 11.5 9 11.5Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M14.5 9C14.5 9.3 14.48 9.59 14.44 9.87L16.07 11.13C16.21 11.24 16.25 11.44 16.16 11.6L14.66 14.4C14.57 14.56 14.37 14.62 14.2 14.56L12.27 13.77C11.87 14.06 11.44 14.3 10.97 14.48L10.69 16.54C10.66 16.72 10.51 16.85 10.32 16.85H7.32C7.13 16.85 6.98 16.72 6.95 16.54L6.67 14.48C6.2 14.3 5.77 14.07 5.37 13.77L3.44 14.56C3.27 14.63 3.07 14.56 2.98 14.4L1.48 11.6C1.39 11.44 1.43 11.24 1.57 11.13L3.2 9.87C3.16 9.59 3.14 9.29 3.14 9C3.14 8.71 3.16 8.41 3.2 8.13L1.57 6.87C1.43 6.76 1.39 6.56 1.48 6.4L2.98 3.6C3.07 3.44 3.27 3.38 3.44 3.44L5.37 4.23C5.77 3.94 6.2 3.7 6.67 3.52L6.95 1.46C6.98 1.28 7.13 1.15 7.32 1.15H10.32C10.51 1.15 10.66 1.28 10.69 1.46L10.97 3.52C11.44 3.7 11.87 3.93 12.27 4.23L14.2 3.44C14.37 3.37 14.57 3.44 14.66 3.6L16.16 6.4C16.25 6.56 16.21 6.76 16.07 6.87L14.44 8.13C14.48 8.41 14.5 8.7 14.5 9Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})))))};var fS=n(716),pS={};pS.styleTagTransform=sb(),pS.setAttributes=rb(),pS.insert=tb().bind(null,"head"),pS.domAPI=Jv(),pS.insertStyleElement=ib(),Zv()(fS.A,pS),fS.A&&fS.A.locals&&fS.A.locals;const dS=function(e){var n=e.isPlaying,r=e.replayPosition,o=e.totalBars,i=e.replaySpeed,a=e.data,s=e.replayEndPosition,l=e.onPlay,c=e.onPause,u=e.onStepForward,f=e.onStepBackward,p=e.onSpeedChange,d=e.onPositionChange,h=e.onExit,y=e.onDateSelect,m=e.onEndDateSelect,g=e.onClearEndDate,v=s||o,b=r/v*100,x=function(e){if(a&&a[e-1]){var t=a[e-1];if(t.date)return new Date(t.date).toLocaleDateString()}var n=new Date;return n.setDate(n.getDate()-(o-e)),n.toLocaleDateString()},w=function(e){if(a&&a[e-1]){var t=a[e-1];if(t.date)return new Date(t.date).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}return x(e)};return t.createElement("div",{className:"replay-controls-overlay","data-testid":"replay-controls-overlay"},t.createElement("div",{className:"replay-controls","data-testid":"replay-controls"},t.createElement("div",{className:"replay-header"},t.createElement("span",{className:"replay-title"}," Replay Mode"),t.createElement("button",{className:"replay-exit",onClick:h,title:"Exit replay","data-testid":"replay-exit-button"},"")),t.createElement("div",{className:"replay-date-picker","data-testid":"start-date-picker"},t.createElement("label",null,"Start Date:"),t.createElement("input",{type:"date",className:"date-input",value:function(){if(a&&a[r-1]){var e=a[r-1];if(e.date)return new Date(e.date).toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]}(),onChange:function(e){var t=new Date(e.target.value);if(a){var n=0,r=1/0;a.forEach(function(e,o){if(e.date){var i=new Date(e.date),a=Math.abs(t.getTime()-i.getTime());a<r&&(r=a,n=o)}}),y?y(n+1):d(n+1)}},"data-testid":"start-date-input"}),t.createElement("span",{className:"current-datetime"},w(r))),t.createElement("div",{className:"replay-date-picker","data-testid":"end-date-picker"},t.createElement("label",null,"End Date:"),t.createElement("input",{type:"date",className:"date-input",value:function(){if(a&&s&&a[s-1]){var e=a[s-1];if(e.date)return new Date(e.date).toISOString().split("T")[0]}if(a&&a.length>0){var t=a[a.length-1];if(t.date)return new Date(t.date).toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]}(),onChange:function(e){var t=new Date(e.target.value);if(a&&m){var n=0,r=1/0;a.forEach(function(e,o){if(e.date){var i=new Date(e.date),a=Math.abs(t.getTime()-i.getTime());a<r&&(r=a,n=o)}}),m(n+1)}},"data-testid":"end-date-input"}),s&&g&&t.createElement("button",{className:"clear-end-date-btn",onClick:g,title:"Clear end date limit"},""),t.createElement("span",{className:"end-datetime"},s?w(s):"No limit")),t.createElement("div",{className:"replay-progress"},t.createElement("div",{className:"progress-info"},t.createElement("span",null,"Bar ",r," / ",s||o),t.createElement("span",null,x(r))),t.createElement("div",{className:"progress-bar"},t.createElement("div",{className:"progress-fill",style:{width:"".concat(b,"%")}}),t.createElement("input",{type:"range",className:"progress-slider",min:"1",max:v,value:r,onChange:function(e){return d(parseInt(e.target.value))}}))),t.createElement("div",{className:"replay-buttons"},t.createElement("button",{className:"replay-btn step",onClick:f,title:"Step backward"},""),n?t.createElement("button",{className:"replay-btn play-pause",onClick:c,title:"Pause"},""):t.createElement("button",{className:"replay-btn play-pause",onClick:l,title:"Play"},""),t.createElement("button",{className:"replay-btn step",onClick:u,title:"Step forward"},"")),t.createElement("div",{className:"replay-speed"},t.createElement("label",null,"Speed:"),t.createElement("select",{value:i,onChange:function(e){return p(parseFloat(e.target.value))},className:"speed-selector"},t.createElement("option",{value:"0.5"},"0.5x"),t.createElement("option",{value:"1"},"1x"),t.createElement("option",{value:"2"},"2x"),t.createElement("option",{value:"5"},"5x"),t.createElement("option",{value:"10"},"10x")))))};var hS=n(483),yS={};yS.styleTagTransform=sb(),yS.setAttributes=rb(),yS.insert=tb().bind(null,"head"),yS.domAPI=Jv(),yS.insertStyleElement=ib(),Zv()(hS.A,yS),hS.A&&hS.A.locals&&hS.A.locals;const mS=function(e){var n=e.enabledIndicators,r=e.onToggleIndicator,o=e.onClose;return t.createElement("div",{className:"indicators-panel","data-testid":"indicators-panel"},t.createElement("div",{className:"indicators-header"},t.createElement("h3",null," Indicators"),t.createElement("button",{className:"close-button",onClick:o,"data-testid":"indicators-close-button"},"")),t.createElement("div",{className:"indicators-section"},t.createElement("h4",null,"All indicators"),t.createElement("div",{className:"indicators-list"},[{key:"ema10",label:"EMA 10 days",type:"EMA"},{key:"ema12",label:"EMA 12 days",type:"EMA"},{key:"ema26",label:"EMA 26 days",type:"EMA"},{key:"ema50",label:"EMA 50 days",type:"EMA"},{key:"ema200",label:"EMA 200 days",type:"EMA"},{key:"sma10",label:"SMA 10 days",type:"SMA"},{key:"sma50",label:"SMA 50 days",type:"SMA"},{key:"sma200",label:"SMA 200 days",type:"SMA"},{key:"bollingerBands",label:"Bollinger Bands",type:"BB"},{key:"elderRay",label:"Elder Ray",type:"Momentum"},{key:"volume",label:"Volume",type:"Volume"}].map(function(e){return t.createElement("div",{key:e.key,className:"indicator-item ".concat(n[e.key]?"enabled":""),onClick:function(){return t=e.key,void r(t);var t},"data-testid":"indicator-".concat(e.key)},t.createElement("div",{className:"indicator-checkbox"},n[e.key]&&t.createElement("span",null,"")),t.createElement("span",{className:"indicator-label"},e.label))}))))};var gS=n(649),vS={};vS.styleTagTransform=sb(),vS.setAttributes=rb(),vS.insert=tb().bind(null,"head"),vS.domAPI=Jv(),vS.insertStyleElement=ib(),Zv()(gS.A,vS),gS.A&&gS.A.locals&&gS.A.locals;const bS=function(e){var n=e.currentChartType,r=e.onChartTypeSelect,o=e.onClose,i=[{key:"candlestick",label:"Candlestick",description:"OHLC data as candlesticks",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("rect",{x:"10",y:"6",width:"4",height:"12",fill:"currentColor",stroke:"currentColor",strokeWidth:"1"}),t.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6",stroke:"currentColor",strokeWidth:"1"}),t.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22",stroke:"currentColor",strokeWidth:"1"}))},{key:"ohlc",label:"OHLC Bars",description:"Traditional bar charts",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20",stroke:"currentColor",strokeWidth:"2"}),t.createElement("line",{x1:"8",y1:"8",x2:"12",y2:"8",stroke:"currentColor",strokeWidth:"2"}),t.createElement("line",{x1:"12",y1:"16",x2:"16",y2:"16",stroke:"currentColor",strokeWidth:"2"}))},{key:"line",label:"Line Chart",description:"Simple line connecting closes",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M3 17L9 11L13 15L21 7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),t.createElement("circle",{cx:"3",cy:"17",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"15",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"21",cy:"7",r:"2",fill:"currentColor"}))},{key:"area",label:"Area Chart",description:"Line chart with filled area",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M3 17L9 11L13 15L21 7V20H3V17Z",fill:"currentColor",opacity:"0.3"}),t.createElement("path",{d:"M3 17L9 11L13 15L21 7",stroke:"currentColor",strokeWidth:"2",fill:"none"}))}];return t.createElement("div",{className:"chart-type-panel","data-testid":"chart-type-panel"},t.createElement("div",{className:"chart-type-header"},t.createElement("h3",null," Chart Type"),t.createElement("button",{className:"close-button",onClick:o},"")),t.createElement("div",{className:"chart-types-list"},i.map(function(e){return t.createElement("div",{key:e.key,className:"chart-type-item ".concat(n===e.key?"selected":""),onClick:function(){return t=e.key,void r(t);var t}},t.createElement("div",{className:"chart-type-icon"},e.icon),t.createElement("div",{className:"chart-type-info"},t.createElement("div",{className:"chart-type-label"},e.label),t.createElement("div",{className:"chart-type-description"},e.description)),n===e.key&&t.createElement("div",{className:"chart-type-selected"},""))})))};var xS=n(691),wS={};wS.styleTagTransform=sb(),wS.setAttributes=rb(),wS.insert=tb().bind(null,"head"),wS.domAPI=Jv(),wS.insertStyleElement=ib(),Zv()(xS.A,wS),xS.A&&xS.A.locals&&xS.A.locals;const SS=function(e){var n,r=e.zoomMultiplier,o=e.onZoomMultiplierChange,i=e.displayTimezone,a=void 0===i?"local":i,s=e.onTimezoneChange,l=e.currentSymbol,c=e.onRefreshSymbolData,u=e.onClose,f=Math.round(100*(r-1)),p=Intl.DateTimeFormat().resolvedOptions().timeZone,d=new Date,h=[{value:"local",label:"Local (".concat(p,")"),example:d.toLocaleString()},{value:"et",label:"Eastern Time (ET)",example:d.toLocaleString("en-US",{timeZone:"America/New_York"})},{value:"utc",label:"UTC",example:d.toISOString().replace("T"," ").slice(0,19)+" UTC"}];return t.createElement("div",{className:"settings-panel","data-testid":"settings-panel"},t.createElement("div",{className:"settings-header"},t.createElement("h3",null," Settings"),t.createElement("button",{className:"close-button",onClick:u,"data-testid":"settings-close-button"},"")),t.createElement("div",{className:"settings-content"},t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"setting-label"},"Zoom Sensitivity"),t.createElement("div",{className:"setting-description"},"Adjust how much the chart zooms with each scroll"),t.createElement("div",{className:"zoom-control"},t.createElement("div",{className:"zoom-slider-container"},t.createElement("input",{type:"range",className:"zoom-slider","data-testid":"zoom-slider",min:"1",max:"30",value:f,onChange:function(e){var t=parseInt(e.target.value);o(1+t/100)}}),t.createElement("div",{className:"zoom-value","data-testid":"zoom-value"},f,"%")),t.createElement("div",{className:"zoom-presets"},[{label:"Very Smooth",value:1.01,percentage:1},{label:"Smooth",value:1.03,percentage:3},{label:"Normal",value:1.05,percentage:5},{label:"Fast",value:1.1,percentage:10},{label:"Very Fast",value:1.2,percentage:20}].map(function(e){return t.createElement("button",{key:e.value,className:"preset-button ".concat(Math.abs(r-e.value)<.001?"active":""),"data-testid":"preset-".concat(e.label.toLowerCase().replace(" ","-")),onClick:function(){return o(e.value)}},e.label,t.createElement("span",{className:"preset-value"},e.percentage,"%"))}))),t.createElement("div",{className:"setting-info"},t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Current multiplier:"),t.createElement("span",{className:"info-value"},r.toFixed(3))),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Zoom per scroll:"),t.createElement("span",{className:"info-value"},f,"%")))),t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"setting-label"},"Timezone Display"),t.createElement("div",{className:"setting-description"},"Choose how timestamps are displayed on the chart"),t.createElement("div",{className:"timezone-control"},t.createElement("select",{className:"timezone-select","data-testid":"timezone-select",value:a,onChange:function(e){return null==s?void 0:s(e.target.value)}},h.map(function(e){return t.createElement("option",{key:e.value,value:e.value},e.label)})),t.createElement("div",{className:"timezone-info"},t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Current time in selected zone:"),t.createElement("span",{className:"info-value"},null===(n=h.find(function(e){return e.value===a}))||void 0===n?void 0:n.example)),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Market hours (ET):"),t.createElement("span",{className:"info-value"},"9:30 AM - 4:00 PM")),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Data timezone:"),t.createElement("span",{className:"info-value"},"UTC (stored)  ","local"===a?p:"et"===a?"America/New_York":"UTC"," (displayed)"))))),l&&t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"setting-label"},"Data Management"),t.createElement("div",{className:"setting-description"},"Manage cached data for the current symbol"),t.createElement("div",{className:"data-management"},t.createElement("div",{className:"current-symbol-info"},t.createElement("span",{className:"info-label"},"Current symbol:"),t.createElement("span",{className:"info-value symbol-highlight"},l)),t.createElement("button",{className:"refresh-data-button",onClick:function(){window.confirm("Refresh all data for ".concat(l,"? This will fetch the complete historical dataset from Yahoo Finance and may take a few moments."))&&(null==c||c(l))},title:"Refresh all data for ".concat(l," from Yahoo Finance")}," Refresh All Data for ",l),t.createElement("div",{className:"data-management-info"},t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"}," Action:"),t.createElement("span",{className:"info-value"},"Fetches complete historical data from Yahoo Finance")),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"}," Coverage:"),t.createElement("span",{className:"info-value"},"Updates all timeframes (1D, 1W, 1M, 1h, 30m, 15m, 5m) with latest data")),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"}," Duration:"),t.createElement("span",{className:"info-value"},"May take 30-60 seconds depending on data size")))))))};var kS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],ES=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],CS="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",OS={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},PS="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",jS={5:PS,"5module":PS+" export import",6:PS+" const class extends export import super"},_S=/^in(stanceof)?$/,TS=new RegExp("["+CS+"]"),AS=new RegExp("["+CS+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function DS(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}return!1}function MS(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&TS.test(String.fromCharCode(e)):!1!==t&&DS(e,ES)))}function NS(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&AS.test(String.fromCharCode(e)):!1!==t&&(DS(e,ES)||DS(e,kS)))))}var IS=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function LS(e,t){return new IS(e,{beforeExpr:!0,binop:t})}var RS={beforeExpr:!0},FS={startsExpr:!0},zS={};function VS(e,t){return void 0===t&&(t={}),t.keyword=e,zS[e]=new IS(e,t)}var BS={num:new IS("num",FS),regexp:new IS("regexp",FS),string:new IS("string",FS),name:new IS("name",FS),privateId:new IS("privateId",FS),eof:new IS("eof"),bracketL:new IS("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new IS("]"),braceL:new IS("{",{beforeExpr:!0,startsExpr:!0}),braceR:new IS("}"),parenL:new IS("(",{beforeExpr:!0,startsExpr:!0}),parenR:new IS(")"),comma:new IS(",",RS),semi:new IS(";",RS),colon:new IS(":",RS),dot:new IS("."),question:new IS("?",RS),questionDot:new IS("?."),arrow:new IS("=>",RS),template:new IS("template"),invalidTemplate:new IS("invalidTemplate"),ellipsis:new IS("...",RS),backQuote:new IS("`",FS),dollarBraceL:new IS("${",{beforeExpr:!0,startsExpr:!0}),eq:new IS("=",{beforeExpr:!0,isAssign:!0}),assign:new IS("_=",{beforeExpr:!0,isAssign:!0}),incDec:new IS("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new IS("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:LS("||",1),logicalAND:LS("&&",2),bitwiseOR:LS("|",3),bitwiseXOR:LS("^",4),bitwiseAND:LS("&",5),equality:LS("==/!=/===/!==",6),relational:LS("</>/<=/>=",7),bitShift:LS("<</>>/>>>",8),plusMin:new IS("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:LS("%",10),star:LS("*",10),slash:LS("/",10),starstar:new IS("**",{beforeExpr:!0}),coalesce:LS("??",1),_break:VS("break"),_case:VS("case",RS),_catch:VS("catch"),_continue:VS("continue"),_debugger:VS("debugger"),_default:VS("default",RS),_do:VS("do",{isLoop:!0,beforeExpr:!0}),_else:VS("else",RS),_finally:VS("finally"),_for:VS("for",{isLoop:!0}),_function:VS("function",FS),_if:VS("if"),_return:VS("return",RS),_switch:VS("switch"),_throw:VS("throw",RS),_try:VS("try"),_var:VS("var"),_const:VS("const"),_while:VS("while",{isLoop:!0}),_with:VS("with"),_new:VS("new",{beforeExpr:!0,startsExpr:!0}),_this:VS("this",FS),_super:VS("super",FS),_class:VS("class",FS),_extends:VS("extends",RS),_export:VS("export"),_import:VS("import",FS),_null:VS("null",FS),_true:VS("true",FS),_false:VS("false",FS),_in:VS("in",{beforeExpr:!0,binop:7}),_instanceof:VS("instanceof",{beforeExpr:!0,binop:7}),_typeof:VS("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:VS("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:VS("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},WS=/\r\n?|\n|\u2028|\u2029/,US=new RegExp(WS.source,"g");function HS(e){return 10===e||13===e||8232===e||8233===e}function YS(e,t,n){void 0===n&&(n=e.length);for(var r=t;r<n;r++){var o=e.charCodeAt(r);if(HS(o))return r<n-1&&13===o&&10===e.charCodeAt(r+1)?r+2:r+1}return-1}var XS=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,qS=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$S=Object.prototype,GS=$S.hasOwnProperty,QS=$S.toString,ZS=Object.hasOwn||function(e,t){return GS.call(e,t)},KS=Array.isArray||function(e){return"[object Array]"===QS.call(e)},JS=Object.create(null);function ek(e){return JS[e]||(JS[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function tk(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}var nk=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,rk=function(e,t){this.line=e,this.column=t};rk.prototype.offset=function(e){return new rk(this.line,this.column+e)};var ok=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function ik(e,t){for(var n=1,r=0;;){var o=YS(e,r,t);if(o<0)return new rk(n,t-r);++n,r=o}}var ak={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},sk=!1;function lk(e,t){return 2|(e?4:0)|(t?8:0)}var ck=function(e,t,n){this.options=e=function(e){var t={};for(var n in ak)t[n]=e&&ZS(e,n)?e[n]:ak[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!sk&&"object"==typeof console&&console.warn&&(sk=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),KS(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return KS(t.onComment)&&(t.onComment=function(e,t){return function(n,r,o,i,a,s){var l={type:n?"Block":"Line",value:r,start:o,end:i};e.locations&&(l.loc=new ok(this,a,s)),e.ranges&&(l.range=[o,i]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=ek(jS[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=OS[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=ek(r);var o=(r?r+" ":"")+OS.strict;this.reservedWordsStrict=ek(o),this.reservedWordsStrictBind=ek(o+" "+OS.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(WS).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=BS.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},uk={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ck.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},uk.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},uk.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},uk.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},uk.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t)return!1;if(2&t)return(4&t)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},uk.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},uk.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},uk.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},uk.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t||2&t&&!(16&t))return!0}return!1},uk.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},ck.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},ck.parse=function(e,t){return new this(t,e).parse()},ck.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},ck.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(ck.prototype,uk);var fk=ck.prototype,pk=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;fk.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){qS.lastIndex=e,e+=qS.exec(this.input)[0].length;var t=pk.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){qS.lastIndex=e+t[0].length;var n=qS.exec(this.input),r=n.index+n[0].length,o=this.input.charAt(r);return";"===o||"}"===o||WS.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||"!"===o&&"="===this.input.charAt(r+1))}e+=t[0].length,qS.lastIndex=e,e+=qS.exec(this.input)[0].length,";"===this.input[e]&&e++}},fk.eat=function(e){return this.type===e&&(this.next(),!0)},fk.isContextual=function(e){return this.type===BS.name&&this.value===e&&!this.containsEsc},fk.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},fk.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},fk.canInsertSemicolon=function(){return this.type===BS.eof||this.type===BS.braceR||WS.test(this.input.slice(this.lastTokEnd,this.start))},fk.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},fk.semicolon=function(){this.eat(BS.semi)||this.insertSemicolon()||this.unexpected()},fk.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},fk.expect=function(e){this.eat(e)||this.unexpected()},fk.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var dk=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};fk.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},fk.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},fk.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},fk.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var hk=ck.prototype;hk.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==BS.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,o=Object.keys(this.undefinedExports);r<o.length;r+=1){var i=o[r];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var yk={kind:"loop"},mk={kind:"switch"};hk.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;qS.lastIndex=this.pos;var t=qS.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r||92===r)return!0;if(e)return!1;if(123===r||r>55295&&r<56320)return!0;if(MS(r,!0)){for(var o=n+1;NS(r=this.input.charCodeAt(o),!0);)++o;if(92===r||r>55295&&r<56320)return!0;var i=this.input.slice(n,o);if(!_S.test(i))return!0}return!1},hk.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;qS.lastIndex=this.pos;var e,t=qS.exec(this.input),n=this.pos+t[0].length;return!(WS.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(NS(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},hk.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;qS.lastIndex=this.pos;var n=qS.exec(this.input),r=this.pos+n[0].length;if(WS.test(this.input.slice(this.pos,r)))return!1;if(e){var o,i=r+5;if("using"!==this.input.slice(r,i)||i===this.input.length||NS(o=this.input.charCodeAt(i))||o>55295&&o<56320)return!1;qS.lastIndex=i;var a=qS.exec(this.input);if(a&&WS.test(this.input.slice(i,i+a[0].length)))return!1}if(t){var s,l=r+2;if(!("of"!==this.input.slice(r,l)||l!==this.input.length&&(NS(s=this.input.charCodeAt(l))||s>55295&&s<56320)))return!1}var c=this.input.charCodeAt(r);return MS(c,!0)||92===c},hk.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},hk.isUsing=function(e){return this.isUsingKeyword(!1,e)},hk.parseStatement=function(e,t,n){var r,o=this.type,i=this.startNode();switch(this.isLet(e)&&(o=BS._var,r="let"),o){case BS._break:case BS._continue:return this.parseBreakContinueStatement(i,o.keyword);case BS._debugger:return this.parseDebuggerStatement(i);case BS._do:return this.parseDoStatement(i);case BS._for:return this.parseForStatement(i);case BS._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case BS._class:return e&&this.unexpected(),this.parseClass(i,!0);case BS._if:return this.parseIfStatement(i);case BS._return:return this.parseReturnStatement(i);case BS._switch:return this.parseSwitchStatement(i);case BS._throw:return this.parseThrowStatement(i);case BS._try:return this.parseTryStatement(i);case BS._const:case BS._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(i,r);case BS._while:return this.parseWhileStatement(i);case BS._with:return this.parseWithStatement(i);case BS.braceL:return this.parseBlock(!0,i);case BS.semi:return this.parseEmptyStatement(i);case BS._export:case BS._import:if(this.options.ecmaVersion>10&&o===BS._import){qS.lastIndex=this.pos;var a=qS.exec(this.input),s=this.pos+a[0].length,l=this.input.charCodeAt(s);if(40===l||46===l)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===BS._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var c=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(c)return t&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===c&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(i,!1,c),this.semicolon(),this.finishNode(i,"VariableDeclaration");var u=this.value,f=this.parseExpression();return o===BS.name&&"Identifier"===f.type&&this.eat(BS.colon)?this.parseLabeledStatement(i,u,f,e):this.parseExpressionStatement(i,f)}},hk.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(BS.semi)||this.insertSemicolon()?e.label=null:this.type!==BS.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var o=this.labels[r];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},hk.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},hk.parseDoStatement=function(e){return this.next(),this.labels.push(yk),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(BS._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(BS.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},hk.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(yk),this.enterScope(0),this.expect(BS.parenL),this.type===BS.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===BS._var||this.type===BS._const||n){var r=this.startNode(),o=n?"let":this.value;return this.next(),this.parseVar(r,!0,o),this.finishNode(r,"VariableDeclaration"),this.parseForAfterInit(e,r,t)}var i=this.isContextual("let"),a=!1,s=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(s){var l=this.startNode();return this.next(),"await using"===s&&this.next(),this.parseVar(l,!0,s),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var c=this.containsEsc,u=new dk,f=this.start,p=t>-1?this.parseExprSubscripts(u,"await"):this.parseExpression(!0,u);return this.type===BS._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===BS._in&&this.unexpected(t),e.await=!0):a&&this.options.ecmaVersion>=8&&(p.start!==f||c||"Identifier"!==p.type||"async"!==p.name?this.options.ecmaVersion>=9&&(e.await=!1):this.unexpected()),i&&a&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,u),this.checkLValPattern(p),this.parseForIn(e,p)):(this.checkExpressionErrors(u,!0),t>-1&&this.unexpected(t),this.parseFor(e,p))},hk.parseForAfterInit=function(e,t,n){return(this.type===BS._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===t.declarations.length?(this.options.ecmaVersion>=9&&(this.type===BS._in?n>-1&&this.unexpected(n):e.await=n>-1),this.parseForIn(e,t)):(n>-1&&this.unexpected(n),this.parseFor(e,t))},hk.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,vk|(n?0:bk),!1,t)},hk.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(BS._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},hk.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(BS.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},hk.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(BS.braceL),this.labels.push(mk),this.enterScope(0);for(var n=!1;this.type!==BS.braceR;)if(this.type===BS._case||this.type===BS._default){var r=this.type===BS._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(BS.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},hk.parseThrowStatement=function(e){return this.next(),WS.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var gk=[];hk.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(BS.parenR),e},hk.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===BS._catch){var t=this.startNode();this.next(),this.eat(BS.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(BS._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},hk.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},hk.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(yk),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},hk.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},hk.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},hk.parseLabeledStatement=function(e,t,n,r){for(var o=0,i=this.labels;o<i.length;o+=1)i[o].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===BS._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var l=this.labels[s];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},hk.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},hk.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(BS.braceL),e&&this.enterScope(0);this.type!==BS.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},hk.parseFor=function(e,t){return e.init=t,this.expect(BS.semi),e.test=this.type===BS.semi?null:this.parseExpression(),this.expect(BS.semi),e.update=this.type===BS.parenR?null:this.parseExpression(),this.expect(BS.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},hk.parseForIn=function(e,t){var n=this.type===BS._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(BS.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},hk.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var o=this.startNode();if(this.parseVarId(o,n),this.eat(BS.eq)?o.init=this.parseMaybeAssign(t):r||"const"!==n||this.type===BS._in||this.options.ecmaVersion>=6&&this.isContextual("of")?r||"using"!==n&&"await using"!==n||!(this.options.ecmaVersion>=17)||this.type===BS._in||this.isContextual("of")?r||"Identifier"===o.id.type||t&&(this.type===BS._in||this.isContextual("of"))?o.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):this.unexpected(),e.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(BS.comma))break}return e},hk.parseVarId=function(e,t){e.id="using"===t||"await using"===t?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var vk=1,bk=2;function xk(e,t){var n=t.key.name,r=e[n],o="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(o=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===o||"iset"===r&&"iget"===o||"sget"===r&&"sset"===o||"sset"===r&&"sget"===o?(e[n]="true",!1):!!r||(e[n]=o,!1)}function wk(e,t){var n=e.computed,r=e.key;return!n&&("Identifier"===r.type&&r.name===t||"Literal"===r.type&&r.value===t)}hk.parseFunction=function(e,t,n,r,o){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===BS.star&&t&bk&&this.unexpected(),e.generator=this.eat(BS.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&vk&&(e.id=4&t&&this.type!==BS.name?null:this.parseIdent(),!e.id||t&bk||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lk(e.async,e.generator)),t&vk||(e.id=this.type===BS.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,o),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(e,t&vk?"FunctionDeclaration":"FunctionExpression")},hk.parseFunctionParams=function(e){this.expect(BS.parenL),e.params=this.parseBindingList(BS.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},hk.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),o=this.startNode(),i=!1;for(o.body=[],this.expect(BS.braceL);this.type!==BS.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(o.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(i&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),i=!0):a.key&&"PrivateIdentifier"===a.key.type&&xk(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},hk.parseClassElement=function(e){if(this.eat(BS.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",o=!1,i=!1,a="method",s=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(BS.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===BS.star?s=!0:r="static"}if(n.static=s,!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==BS.star||this.canInsertSemicolon()?r="async":i=!0),!r&&(t>=9||!i)&&this.eat(BS.star)&&(o=!0),!r&&!i&&!o){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===BS.parenL||"method"!==a||o||i){var c=!n.static&&wk(n,"constructor"),u=c&&e;c&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=c?"constructor":a,this.parseClassMethod(n,o,i,u)}else this.parseClassField(n);return n},hk.isClassElementNameStart=function(){return this.type===BS.name||this.type===BS.privateId||this.type===BS.num||this.type===BS.string||this.type===BS.bracketL||this.type.keyword},hk.parseClassElementName=function(e){this.type===BS.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},hk.parseClassMethod=function(e,t,n,r){var o=e.key;"constructor"===e.kind?(t&&this.raise(o.start,"Constructor can't be a generator"),n&&this.raise(o.start,"Constructor can't be an async method")):e.static&&wk(e,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var i=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==i.params.length&&this.raiseRecoverable(i.start,"getter should have no params"),"set"===e.kind&&1!==i.params.length&&this.raiseRecoverable(i.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===i.params[0].type&&this.raiseRecoverable(i.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},hk.parseClassField=function(e){return wk(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&wk(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(BS.eq)?(this.enterScope(576),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},hk.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==BS.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},hk.parseClassId=function(e,t){this.type===BS.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},hk.parseClassSuper=function(e){e.superClass=this.eat(BS._extends)?this.parseExprSubscripts(null,!1):null},hk.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},hk.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,o=0===r?null:this.privateNameStack[r-1],i=0;i<n.length;++i){var a=n[i];ZS(t,a.name)||(o?o.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},hk.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==BS.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},hk.parseExport=function(e,t){if(this.next(),this.eat(BS.star))return this.parseExportAllDeclaration(e,t);if(this.eat(BS._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==BS.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var o=r[n];this.checkUnreserved(o.local),this.checkLocalExport(o.local),"Literal"===o.local.type&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},hk.parseExportDeclaration=function(e){return this.parseStatement(null)},hk.parseExportDefaultDeclaration=function(){var e;if(this.type===BS._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|vk,!1,e)}if(this.type===BS._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var r=this.parseMaybeAssign();return this.semicolon(),r},hk.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),ZS(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},hk.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var r=0,o=t.properties;r<o.length;r+=1){var i=o[r];this.checkPatternExport(e,i)}else if("ArrayPattern"===n)for(var a=0,s=t.elements;a<s.length;a+=1){var l=s[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},hk.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var o=r[n];this.checkPatternExport(e,o.id)}},hk.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},hk.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},hk.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(BS.braceL);!this.eat(BS.braceR);){if(n)n=!1;else if(this.expect(BS.comma),this.afterTrailingComma(BS.braceR))break;t.push(this.parseExportSpecifier(e))}return t},hk.parseImport=function(e){return this.next(),this.type===BS.string?(e.specifiers=gk,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===BS.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},hk.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},hk.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},hk.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},hk.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===BS.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(BS.comma)))return e;if(this.type===BS.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(BS.braceL);!this.eat(BS.braceR);){if(t)t=!1;else if(this.expect(BS.comma),this.afterTrailingComma(BS.braceR))break;e.push(this.parseImportSpecifier())}return e},hk.parseWithClause=function(){var e=[];if(!this.eat(BS._with))return e;this.expect(BS.braceL);for(var t={},n=!0;!this.eat(BS.braceR);){if(n)n=!1;else if(this.expect(BS.comma),this.afterTrailingComma(BS.braceR))break;var r=this.parseImportAttribute(),o="Identifier"===r.key.type?r.key.name:r.key.value;ZS(t,o)&&this.raiseRecoverable(r.key.start,"Duplicate attribute key '"+o+"'"),t[o]=!0,e.push(r)}return e},hk.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===BS.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(BS.colon),this.type!==BS.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},hk.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===BS.string){var e=this.parseLiteral(this.value);return nk.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},hk.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},hk.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Sk=ck.prototype;Sk.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];this.toAssignable(i,t),"RestElement"!==i.type||"ArrayPattern"!==i.argument.type&&"ObjectPattern"!==i.argument.type||this.raise(i.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Sk.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var o=e[r];o&&this.toAssignable(o,t)}if(n){var i=e[n-1];6===this.options.ecmaVersion&&t&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}return e},Sk.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Sk.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==BS.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Sk.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case BS.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(BS.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case BS.braceL:return this.parseObj(!0)}return this.parseIdent()},Sk.parseBindingList=function(e,t,n,r){for(var o=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(BS.comma),t&&this.type===BS.comma)o.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===BS.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),o.push(a),this.type===BS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}o.push(this.parseAssignableListItem(r))}return o},Sk.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},Sk.parseBindingListItem=function(e){return e},Sk.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(BS.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},Sk.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(ZS(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},Sk.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];this.checkLValInnerPattern(i,t,n)}break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var l=s[a];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}},Sk.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var kk=function(e,t,n,r,o){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!o},Ek={b_stat:new kk("{",!1),b_expr:new kk("{",!0),b_tmpl:new kk("${",!1),p_stat:new kk("(",!1),p_expr:new kk("(",!0),q_tmpl:new kk("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new kk("function",!1),f_expr:new kk("function",!0),f_expr_gen:new kk("function",!0,!1,null,!0),f_gen:new kk("function",!1,!1,null,!0)},Ck=ck.prototype;Ck.initialContext=function(){return[Ek.b_stat]},Ck.curContext=function(){return this.context[this.context.length-1]},Ck.braceIsBlock=function(e){var t=this.curContext();return t===Ek.f_expr||t===Ek.f_stat||(e!==BS.colon||t!==Ek.b_stat&&t!==Ek.b_expr?e===BS._return||e===BS.name&&this.exprAllowed?WS.test(this.input.slice(this.lastTokEnd,this.start)):e===BS._else||e===BS.semi||e===BS.eof||e===BS.parenR||e===BS.arrow||(e===BS.braceL?t===Ek.b_stat:e!==BS._var&&e!==BS._const&&e!==BS.name&&!this.exprAllowed):!t.isExpr)},Ck.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},Ck.updateContext=function(e){var t,n=this.type;n.keyword&&e===BS.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},Ck.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},BS.parenR.updateContext=BS.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Ek.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},BS.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Ek.b_stat:Ek.b_expr),this.exprAllowed=!0},BS.dollarBraceL.updateContext=function(){this.context.push(Ek.b_tmpl),this.exprAllowed=!0},BS.parenL.updateContext=function(e){var t=e===BS._if||e===BS._for||e===BS._with||e===BS._while;this.context.push(t?Ek.p_stat:Ek.p_expr),this.exprAllowed=!0},BS.incDec.updateContext=function(){},BS._function.updateContext=BS._class.updateContext=function(e){!e.beforeExpr||e===BS._else||e===BS.semi&&this.curContext()!==Ek.p_stat||e===BS._return&&WS.test(this.input.slice(this.lastTokEnd,this.start))||(e===BS.colon||e===BS.braceL)&&this.curContext()===Ek.b_stat?this.context.push(Ek.f_stat):this.context.push(Ek.f_expr),this.exprAllowed=!1},BS.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},BS.backQuote.updateContext=function(){this.curContext()===Ek.q_tmpl?this.context.pop():this.context.push(Ek.q_tmpl),this.exprAllowed=!1},BS.star.updateContext=function(e){if(e===BS._function){var t=this.context.length-1;this.context[t]===Ek.f_expr?this.context[t]=Ek.f_expr_gen:this.context[t]=Ek.f_gen}this.exprAllowed=!0},BS.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==BS.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Ok=ck.prototype;function Pk(e){return"Identifier"===e.type||"ParenthesizedExpression"===e.type&&Pk(e.expression)}function jk(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&jk(e.expression)||"ParenthesizedExpression"===e.type&&jk(e.expression)}Ok.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,o=e.key;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var i=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===i&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[r="$"+r];a?("init"===i?this.strict&&a.init||a.get||a.set:a.init||a[i])&&this.raiseRecoverable(o.start,"Redefinition of property"):a=t[r]={init:!1,get:!1,set:!1},a[i]=!0}}},Ok.parseExpression=function(e,t){var n=this.start,r=this.startLoc,o=this.parseMaybeAssign(e,t);if(this.type===BS.comma){var i=this.startNodeAt(n,r);for(i.expressions=[o];this.eat(BS.comma);)i.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(i,"SequenceExpression")}return o},Ok.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,o=-1,i=-1,a=-1;t?(o=t.parenthesizedAssign,i=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new dk,r=!0);var s=this.start,l=this.startLoc;this.type!==BS.parenL&&this.type!==BS.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var c=this.parseMaybeConditional(e,t);if(n&&(c=n.call(this,c,s,l)),this.type.isAssign){var u=this.startNodeAt(s,l);return u.operator=this.value,this.type===BS.eq&&(c=this.toAssignable(c,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.start&&(t.shorthandAssign=-1),this.type===BS.eq?this.checkLValPattern(c):this.checkLValSimple(c),u.left=c,this.next(),u.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),o>-1&&(t.parenthesizedAssign=o),i>-1&&(t.trailingComma=i),c},Ok.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,o=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return o;if(this.eat(BS.question)){var i=this.startNodeAt(n,r);return i.test=o,i.consequent=this.parseMaybeAssign(),this.expect(BS.colon),i.alternate=this.parseMaybeAssign(e),this.finishNode(i,"ConditionalExpression")}return o},Ok.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,o=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||o.start===n&&"ArrowFunctionExpression"===o.type?o:this.parseExprOp(o,n,r,-1,e)},Ok.parseExprOp=function(e,t,n,r,o){var i=this.type.binop;if(null!=i&&(!o||this.type!==BS._in)&&i>r){var a=this.type===BS.logicalOR||this.type===BS.logicalAND,s=this.type===BS.coalesce;s&&(i=BS.logicalAND.binop);var l=this.value;this.next();var c=this.start,u=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),c,u,i,o),p=this.buildBinary(t,n,e,f,l,a||s);return(a&&this.type===BS.coalesce||s&&(this.type===BS.logicalOR||this.type===BS.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,o)}return e},Ok.buildBinary=function(e,t,n,r,o,i){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=n,a.operator=o,a.right=r,this.finishNode(a,i?"LogicalExpression":"BinaryExpression")},Ok.parseMaybeUnary=function(e,t,n,r){var o,i=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var s=this.startNode(),l=this.type===BS.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(s.argument):this.strict&&"delete"===s.operator&&Pk(s.argument)?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):"delete"===s.operator&&jk(s.argument)?this.raiseRecoverable(s.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(s,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==BS.privateId){if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(i,a);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==BS._in&&this.unexpected();return n||!this.eat(BS.starstar)?o:t?void this.unexpected(this.lastTokStart):this.buildBinary(i,a,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},Ok.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,o=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===o.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return o;var i=this.parseSubscripts(o,n,r,!1,t);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1),e.trailingComma>=i.start&&(e.trailingComma=-1)),i},Ok.parseSubscripts=function(e,t,n,r,o){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,a=!1;;){var s=this.parseSubscript(e,t,n,r,i,a,o);if(s.optional&&(a=!0),s===e||"ArrowFunctionExpression"===s.type){if(a){var l=this.startNodeAt(t,n);l.expression=s,s=this.finishNode(l,"ChainExpression")}return s}e=s}},Ok.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(BS.arrow)},Ok.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)},Ok.parseSubscript=function(e,t,n,r,o,i,a){var s=this.options.ecmaVersion>=11,l=s&&this.eat(BS.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(BS.bracketL);if(c||l&&this.type!==BS.parenL&&this.type!==BS.backQuote||this.eat(BS.dot)){var u=this.startNodeAt(t,n);u.object=e,c?(u.property=this.parseExpression(),this.expect(BS.bracketR)):this.type===BS.privateId&&"Super"!==e.type?u.property=this.parsePrivateIdent():u.property=this.parseIdent("never"!==this.options.allowReserved),u.computed=!!c,s&&(u.optional=l),e=this.finishNode(u,"MemberExpression")}else if(!r&&this.eat(BS.parenL)){var f=new dk,p=this.yieldPos,d=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(BS.parenR,this.options.ecmaVersion>=8,!1,f);if(o&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=d,this.awaitIdentPos=h,this.parseSubscriptAsyncArrow(t,n,y,a);this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var m=this.startNodeAt(t,n);m.callee=e,m.arguments=y,s&&(m.optional=l),e=this.finishNode(m,"CallExpression")}else if(this.type===BS.backQuote){(l||i)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e},Ok.parseExprAtom=function(e,t,n){this.type===BS.slash&&this.readRegexp();var r,o=this.potentialArrowAt===this.start;switch(this.type){case BS._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type!==BS.parenL||this.allowDirectSuper||this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==BS.dot&&this.type!==BS.bracketL&&this.type!==BS.parenL&&this.unexpected(),this.finishNode(r,"Super");case BS._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case BS.name:var i=this.start,a=this.startLoc,s=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(BS._function))return this.overrideContext(Ek.f_expr),this.parseFunction(this.startNodeAt(i,a),0,!1,!0,t);if(o&&!this.canInsertSemicolon()){if(this.eat(BS.arrow))return this.parseArrowExpression(this.startNodeAt(i,a),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===BS.name&&!s&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(BS.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,a),[l],!0,t)}return l;case BS.regexp:var c=this.value;return(r=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},r;case BS.num:case BS.string:return this.parseLiteral(this.value);case BS._null:case BS._true:case BS._false:return(r=this.startNode()).value=this.type===BS._null?null:this.type===BS._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case BS.parenL:var u=this.start,f=this.parseParenAndDistinguishExpression(o,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),f;case BS.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(BS.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case BS.braceL:return this.overrideContext(Ek.b_expr),this.parseObj(!1,e);case BS._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case BS._class:return this.parseClass(this.startNode(),!1);case BS._new:return this.parseNew();case BS.backQuote:return this.parseTemplate();case BS._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},Ok.parseExprAtomDefault=function(){this.unexpected()},Ok.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===BS.parenL&&!e)return this.parseDynamicImport(t);if(this.type===BS.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},Ok.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(BS.parenR)?e.options=null:(this.expect(BS.comma),this.afterTrailingComma(BS.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(BS.parenR)||(this.expect(BS.comma),this.afterTrailingComma(BS.parenR)||this.unexpected())));else if(!this.eat(BS.parenR)){var t=this.start;this.eat(BS.comma)&&this.eat(BS.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Ok.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Ok.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=null!=t.value?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Ok.parseParenExpression=function(){this.expect(BS.parenL);var e=this.parseExpression();return this.expect(BS.parenR),e},Ok.shouldParseArrow=function(e){return!this.canInsertSemicolon()},Ok.parseParenAndDistinguishExpression=function(e,t){var n,r=this.start,o=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,s=this.start,l=this.startLoc,c=[],u=!0,f=!1,p=new dk,d=this.yieldPos,h=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==BS.parenR;){if(u?u=!1:this.expect(BS.comma),i&&this.afterTrailingComma(BS.parenR,!0)){f=!0;break}if(this.type===BS.ellipsis){a=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===BS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var y=this.lastTokEnd,m=this.lastTokEndLoc;if(this.expect(BS.parenR),e&&this.shouldParseArrow(c)&&this.eat(BS.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(r,o,c,t);c.length&&!f||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,c.length>1?((n=this.startNodeAt(s,l)).expressions=c,this.finishNodeAt(n,"SequenceExpression",y,m)):n=c[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(r,o);return g.expression=n,this.finishNode(g,"ParenthesizedExpression")}return n},Ok.parseParenItem=function(e){return e},Ok.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var _k=[];Ok.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===BS.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,o=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,o,!0,!1),this.eat(BS.parenL)?e.arguments=this.parseExprList(BS.parenR,this.options.ecmaVersion>=8,!1):e.arguments=_k,this.finishNode(e,"NewExpression")},Ok.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===BS.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===BS.backQuote,this.finishNode(n,"TemplateElement")},Ok.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===BS.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(BS.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(BS.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Ok.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===BS.name||this.type===BS.num||this.type===BS.string||this.type===BS.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===BS.star)&&!WS.test(this.input.slice(this.lastTokEnd,this.start))},Ok.parseObj=function(e,t){var n=this.startNode(),r=!0,o={};for(n.properties=[],this.next();!this.eat(BS.braceR);){if(r)r=!1;else if(this.expect(BS.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(BS.braceR))break;var i=this.parseProperty(e,t);e||this.checkPropClash(i,o,t),n.properties.push(i)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Ok.parseProperty=function(e,t){var n,r,o,i,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(BS.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===BS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,t),this.type===BS.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(o=this.start,i=this.startLoc),e||(n=this.eat(BS.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(BS.star),this.parsePropertyName(a)):r=!1,this.parsePropertyValue(a,e,n,r,o,i,t,s),this.finishNode(a,"Property")},Ok.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var n="get"===e.kind?0:1;if(e.value.params.length!==n){var r=e.value.start;"get"===e.kind?this.raiseRecoverable(r,"getter should have no params"):this.raiseRecoverable(r,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Ok.parsePropertyValue=function(e,t,n,r,o,i,a,s){(n||r)&&this.type===BS.colon&&this.unexpected(),this.eat(BS.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init"):this.options.ecmaVersion>=6&&this.type===BS.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(n,r),e.kind="init"):t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===BS.comma||this.type===BS.braceR||this.type===BS.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=o),t?e.value=this.parseMaybeDefault(o,i,this.copyNode(e.key)):this.type===BS.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(o,i,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected():((n||r)&&this.unexpected(),this.parseGetterSetter(e))},Ok.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(BS.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(BS.bracketR),e.key;e.computed=!1}return e.key=this.type===BS.num||this.type===BS.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Ok.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Ok.parseMethod=function(e,t,n){var r=this.startNode(),o=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|lk(t,r.generator)|(n?128:0)),this.expect(BS.parenL),r.params=this.parseBindingList(BS.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=o,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},Ok.parseArrowExpression=function(e,t,n,r){var o=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|lk(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=o,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},Ok.parseFunctionBody=function(e,t,n,r){var o=t&&this.type!==BS.braceL,i=this.strict,a=!1;if(o)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!s||(a=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!i&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},Ok.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},Ok.checkParams=function(e,t){for(var n=Object.create(null),r=0,o=e.params;r<o.length;r+=1){var i=o[r];this.checkLValInnerPattern(i,1,t?null:n)}},Ok.parseExprList=function(e,t,n,r){for(var o=[],i=!0;!this.eat(e);){if(i)i=!1;else if(this.expect(BS.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===BS.comma?a=null:this.type===BS.ellipsis?(a=this.parseSpread(r),r&&this.type===BS.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),o.push(a)}return o},Ok.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),259&this.currentThisScope().flags||"arguments"!==r||this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},Ok.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Ok.parseIdentNode=function(){var e=this.startNode();return this.type===BS.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,"class"!==e.name&&"function"!==e.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=BS.name):this.unexpected(),e},Ok.parsePrivateIdent=function(){var e=this.startNode();return this.type===BS.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},Ok.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===BS.semi||this.canInsertSemicolon()||this.type!==BS.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(BS.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Ok.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Tk=ck.prototype;Tk.raise=function(e,t){var n=ik(this.input,e);t+=" ("+n.line+":"+n.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},Tk.raiseRecoverable=Tk.raise,Tk.curPosition=function(){if(this.options.locations)return new rk(this.curLine,this.pos-this.lineStart)};var Ak=ck.prototype,Dk=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};Ak.enterScope=function(e){this.scopeStack.push(new Dk(e))},Ak.exitScope=function(){this.scopeStack.pop()},Ak.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Ak.declareName=function(e,t,n){var r=!1;if(2===t){var o=this.currentScope();r=o.lexical.indexOf(e)>-1||o.functions.indexOf(e)>-1||o.var.indexOf(e)>-1,o.lexical.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var i=this.currentScope();r=this.treatFunctionsAsVar?i.lexical.indexOf(e)>-1:i.lexical.indexOf(e)>-1||i.var.indexOf(e)>-1,i.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var s=this.scopeStack[a];if(s.lexical.indexOf(e)>-1&&!(32&s.flags&&s.lexical[0]===e)||!this.treatFunctionsAsVarInScope(s)&&s.functions.indexOf(e)>-1){r=!0;break}if(s.var.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e],259&s.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Ak.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Ak.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Ak.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags)return t}},Ak.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags&&!(16&t.flags))return t}};var Mk=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new ok(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Nk=ck.prototype;function Ik(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}Nk.startNode=function(){return new Mk(this,this.start,this.startLoc)},Nk.startNodeAt=function(e,t){return new Mk(this,e,t)},Nk.finishNode=function(e,t){return Ik.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Nk.finishNodeAt=function(e,t,n,r){return Ik.call(this,e,t,n,r)},Nk.copyNode=function(e){var t=new Mk(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Lk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Rk=Lk+" Extended_Pictographic",Fk=Rk+" EBase EComp EMod EPres ExtPict",zk={9:Lk,10:Rk,11:Rk,12:Fk,13:Fk,14:Fk},Vk={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},Bk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Wk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Uk=Wk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Hk=Uk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Yk=Hk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Xk=Yk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",qk={9:Wk,10:Uk,11:Hk,12:Yk,13:Xk,14:Xk+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},$k={};function Gk(e){var t=$k[e]={binary:ek(zk[e]+" "+Bk),binaryOfStrings:ek(Vk[e]),nonBinary:{General_Category:ek(Bk),Script:ek(qk[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Qk=0,Zk=[9,10,11,12,13,14];Qk<Zk.length;Qk+=1)Gk(Zk[Qk]);var Kk=ck.prototype,Jk=function(e,t){this.parent=e,this.base=t||this};Jk.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var n=e;n;n=n.parent)if(t.base===n.base&&t!==n)return!0;return!1},Jk.prototype.sibling=function(){return new Jk(this.parent,this.base)};var eE=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=$k[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function tE(e){return 105===e||109===e||115===e}function nE(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function rE(e){return e>=65&&e<=90||e>=97&&e<=122}function oE(e){return rE(e)||95===e}function iE(e){return oE(e)||aE(e)}function aE(e){return e>=48&&e<=57}function sE(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function lE(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function cE(e){return e>=48&&e<=55}eE.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("v"),o=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)},eE.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},eE.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var o=n.charCodeAt(e);if(!t&&!this.switchU||o<=55295||o>=57344||e+1>=r)return o;var i=n.charCodeAt(e+1);return i>=56320&&i<=57343?(o<<10)+i-56613888:o},eE.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var o,i=n.charCodeAt(e);return!t&&!this.switchU||i<=55295||i>=57344||e+1>=r||(o=n.charCodeAt(e+1))<56320||o>57343?e+1:e+2},eE.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},eE.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},eE.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},eE.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},eE.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,r=0,o=e;r<o.length;r+=1){var i=o[r],a=this.at(n,t);if(-1===a||a!==i)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},Kk.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,o=!1,i=0;i<n.length;i++){var a=n.charAt(i);-1===t.indexOf(a)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(a,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===a&&(r=!0),"v"===a&&(o=!0)}this.options.ecmaVersion>=15&&r&&o&&this.raise(e.start,"Invalid regular expression flag")},Kk.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&function(e){for(var t in e)return!0;return!1}(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},Kk.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames[r]||e.raise("Invalid named capture referenced")}},Kk.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new Jk(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Kk.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Kk.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Kk.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Kk.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Kk.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Kk.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,o=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(o=e.lastIntValue),e.eat(125)))return-1!==o&&o<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Kk.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Kk.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Kk.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),r=e.eat(45);if(n||r){for(var o=0;o<n.length;o++){var i=n.charAt(o);n.indexOf(i,o+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(r){var a=this.regexp_eatModifiers(e);n||a||58!==e.current()||e.raise("Invalid regular expression modifiers");for(var s=0;s<a.length;s++){var l=a.charAt(s);(a.indexOf(l,s+1)>-1||n.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},Kk.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Kk.regexp_eatModifiers=function(e){for(var t="",n=0;-1!==(n=e.current())&&tE(n);)t+=tk(n),e.advance();return t},Kk.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Kk.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Kk.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!nE(t)&&(e.lastIntValue=t,e.advance(),!0)},Kk.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!nE(n);)e.advance();return e.pos!==t},Kk.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},Kk.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var r=0,o=n;r<o.length;r+=1)o[r].separatedFrom(e.branchID)||e.raise("Duplicate capture group name");else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},Kk.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Kk.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=tk(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=tk(e.lastIntValue);return!0}return!1},Kk.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return MS(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Kk.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return NS(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Kk.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Kk.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Kk.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Kk.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Kk.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Kk.regexp_eatZero=function(e){return 48===e.current()&&!aE(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Kk.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Kk.regexp_eatControlLetter=function(e){var t=e.current();return!!rE(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Kk.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,r=e.pos,o=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(o&&i>=55296&&i<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(i-55296)+(s-56320)+65536,!0}e.pos=a,e.lastIntValue=i}return!0}if(o&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(n=e.lastIntValue)>=0&&n<=1114111)return!0;o&&e.raise("Invalid unicode escape"),e.pos=r}return!1},Kk.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},Kk.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Kk.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===t)||112===t)){var r;if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===r&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return 0},Kk.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var o=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,o)}return 0},Kk.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){ZS(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Kk.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},Kk.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";oE(t=e.current());)e.lastStringValue+=tk(t),e.advance();return""!==e.lastStringValue},Kk.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";iE(t=e.current());)e.lastStringValue+=tk(t),e.advance();return""!==e.lastStringValue},Kk.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Kk.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},Kk.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},Kk.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Kk.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||cE(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Kk.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Kk.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var r=e.pos;e.eatChars([38,38]);)38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))?2!==t&&(n=1):e.raise("Invalid character in character class");if(r!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},Kk.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return-1!==n&&-1!==r&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},Kk.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},Kk.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&2===r&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var o=this.regexp_eatCharacterClassEscape(e);if(o)return o;e.pos=t}return null},Kk.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},Kk.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},Kk.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},Kk.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!(!this.regexp_eatCharacterEscape(e)&&!this.regexp_eatClassSetReservedPunctuator(e)&&(e.eat(98)?(e.lastIntValue=8,0):(e.pos=t,1)));var n=e.current();return!(n<0||n===e.lookahead()&&function(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}(n)||function(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}(n)||(e.advance(),e.lastIntValue=n,0))},Kk.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!function(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}(t)&&(e.lastIntValue=t,e.advance(),!0)},Kk.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!aE(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},Kk.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Kk.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;aE(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Kk.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;sE(n=e.current());)e.lastIntValue=16*e.lastIntValue+lE(n),e.advance();return e.pos!==t},Kk.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},Kk.regexp_eatOctalDigit=function(e){var t=e.current();return cE(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Kk.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var o=e.current();if(!sE(o))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+lE(o),e.advance()}return!0};var uE=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new ok(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},fE=ck.prototype;function pE(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}fE.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new uE(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},fE.getToken=function(){return this.next(),new uE(this)},"undefined"!=typeof Symbol&&(fE[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===BS.eof,value:t}}}}),fE.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(BS.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},fE.readToken=function(e){return MS(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},fE.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},fE.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,o=t;(r=YS(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},fE.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!HS(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},fE.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&XS.test(String.fromCharCode(e))))break e;++this.pos}}},fE.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},fE.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(BS.ellipsis)):(++this.pos,this.finishToken(BS.dot))},fE.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(BS.assign,2):this.finishOp(BS.slash,1)},fE.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?BS.star:BS.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=BS.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(BS.assign,n+1):this.finishOp(r,n)},fE.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(BS.assign,3):this.finishOp(124===e?BS.logicalOR:BS.logicalAND,2):61===t?this.finishOp(BS.assign,2):this.finishOp(124===e?BS.bitwiseOR:BS.bitwiseAND,1)},fE.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(BS.assign,2):this.finishOp(BS.bitwiseXOR,1)},fE.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!WS.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(BS.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(BS.assign,2):this.finishOp(BS.plusMin,1)},fE.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(BS.assign,n+1):this.finishOp(BS.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(BS.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},fE.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(BS.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(BS.arrow)):this.finishOp(61===e?BS.eq:BS.prefix,1)},fE.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(BS.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(BS.assign,3):this.finishOp(BS.coalesce,2)}return this.finishOp(BS.question,1)},fE.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,MS(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(BS.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+tk(e)+"'")},fE.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(BS.parenL);case 41:return++this.pos,this.finishToken(BS.parenR);case 59:return++this.pos,this.finishToken(BS.semi);case 44:return++this.pos,this.finishToken(BS.comma);case 91:return++this.pos,this.finishToken(BS.bracketL);case 93:return++this.pos,this.finishToken(BS.bracketR);case 123:return++this.pos,this.finishToken(BS.braceL);case 125:return++this.pos,this.finishToken(BS.braceR);case 58:return++this.pos,this.finishToken(BS.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(BS.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(BS.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+tk(e)+"'")},fE.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},fE.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(WS.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var o=this.input.slice(n,this.pos);++this.pos;var i=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(i);var s=this.regexpState||(this.regexpState=new eE(this));s.reset(n,o,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(o,a)}catch(e){}return this.finishToken(BS.regexp,{pattern:o,flags:a,value:l})},fE.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,o=n&&48===this.input.charCodeAt(this.pos),i=this.pos,a=0,s=0,l=0,c=null==t?1/0:t;l<c;++l,++this.pos){var u=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===u)o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=u;else{if((f=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;s=u,a=a*e+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||null!=t&&this.pos-i!==t?null:a},fE.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=pE(this.input.slice(t,this.pos)),++this.pos):MS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(BS.num,n)},fE.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var o=pE(this.input.slice(t,this.pos));return++this.pos,MS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(BS.num,o)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),MS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i,a=(i=this.input.slice(t,this.pos),n?parseInt(i,8):parseFloat(i.replace(/_/g,"")));return this.finishToken(BS.num,a)},fE.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},fE.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(HS(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(BS.string,t)};var dE={};function hE(e,t,n,r,o){n||(n=vE),function e(r,o,i){var a=i||r.type;n[a](r,o,e),t[a]&&t[a](r,o)}(e,r,o)}function yE(e,t,n,r,o){var i=n?function(e,t){var n=Object.create(t||vE);for(var r in e)n[r]=e[r];return n}(n,r||void 0):r;!function e(t,n,r){i[r||t.type](t,n,e)}(e,t,o)}function mE(e,t,n){n(e,t)}function gE(e,t,n){}fE.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==dE)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},fE.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw dE;this.raise(e,t)},fE.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==BS.template&&this.type!==BS.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(BS.template,e)):36===n?(this.pos+=2,this.finishToken(BS.dollarBraceL)):(++this.pos,this.finishToken(BS.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(HS(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},fE.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(BS.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},fE.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return tk(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(r,8);return o>255&&(r=r.slice(0,-1),o=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return HS(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},fE.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},fE.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(NS(o,r))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var i=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?MS:NS)(a,r)||this.invalidStringToken(i,"Invalid Unicode escape"),e+=tk(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},fE.readWord=function(){var e=this.readWord1(),t=BS.name;return this.keywords.test(e)&&(t=zS[e]),this.finishToken(t,e)},ck.acorn={Parser:ck,version:"8.15.0",defaultOptions:ak,Position:rk,SourceLocation:ok,getLineInfo:ik,Node:Mk,TokenType:IS,tokTypes:BS,keywordTypes:zS,TokContext:kk,tokContexts:Ek,isIdentifierChar:NS,isIdentifierStart:MS,Token:uE,isNewLine:HS,lineBreak:WS,lineBreakG:US,nonASCIIwhitespace:XS};var vE={};vE.Program=vE.BlockStatement=vE.StaticBlock=function(e,t,n){for(var r=0,o=e.body;r<o.length;r+=1)n(o[r],t,"Statement")},vE.Statement=mE,vE.EmptyStatement=gE,vE.ExpressionStatement=vE.ParenthesizedExpression=vE.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},vE.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},vE.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},vE.BreakStatement=vE.ContinueStatement=gE,vE.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},vE.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var r=0,o=e.cases;r<o.length;r+=1)n(o[r],t)},vE.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var r=0,o=e.consequent;r<o.length;r+=1)n(o[r],t,"Statement")},vE.ReturnStatement=vE.YieldExpression=vE.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},vE.ThrowStatement=vE.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},vE.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},vE.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},vE.WhileStatement=vE.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},vE.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},vE.ForInStatement=vE.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},vE.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},vE.DebuggerStatement=gE,vE.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},vE.VariableDeclaration=function(e,t,n){for(var r=0,o=e.declarations;r<o.length;r+=1)n(o[r],t)},vE.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},vE.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var r=0,o=e.params;r<o.length;r+=1)n(o[r],t,"Pattern");n(e.body,t,e.expression?"Expression":"Statement")},vE.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},vE.VariablePattern=gE,vE.MemberPattern=mE,vE.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},vE.ArrayPattern=function(e,t,n){for(var r=0,o=e.elements;r<o.length;r+=1){var i=o[r];i&&n(i,t,"Pattern")}},vE.ObjectPattern=function(e,t,n){for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];"Property"===i.type?(i.computed&&n(i.key,t,"Expression"),n(i.value,t,"Pattern")):"RestElement"===i.type&&n(i.argument,t,"Pattern")}},vE.Expression=mE,vE.ThisExpression=vE.Super=vE.MetaProperty=gE,vE.ArrayExpression=function(e,t,n){for(var r=0,o=e.elements;r<o.length;r+=1){var i=o[r];i&&n(i,t,"Expression")}},vE.ObjectExpression=function(e,t,n){for(var r=0,o=e.properties;r<o.length;r+=1)n(o[r],t)},vE.FunctionExpression=vE.ArrowFunctionExpression=vE.FunctionDeclaration,vE.SequenceExpression=function(e,t,n){for(var r=0,o=e.expressions;r<o.length;r+=1)n(o[r],t,"Expression")},vE.TemplateLiteral=function(e,t,n){for(var r=0,o=e.quasis;r<o.length;r+=1)n(o[r],t);for(var i=0,a=e.expressions;i<a.length;i+=1)n(a[i],t,"Expression")},vE.TemplateElement=gE,vE.UnaryExpression=vE.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},vE.BinaryExpression=vE.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},vE.AssignmentExpression=vE.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},vE.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},vE.NewExpression=vE.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var r=0,o=e.arguments;r<o.length;r+=1)n(o[r],t,"Expression")},vE.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},vE.ExportNamedDeclaration=vE.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},vE.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},vE.ImportDeclaration=function(e,t,n){for(var r=0,o=e.specifiers;r<o.length;r+=1)n(o[r],t);n(e.source,t,"Expression")},vE.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},vE.ImportSpecifier=vE.ImportDefaultSpecifier=vE.ImportNamespaceSpecifier=vE.Identifier=vE.PrivateIdentifier=vE.Literal=gE,vE.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},vE.ClassDeclaration=vE.ClassExpression=function(e,t,n){return n(e,t,"Class")},vE.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},vE.ClassBody=function(e,t,n){for(var r=0,o=e.body;r<o.length;r+=1)n(o[r],t)},vE.MethodDefinition=vE.PropertyDefinition=vE.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")};const{stringify:bE}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const xE={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},wE=17,SE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:wE,ClassExpression:wE,FunctionExpression:wE,ObjectExpression:wE,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function kE(e,t){const{generator:n}=e;if(e.write("("),null!=t&&t.length>0){n[t[0].type](t[0],e);const{length:r}=t;for(let o=1;o<r;o++){const r=t[o];e.write(", "),n[r.type](r,e)}}e.write(")")}function EE(e,t,n,r){const o=e.expressionsPrecedence[t.type];if(o===wE)return!0;const i=e.expressionsPrecedence[n.type];return o!==i?!r&&15===o&&14===i&&"**"===n.operator||o<i:(13===o||14===o)&&("**"===t.operator&&"**"===n.operator?!r:13===o&&13===i&&("??"===t.operator||"??"===n.operator)||(r?xE[t.operator]<=xE[n.operator]:xE[t.operator]<xE[n.operator]))}function CE(e,t,n,r){const{generator:o}=e;EE(e,t,n,r)?(e.write("("),o[t.type](t,e),e.write(")")):o[t.type](t,e)}function OE(e,t,n,r){const o=t.split("\n"),i=o.length-1;if(e.write(o[0].trim()),i>0){e.write(r);for(let t=1;t<i;t++)e.write(n+o[t].trim()+r);e.write(n+o[i].trim())}}function PE(e,t,n,r){const{length:o}=t;for(let i=0;i<o;i++){const o=t[i];e.write(n),"L"===o.type[0]?e.write("// "+o.value.trim()+"\n",o):(e.write("/*"),OE(e,o.value,n,r),e.write("*/"+r))}}function jE(e,t){const{generator:n}=e,{declarations:r}=t;e.write(t.kind+" ");const{length:o}=r;if(o>0){n.VariableDeclarator(r[0],e);for(let t=1;t<o;t++)e.write(", "),n.VariableDeclarator(r[t],e)}}let _E,TE,AE,DE,ME,NE;const IE={Program(e,t){const n=t.indent.repeat(t.indentLevel),{lineEnd:r,writeComments:o}=t;o&&null!=e.comments&&PE(t,e.comments,n,r);const i=e.body,{length:a}=i;for(let e=0;e<a;e++){const a=i[e];o&&null!=a.comments&&PE(t,a.comments,n,r),t.write(n),this[a.type](a,t),t.write(r)}o&&null!=e.trailingComments&&PE(t,e.trailingComments,n,r)},BlockStatement:NE=function(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t,i=n+t.indent;t.write("{");const a=e.body;if(null!=a&&a.length>0){t.write(r),o&&null!=e.comments&&PE(t,e.comments,i,r);const{length:s}=a;for(let e=0;e<s;e++){const n=a[e];o&&null!=n.comments&&PE(t,n.comments,i,r),t.write(i),this[n.type](n,t),t.write(r)}t.write(n)}else o&&null!=e.comments&&(t.write(r),PE(t,e.comments,i,r),t.write(n));o&&null!=e.trailingComments&&PE(t,e.trailingComments,i,r),t.write("}"),t.indentLevel--},ClassBody:NE,StaticBlock(e,t){t.write("static "),this.BlockStatement(e,t)},EmptyStatement(e,t){t.write(";")},ExpressionStatement(e,t){const n=t.expressionsPrecedence[e.expression.type];n===wE||3===n&&"O"===e.expression.left.type[0]?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),null!=e.alternate&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement(e,t){t.write("break"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement(e,t){t.write("continue"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t;t.indentLevel++;const i=n+t.indent,a=i+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+r);const{cases:s}=e,{length:l}=s;for(let e=0;e<l;e++){const n=s[e];o&&null!=n.comments&&PE(t,n.comments,i,r),n.test?(t.write(i+"case "),this[n.test.type](n.test,t),t.write(":"+r)):t.write(i+"default:"+r);const{consequent:l}=n,{length:c}=l;for(let e=0;e<c;e++){const n=l[e];o&&null!=n.comments&&PE(t,n.comments,a,r),t.write(a),this[n.type](n,t),t.write(r)}}t.indentLevel-=2,t.write(n+"}")},ReturnStatement(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){const{handler:n}=e;null==n.param?t.write(" catch "):(t.write(" catch ("),this[n.param.type](n.param,t),t.write(") ")),this[n.body.type](n.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement(e,t){if(t.write("for ("),null!=e.init){const{init:n}=e;"V"===n.type[0]?jE(t,n):this[n.type](n,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:_E=function(e,t){t.write(`for ${e.await?"await ":""}(`);const{left:n}=e;"V"===n.type[0]?jE(t,n):this[n.type](n,t),t.write("I"===e.type[3]?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:_E,DebuggerStatement(e,t){t.write("debugger;",e)},FunctionDeclaration:TE=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),kE(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:TE,VariableDeclaration(e,t){jE(t,e),t.write(";")},VariableDeclarator(e,t){this[e.id.type](e.id,t),null!=e.init&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration(e,t){if(t.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){t.write("extends ");const{superClass:n}=e,{type:r}=n,o=t.expressionsPrecedence[r];"C"===r[0]&&"l"===r[1]&&"E"===r[5]||!(o===wE||o<t.expressionsPrecedence.ClassExpression)?this[n.type](n,t):(t.write("("),this[e.superClass.type](n,t),t.write(")")),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration(e,t){t.write("import ");const{specifiers:n,attributes:r}=e,{length:o}=n;let i=0;if(o>0){for(;i<o;){i>0&&t.write(", ");const e=n[i],r=e.type[6];if("D"===r)t.write(e.local.name,e),i++;else{if("N"!==r)break;t.write("* as "+e.local.name,e),i++}}if(i<o){for(t.write("{");;){const e=n[i],{name:r}=e.imported;if(t.write(r,e),r!==e.local.name&&t.write(" as "+e.local.name),!(++i<o))break;t.write(", ")}t.write("}")}t.write(" from ")}if(this.Literal(e.source,t),r&&r.length>0){t.write(" with { ");for(let e=0;e<r.length;e++)this.ImportAttribute(r[e],t),e<r.length-1&&t.write(", ");t.write(" }")}t.write(";")},ImportAttribute(e,t){this.Identifier(e.key,t),t.write(": "),this.Literal(e.value,t)},ImportExpression(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),null!=t.expressionsPrecedence[e.declaration.type]&&"F"!==e.declaration.type[0]&&t.write(";")},ExportNamedDeclaration(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");const{specifiers:n}=e,{length:r}=n;if(r>0)for(let e=0;;){const o=n[e],{name:i}=o.local;if(t.write(i,o),i!==o.exported.name&&t.write(" as "+o.exported.name),!(++e<r))break;t.write(", ")}if(t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),e.attributes&&e.attributes.length>0){t.write(" with { ");for(let n=0;n<e.attributes.length;n++)this.ImportAttribute(e.attributes[n],t),n<e.attributes.length-1&&t.write(", ");t.write(" }")}t.write(";")}},ExportAllDeclaration(e,t){if(null!=e.exported?t.write("export * as "+e.exported.name+" from "):t.write("export * from "),this.Literal(e.source,t),e.attributes&&e.attributes.length>0){t.write(" with { ");for(let n=0;n<e.attributes.length;n++)this.ImportAttribute(e.attributes[n],t),n<e.attributes.length-1&&t.write(", ");t.write(" }")}t.write(";")},MethodDefinition(e,t){e.static&&t.write("static ");const n=e.kind[0];"g"!==n&&"s"!==n||t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),kE(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression(e,t){t.write(e.async?"async ":"",e);const{params:n}=e;null!=n&&(1===n.length&&"I"===n[0].type[0]?t.write(n[0].name,n[0]):kE(t,e.params)),t.write(" => "),"O"===e.body.type[0]?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression(e,t){t.write("this",e)},Super(e,t){t.write("super",e)},RestElement:AE=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:AE,YieldExpression(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression(e,t){t.write("await ",e),CE(t,e.argument,e)},TemplateLiteral(e,t){const{quasis:n,expressions:r}=e;t.write("`");const{length:o}=r;for(let e=0;e<o;e++){const o=r[e],i=n[e];t.write(i.value.raw,i),t.write("${"),this[o.type](o,t),t.write("}")}const i=n[n.length-1];t.write(i.value.raw,i),t.write("`")},TemplateElement(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression(e,t){CE(t,e.tag,e),this[e.quasi.type](e.quasi,t)},ArrayExpression:ME=function(e,t){if(t.write("["),e.elements.length>0){const{elements:n}=e,{length:r}=n;for(let e=0;;){const o=n[e];if(null!=o&&this[o.type](o,t),!(++e<r)){null==o&&t.write(", ");break}t.write(", ")}}t.write("]")},ArrayPattern:ME,ObjectExpression(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t,i=n+t.indent;if(t.write("{"),e.properties.length>0){t.write(r),o&&null!=e.comments&&PE(t,e.comments,i,r);const a=","+r,{properties:s}=e,{length:l}=s;for(let e=0;;){const n=s[e];if(o&&null!=n.comments&&PE(t,n.comments,i,r),t.write(i),this[n.type](n,t),!(++e<l))break;t.write(a)}t.write(r),o&&null!=e.trailingComments&&PE(t,e.trailingComments,i,r),t.write(n+"}")}else o?null!=e.comments?(t.write(r),PE(t,e.comments,i,r),null!=e.trailingComments&&PE(t,e.trailingComments,i,r),t.write(n+"}")):null!=e.trailingComments?(t.write(r),PE(t,e.trailingComments,i,r),t.write(n+"}")):t.write("}"):t.write("}");t.indentLevel--},Property(e,t){e.method||"i"!==e.kind[0]?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},PropertyDefinition(e,t){e.static&&t.write("static "),e.computed&&t.write("["),this[e.key.type](e.key,t),e.computed&&t.write("]"),null!=e.value?(t.write(" = "),this[e.value.type](e.value,t),t.write(";")):"F"!==e.key.type[0]&&t.write(";")},ObjectPattern(e,t){if(t.write("{"),e.properties.length>0){const{properties:n}=e,{length:r}=n;for(let e=0;this[n[e].type](n[e],t),++e<r;)t.write(", ")}t.write("}")},SequenceExpression(e,t){kE(t,e.expressions)},UnaryExpression(e,t){if(e.prefix){const{operator:n,argument:r,argument:{type:o}}=e;t.write(n);const i=EE(t,r,e);i||!(n.length>1)&&("U"!==o[0]||"n"!==o[1]&&"p"!==o[1]||!r.prefix||r.operator[0]!==n||"+"!==n&&"-"!==n)||t.write(" "),i?(t.write(n.length>1?" (":"("),this[o](r,t),t.write(")")):this[o](r,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:DE=function(e,t){const n="in"===e.operator;n&&t.write("("),CE(t,e.left,e,!1),t.write(" "+e.operator+" "),CE(t,e.right,e,!0),n&&t.write(")")},LogicalExpression:DE,ConditionalExpression(e,t){const{test:n}=e,r=t.expressionsPrecedence[n.type];r===wE||r<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[n.type](n,t),t.write(")")):this[n.type](n,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression(e,t){t.write("new ");const n=t.expressionsPrecedence[e.callee.type];n===wE||n<t.expressionsPrecedence.CallExpression||function(e){let t=e;for(;null!=t;){const{type:e}=t;if("C"===e[0]&&"a"===e[1])return!0;if("M"!==e[0]||"e"!==e[1]||"m"!==e[2])return!1;t=t.object}}(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),kE(t,e.arguments)},CallExpression(e,t){const n=t.expressionsPrecedence[e.callee.type];n===wE||n<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),kE(t,e.arguments)},ChainExpression(e,t){this[e.expression.type](e.expression,t)},MemberExpression(e,t){const n=t.expressionsPrecedence[e.object.type];n===wE||n<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(e.optional?t.write("?."):t.write("."),this[e.property.type](e.property,t))},MetaProperty(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier(e,t){t.write(e.name,e)},PrivateIdentifier(e,t){t.write(`#${e.name}`,e)},Literal(e,t){null!=e.raw?t.write(e.raw,e):null!=e.regex?this.RegExpLiteral(e,t):null!=e.bigint?t.write(e.bigint+"n",e):t.write(bE(e.value),e)},RegExpLiteral(e,t){const{regex:n}=e;t.write(`/${n.pattern}/${n.flags}`,e)}},LE={};class RE{constructor(e){const t=null==e?LE:e;this.output="",null!=t.output?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=null!=t.generator?t.generator:IE,this.expressionsPrecedence=null!=t.expressionsPrecedence?t.expressionsPrecedence:SE,this.indent=null!=t.indent?t.indent:"  ",this.lineEnd=null!=t.lineEnd?t.lineEnd:"\n",this.indentLevel=null!=t.startingIndentLevel?t.startingIndentLevel:0,this.writeComments=!!t.comments&&t.comments,null!=t.sourceMap&&(this.write=null==t.output?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split("\n").length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,t){this.output+=e,this.map(e,t)}writeToStreamAndMap(e,t){this.output.write(e),this.map(e,t)}map(e,t){if(null!=t){const{type:n}=t;if("L"===n[0]&&"n"===n[2])return this.column=0,void this.line++;if(null!=t.loc){const{mapping:e}=this;e.original=t.loc.start,e.name=t.name,this.sourceMap.addMapping(e)}if("T"===n[0]&&"E"===n[8]||"L"===n[0]&&"i"===n[1]&&"string"==typeof t.value){const{length:t}=e;let{column:n,line:r}=this;for(let o=0;o<t;o++)"\n"===e[o]?(n=0,r++):n++;return this.column=n,void(this.line=r)}}const{length:n}=e,{lineEnd:r}=this;n>0&&(this.lineEndSize>0&&(1===r.length?e[n-1]===r:e.endsWith(r))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}}var FE=Object.defineProperty,zE=(e,t,n)=>((e,t,n)=>t in e?FE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class VE{constructor(){zE(this,"scopes",[]),zE(this,"scopeTypes",[]),zE(this,"scopeCounts",new Map),zE(this,"contextBoundVars",new Set),zE(this,"arrayPatternElements",new Set),zE(this,"rootParams",new Set),zE(this,"varKinds",new Map),zE(this,"loopVars",new Set),zE(this,"loopVarNames",new Map),zE(this,"paramIdCounter",0),zE(this,"cacheIdCounter",0),zE(this,"tempVarCounter",0),this.pushScope("glb")}get nextParamIdArg(){return{type:"Identifier",name:`'p${this.paramIdCounter++}'`}}get nextCacheIdArg(){return{type:"Identifier",name:`'cache_${this.cacheIdCounter++}'`}}pushScope(e){this.scopes.push(new Map),this.scopeTypes.push(e),this.scopeCounts.set(e,(this.scopeCounts.get(e)||0)+1)}popScope(){this.scopes.pop(),this.scopeTypes.pop()}getCurrentScopeType(){return this.scopeTypes[this.scopeTypes.length-1]}getCurrentScopeCount(){return this.scopeCounts.get(this.getCurrentScopeType())||1}addContextBoundVar(e,t=!1){this.contextBoundVars.add(e),t&&this.rootParams.add(e)}addArrayPatternElement(e){this.arrayPatternElements.add(e)}isContextBound(e){return this.contextBoundVars.has(e)}isArrayPatternElement(e){return this.arrayPatternElements.has(e)}isRootParam(e){return this.rootParams.has(e)}addLoopVariable(e,t){this.loopVars.add(e),this.loopVarNames.set(e,t)}getLoopVariableName(e){return this.loopVarNames.get(e)}isLoopVariable(e){return this.loopVars.has(e)}addVariable(e,t){if(this.isContextBound(e))return e;const n=this.scopes[this.scopes.length-1],r=this.scopeTypes[this.scopeTypes.length-1],o=`${r}${this.scopeCounts.get(r)||1}_${e}`;return n.set(e,o),this.varKinds.set(o,t),o}getVariable(e){if(this.loopVars.has(e)){const t=this.loopVarNames.get(e);if(t)return[t,"let"]}if(this.isContextBound(e))return[e,"let"];for(let t=this.scopes.length-1;t>=0;t--){const n=this.scopes[t];if(n.has(e)){const t=n.get(e);return[t,this.varKinds.get(t)||"let"]}}return[e,"let"]}generateTempVar(){return"temp_"+ ++this.tempVarCounter}}const BE="$",WE={type:"Identifier",name:"undefined"};function UE(e,t){if(e.computed&&"Identifier"===e.property.type){if(t.isLoopVariable(e.property.name))return;if(!t.isContextBound(e.property.name)){const[n,r]=t.getVariable(e.property.name);e.property={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},e.property={type:"MemberExpression",object:e.property,property:{type:"Literal",value:0},computed:!0}}}if(e.computed&&"Identifier"===e.object.type){if(t.isLoopVariable(e.object.name))return;if(!t.isContextBound(e.object.name)){const[n,r]=t.getVariable(e.object.name);e.object={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}if("MemberExpression"===e.property.type){const n=e.property;n._indexTransformed||(UE(n,t),n._indexTransformed=!0)}}}function HE(e,t,n){if(e.object&&"Identifier"===e.object.type&&"Math"===e.object.name)return;const r="if"==n.getCurrentScopeType(),o="els"==n.getCurrentScopeType(),i="for"==n.getCurrentScopeType();(r||o||i||!e.object||"Identifier"!==e.object.type||!n.isContextBound(e.object.name)||n.isRootParam(e.object.name))&&(e._indexTransformed||(UE(e,n),e._indexTransformed=!0))}function YE(e,t){e.declarations.forEach(n=>{"na"==n.init.name&&(n.init.name="NaN");const r=n.init&&"MemberExpression"===n.init.type&&n.init.object&&("context"===n.init.object.name||n.init.object.name===BE||"context2"===n.init.object.name),o=n.init&&"MemberExpression"===n.init.type&&n.init.object?.object&&("context"===n.init.object.object.name||n.init.object.object.name===BE||"context2"===n.init.object.object.name),i=n.init&&"ArrowFunctionExpression"===n.init.type;if(r)return n.id.name&&t.addContextBoundVar(n.id.name),n.id.properties&&n.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}),void(n.init.object.name=BE);if(o)return n.id.name&&t.addContextBoundVar(n.id.name),n.id.properties&&n.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}),void(n.init.object.object.name=BE);i&&n.init.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name)});const a=t.addVariable(n.id.name,e.kind),s=e.kind;n.init&&!i&&("CallExpression"===n.init.type&&"MemberExpression"===n.init.callee.type&&n.init.callee.object&&"Identifier"===n.init.callee.object.type&&t.isContextBound(n.init.callee.object.name)?eC(n.init,t):yE(n.init,{parent:n.init},{Identifier(e,n){e.parent=n.parent,XE(e,t);const r=e.parent&&"BinaryExpression"===e.parent.type,o=e.parent&&"ConditionalExpression"===e.parent.type;"Identifier"===e.type&&(r||o)&&Object.assign(e,{type:"MemberExpression",object:{type:"Identifier",name:e.name},property:{type:"Literal",value:0},computed:!0})},CallExpression(e,n,r){"Identifier"===e.callee.type&&(e.callee.parent=e),e.arguments.forEach(t=>{"Identifier"===t.type&&(t.parent=e)}),eC(e,t),e.arguments.forEach(t=>r(t,{parent:e}))},BinaryExpression(e,t,n){"Identifier"===e.left.type&&(e.left.parent=e),"Identifier"===e.right.type&&(e.right.parent=e),n(e.left,{parent:e}),n(e.right,{parent:e})},MemberExpression(e,n,r){"Identifier"===e.object.type&&(e.object.parent=e),"Identifier"===e.property.type&&(e.property.parent=e),UE(e,t),e.object&&r(e.object,{parent:e})}}));const l={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:s},computed:!1},property:{type:"Identifier",name:a},computed:!1},c=t.isArrayPatternElement(n.id.name),u=!c&&n.init&&"MemberExpression"===n.init.type&&n.init.computed&&n.init.property&&("Literal"===n.init.property.type||"MemberExpression"===n.init.property.type);"MemberExpression"===n.init?.property?.type&&(n.init.property._indexTransformed||(UE(n.init.property,t),n.init.property._indexTransformed=!0));const f={type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:l,right:n.init?i||c?n.init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:"init"},computed:!1},arguments:u?[l,n.init.object,n.init.property]:[l,n.init]}:{type:"Identifier",name:"undefined"}}};if(c){f.expression.right.object.property.name+=`?.[0][${n.init.property.value}]`;const e=f.expression.right.object;f.expression.right={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:"init"},computed:!1},arguments:[l,e]}}i&&(t.pushScope("fn"),yE(n.init.body,t,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},IfStatement(e,t,n){t.pushScope("if"),n(e.consequent,t),e.alternate&&(t.pushScope("els"),n(e.alternate,t),t.popScope()),t.popScope()},VariableDeclaration(e,t){YE(e,t)},Identifier(e,t){XE(e,t)},AssignmentExpression(e,t){qE(e,t)}}),t.popScope()),Object.assign(e,f)})}function XE(e,t){if(e.name!==BE){if("Math"===e.name||"NaN"===e.name||"undefined"===e.name||"Infinity"===e.name||"null"===e.name||e.name.startsWith("'")&&e.name.endsWith("'")||e.name.startsWith('"')&&e.name.endsWith('"')||e.name.startsWith("`")&&e.name.endsWith("`"))return;if(t.isLoopVariable(e.name))return;if(t.isContextBound(e.name)&&!t.isRootParam(e.name))return;const n=e.parent&&"MemberExpression"===e.parent.type&&e.parent.object===e&&t.isContextBound(e.name),r=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee&&"MemberExpression"===e.parent.callee.type&&"param"===e.parent.callee.property.name;e.parent&&"AssignmentExpression"===e.parent.type&&e.parent.left;const o=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee&&"MemberExpression"===e.parent.callee.type&&t.isContextBound(e.parent.callee.object.name),i=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed,a=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.property===e&&e.parent.parent&&"CallExpression"===e.parent.parent.type&&e.parent.parent.callee&&"MemberExpression"===e.parent.parent.callee.type&&t.isContextBound(e.parent.parent.callee.object.name),s=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee===e;if(n||r||o||a||s){if(s)return;const[n,r]=t.getVariable(e.name);return void Object.assign(e,{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1})}const[l,c]=t.getVariable(e.name),u={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:c},computed:!1},property:{type:"Identifier",name:l},computed:!1};e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.object===e||i?Object.assign(e,u):Object.assign(e,{type:"MemberExpression",object:u,property:{type:"Literal",value:0},computed:!0})}}function qE(e,t){if("Identifier"===e.left.type){const[n,r]=t.getVariable(e.left.name),o={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1};e.left={type:"MemberExpression",object:o,property:{type:"Literal",value:0},computed:!0}}yE(e.right,{parent:e.right,inNamespaceCall:!1},{Identifier(e,n,r){"na"==e.name&&(e.name="NaN"),e.parent=n.parent,XE(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type,i=e.parent&&"ConditionalExpression"===e.parent.type,a=t.isContextBound(e.name)&&!t.isRootParam(e.name),s=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.object===e,l=e.parent&&e.parent._isParamCall,c=e.parent&&"MemberExpression"===e.parent.type,u="NaN"===e.name;(a||i||o)&&("MemberExpression"===e.type?UE(e,t):"Identifier"!==e.type||c||s||l||u||tC(e))},MemberExpression(e,n,r){UE(e,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})},CallExpression(e,n,r){const o=e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&t.isContextBound(e.callee.object.name);eC(e,t),e.arguments.forEach(t=>r(t,{parent:e,inNamespaceCall:o||n.inNamespaceCall}))}})}function $E(e,t){const n=t.getCurrentScopeType();if(e.argument){if("ArrayExpression"===e.argument.type)e.argument.elements=e.argument.elements.map(e=>{if("Identifier"===e.type){if(t.isContextBound(e.name)&&!t.isRootParam(e.name))return{type:"MemberExpression",object:e,property:{type:"Literal",value:0},computed:!0};const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},property:{type:"Literal",value:0},computed:!0}}return"MemberExpression"===e.type?(e.computed&&"Identifier"===e.object.type&&t.isContextBound(e.object.name)&&!t.isRootParam(e.object.name)||HE(e,0,t),e):e}),e.argument={type:"ArrayExpression",elements:[e.argument]};else if("BinaryExpression"===e.argument.type)yE(e.argument,t,{Identifier(e,t){XE(e,t),"Identifier"===e.type&&tC(e)},MemberExpression(e){HE(e,0,t)}});else if("ObjectExpression"===e.argument.type)e.argument.properties=e.argument.properties.map(e=>{if(e.shorthand){const[n,r]=t.getVariable(e.value.name);return{type:"Property",key:{type:"Identifier",name:e.key.name},value:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},kind:"init",method:!1,shorthand:!1,computed:!1}}return e});else if("Identifier"===e.argument.type){const[n,r]=t.getVariable(e.argument.name);e.argument={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},e.argument={type:"MemberExpression",object:e.argument,property:{type:"Literal",value:0},computed:!0}}"fn"===n&&(e.argument={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:"precision"}},arguments:[e.argument]})}}function GE(e,t){if("Identifier"===e.type){if("na"===e.name)return e.name="NaN",e;if(t.isLoopVariable(e.name))return e;if(t.isRootParam(e.name)){const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}if(t.isContextBound(e.name))return e;const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}return e}function QE(e,t,n){const r=ZE(e.argument,t,n);return{type:"UnaryExpression",operator:e.operator,prefix:e.prefix,argument:r,start:e.start,end:e.end}}function ZE(e,t,n=""){switch(e.type){case"BinaryExpression":return KE(e,t,n);case"MemberExpression":return{type:"MemberExpression",object:"Identifier"===e.object.type?GE(e.object,t):e.object,property:e.property,computed:e.computed};case"Identifier":return t.isLoopVariable(e.name)||e.parent&&"MemberExpression"===e.parent.type&&e.parent.property===e?e:{type:"MemberExpression",object:GE(e,t),property:{type:"Literal",value:0},computed:!0};case"UnaryExpression":return QE(e,t,n)}return e}function KE(e,t,n){const r=ZE(e.left,t,n),o=ZE(e.right,t,n),i={type:"BinaryExpression",operator:e.operator,left:r,right:o,start:e.start,end:e.end};return yE(i,t,{CallExpression(e,t){e._transformed||eC(e,t)},MemberExpression(e){HE(e,0,t)}}),i}function JE(e,t,n){switch(e?.type){case"BinaryExpression":e=KE(e,n,t);break;case"LogicalExpression":e=function(e,t,n){const r=ZE(e.left,t,n),o=ZE(e.right,t,n),i={type:"LogicalExpression",operator:e.operator,left:r,right:o,start:e.start,end:e.end};return yE(i,t,{CallExpression(e,t){e._transformed||eC(e,t)}}),i}(e,n,t);break;case"ConditionalExpression":return function(e,t,n){return yE(e,{parent:e,inNamespaceCall:!1},{Identifier(e,n,r){if("NaN"==e.name)return;if("na"==e.name)return void(e.name="NaN");e.parent=n.parent,XE(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type;(e.parent&&"ConditionalExpression"===e.parent.type||o)&&("MemberExpression"===e.type?UE(e,t):"Identifier"===e.type&&tC(e))},MemberExpression(e,n,r){UE(e,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})},CallExpression(e,n,r){const o=e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&t.isContextBound(e.callee.object.name);eC(e,t),e.arguments.forEach(t=>r(t,{parent:e,inNamespaceCall:o||n.inNamespaceCall}))}}),{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Identifier",name:"param"}},arguments:[e,WE,t.nextParamIdArg],_transformed:!0,_isParamCall:!0}}(e,n,t);case"UnaryExpression":e=QE(e,n,t)}if("MemberExpression"===e.type&&e.computed&&e.property)return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:["Identifier"===e.object.type&&n.isContextBound(e.object.name)&&!n.isRootParam(e.object.name)?e.object:GE(e.object,n),"Identifier"!==e.property.type||n.isContextBound(e.property.name)||n.isLoopVariable(e.property.name)?e.property:GE(e.property,n),n.nextParamIdArg],_transformed:!0,_isParamCall:!0};if("ObjectExpression"===e.type&&(e.properties=e.properties.map(e=>{if(e.value.name){const[t,r]=n.getVariable(e.value.name);return{type:"Property",key:{type:"Identifier",name:e.key.name},value:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:BE},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:t},computed:!1},kind:"init",method:!1,shorthand:!1,computed:!1}}return e})),"Identifier"===e.type){if("na"===e.name)return e.name="NaN",e;if(n.isContextBound(e.name)&&!n.isRootParam(e.name))return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:[e,WE,n.nextParamIdArg],_transformed:!0,_isParamCall:!0}}return"CallExpression"===e?.type&&eC(e,n),{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:["Identifier"===e.type?GE(e,n):e,WE,n.nextParamIdArg],_transformed:!0,_isParamCall:!0}}function eC(e,t,n){if(!e._transformed){if(e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&(t.isContextBound(e.callee.object.name)||"math"===e.callee.object.name||"ta"===e.callee.object.name)){const n=e.callee.object.name;e.arguments=e.arguments.map(e=>e._isParamCall?e:JE(e,n,t)),e._transformed=!0}else e.callee&&"Identifier"===e.callee.type&&(e.arguments=e.arguments.map(e=>e._isParamCall?e:JE(e,BE,t)),e._transformed=!0);e.arguments.forEach(e=>{yE(e,t,{Identifier(e,n,r){e.parent=n.parent,XE(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type;(e.parent&&"ConditionalExpression"===e.parent.type||o)&&("MemberExpression"===e.type?UE(e,t):"Identifier"===e.type&&tC(e))},CallExpression(e,t,n){e._transformed||eC(e,t)},MemberExpression(e,n,r){HE(e,0,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})}})})}}function tC(e,t){Object.assign(e,{type:"MemberExpression",object:{type:"Identifier",name:e.name,start:e.start,end:e.end},property:{type:"Literal",value:0},computed:!0,_indexTransformed:!0})}function nC(e,t,n){if(e.init&&"VariableDeclaration"===e.init.type){const n=e.init.declarations[0],r=n.id.name;t.addLoopVariable(r,r),e.init={type:"VariableDeclaration",kind:e.init.kind,declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:r},init:n.init}]},n.init&&yE(n.init,t,{Identifier(e,n){t.isLoopVariable(e.name)||(t.pushScope("for"),XE(e,n),t.popScope())},MemberExpression(e){t.pushScope("for"),HE(e,0,t),t.popScope()}})}e.test&&yE(e.test,t,{Identifier(e,n){t.isLoopVariable(e.name)||e.computed||(t.pushScope("for"),XE(e,n),"Identifier"===e.type&&(e.computed=!0,tC(e)),t.popScope())},MemberExpression(e){t.pushScope("for"),HE(e,0,t),t.popScope()}}),e.update&&yE(e.update,t,{Identifier(e,n){t.isLoopVariable(e.name)||(t.pushScope("for"),XE(e,n),t.popScope())}}),t.pushScope("for"),n(e.body,t),t.popScope()}function rC(e,t,n){e.test&&(t.pushScope("if"),function(e,t){yE(e,t,{MemberExpression(e){HE(e,0,t)},CallExpression(e,t){eC(e,t)},Identifier(e,n){XE(e,n);const r="if"===t.getCurrentScopeType();t.isContextBound(e.name)&&!t.isRootParam(e.name)&&r&&tC(e)}})}(e.test,t),t.popScope()),t.pushScope("if"),n(e.consequent,t),t.popScope(),e.alternate&&(t.pushScope("els"),n(e.alternate,t),t.popScope())}function oC(e){const t=(n=("function"==typeof e?e.toString():e).trim(),ck.parse(n,{ecmaVersion:"latest",sourceType:"module"}));var n;!function(e){yE(e,null,{VariableDeclaration(e,t,n){e.declarations&&e.declarations.length>0&&e.declarations.forEach(t=>{if(t.init&&"ArrowFunctionExpression"===t.init.type&&0!==t.init.start){const n={type:"FunctionDeclaration",id:t.id,params:t.init.params,body:"BlockStatement"===t.init.body.type?t.init.body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:t.init.body}]},async:t.init.async,generator:!1};Object.assign(e,n)}}),e.body&&e.body.body&&e.body.body.forEach(e=>n(e,t))}})}(t);const r=new VE;let o;!function(e,t){hE(e,{VariableDeclaration(e){e.declarations.forEach(e=>{const n=e.init&&"MemberExpression"===e.init.type&&e.init.object&&("context"===e.init.object.name||e.init.object.name===BE||"context2"===e.init.object.name),r=e.init&&"MemberExpression"===e.init.type&&e.init.object?.object&&("context"===e.init.object.object.name||e.init.object.object.name===BE||"context2"===e.init.object.object.name);(n||r)&&(e.id.name&&t.addContextBoundVar(e.id.name),e.id.properties&&e.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}))})}})}(t,r),hE(t,{FunctionDeclaration(e){!function(e,t){e.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name,!1)}),e.body&&"BlockStatement"===e.body.type&&(t.pushScope("fn"),yE(e.body,t,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},ReturnStatement(e,t){$E(e,t)},VariableDeclaration(e,t){YE(e,t)},Identifier(e,t){XE(e,t)},CallExpression(e,t){eC(e,t),e.arguments.forEach(e=>{"BinaryExpression"===e.type&&yE(e,t,{CallExpression(e,t){eC(e,t)},MemberExpression(e){HE(e,0,t)}})})},MemberExpression(e){HE(e,0,t)},AssignmentExpression(e,t){qE(e,t)},ForStatement(e,t,n){nC(e,t,n)},IfStatement(e,t,n){rC(e,t,n)},BinaryExpression(e,t,n){yE(e,t,{CallExpression(e,t){eC(e,t)},MemberExpression(e){HE(e,0,t)}})}}),t.popScope())}(e,r)},ArrowFunctionExpression(e){const t=0===e.start;t&&e.params&&e.params.length>0&&(o=e.params[0].name,e.params[0].name=BE),function(e,t,n=!1){e.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name,n)})}(e,r,t)},VariableDeclaration(e){e.declarations.forEach(t=>{if("ArrayPattern"===t.id.type){const n=r.generateTempVar(),o={type:"VariableDeclaration",kind:e.kind,declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:n},init:t.init}]};t.id.elements?.forEach(e=>{"Identifier"===e.type&&r.addArrayPatternElement(e.name)});const i=t.id.elements.map((t,r)=>({type:"VariableDeclaration",kind:e.kind,declarations:[{type:"VariableDeclarator",id:t,init:{type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Literal",value:r},computed:!0}}]}));Object.assign(e,{type:"BlockStatement",body:[o,...i]})}})},ForStatement(e){}}),yE(t,r,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},ReturnStatement(e,t){$E(e,t)},VariableDeclaration(e,t){YE(e,t)},Identifier(e,t){XE(e,t)},CallExpression(e,t){eC(e,t)},MemberExpression(e){HE(e,0,r)},AssignmentExpression(e,t){qE(e,t)},FunctionDeclaration(e,t){},ForStatement(e,t,n){nC(e,t,n)},IfStatement(e,t,n){rC(e,t,n)}});const i=function(e){const t=new RE(void 0);return t.generator[e.type](e,t),t.output}(t);return new Function("",`return ${i}`)(this)}var iC=Object.defineProperty,aC=(e,t,n)=>((e,t,n)=>t in e?iC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class sC{constructor(e,t,n,r,o,i){this.source=e,this.tickerId=t,this.timeframe=n,this.limit=r,this.sDate=o,this.eDate=i,aC(this,"data",[]),aC(this,"open",[]),aC(this,"high",[]),aC(this,"low",[]),aC(this,"close",[]),aC(this,"volume",[]),aC(this,"hl2",[]),aC(this,"hlc3",[]),aC(this,"ohlc4",[]),aC(this,"openTime",[]),aC(this,"closeTime",[]),aC(this,"_periods"),aC(this,"_readyPromise",null),aC(this,"_ready",!1),this._readyPromise=new Promise(a=>{this.loadMarketData(e,t,n,r,o,i).then(e=>{const t=e.reverse();this._periods=t.length,this.data=t;const n=t.map(e=>e.open),r=t.map(e=>e.close),o=t.map(e=>e.high),i=t.map(e=>e.low),s=t.map(e=>e.volume),l=t.map(e=>(e.high+e.low+e.close)/3),c=t.map(e=>(e.high+e.low)/2),u=t.map(e=>(e.high+e.low+e.open+e.close)/4),f=t.map(e=>e.openTime),p=t.map(e=>e.closeTime);this.open=n,this.close=r,this.high=o,this.low=i,this.volume=s,this.hl2=c,this.hlc3=l,this.ohlc4=u,this.openTime=f,this.closeTime=p,this._ready=!0,a(!0)})})}get periods(){return this._periods}async loadMarketData(e,t,n,r,o,i){return Array.isArray(e)?e:e.getMarketData(t,n,r,o,i)}async ready(){if(this._ready)return!0;if(!this._readyPromise)throw new Error("PineTS is not ready");return this._readyPromise}async run(e,t,n){await this.ready(),t||(t=this._periods);const r=new CC({marketData:this.data,source:this.source,tickerId:this.tickerId,timeframe:this.timeframe,limit:this.limit,sDate:this.sDate,eDate:this.eDate});r.pineTSCode=e,r.useTACache=n;let o=oC.bind(this)(e);const i=["const","var","let","params"];for(let e=this._periods-t,n=t-1;e<this._periods;e++,n--){r.idx=e,r.data.close=this.close.slice(n),r.data.open=this.open.slice(n),r.data.high=this.high.slice(n),r.data.low=this.low.slice(n),r.data.volume=this.volume.slice(n),r.data.hl2=this.hl2.slice(n),r.data.hlc3=this.hlc3.slice(n),r.data.ohlc4=this.ohlc4.slice(n),r.data.openTime=this.openTime.slice(n),r.data.closeTime=this.closeTime.slice(n);const t=await o(r);if("object"==typeof t){"object"!=typeof r.result&&(r.result={});for(let e in t){void 0===r.result[e]&&(r.result[e]=[]);const n=Array.isArray(t[e])?t[e][0]:t[e];r.result[e].push(n)}}else Array.isArray(r.result)||(r.result=[]),r.result.push(t);for(let e of i)for(let t in r[e])if(Array.isArray(r[e][t])){const n=r[e][t][0];r[e][t].unshift(n)}}return r}}var lC=Object.defineProperty;class cC{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?lC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"color",{param:(e,t=0)=>Array.isArray(e)?e[t]:e,rgb:(e,t,n,r)=>r?`rgba(${e}, ${t}, ${n}, ${r})`:`rgb(${e}, ${t}, ${n})`,new:(e,t)=>{if(e&&e.startsWith("#")){const n=e.slice(1),r=parseInt(n.slice(0,2),16),o=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16);return t?`rgba(${r}, ${o}, ${i}, ${t})`:`rgb(${r}, ${o}, ${i})`}return t?`rgba(${e}, ${t})`:e},white:"white",lime:"lime",green:"green",red:"red",maroon:"maroon",black:"black",gray:"gray",blue:"blue"})}extractPlotOptions(e){const t={};for(let n in e)Array.isArray(e[n])?t[n]=e[n][0]:t[n]=e[n];return t}indicator(e,t,n){}plotchar(e,t,n){this.context.plots[t]||(this.context.plots[t]={data:[],options:this.extractPlotOptions(n),title:t}),this.context.plots[t].data.push({time:this.context.marketData[this.context.marketData.length-this.context.idx-1].openTime,value:e[0],options:{...this.extractPlotOptions(n),style:"char"}})}plot(e,t,n){this.context.plots[t]||(this.context.plots[t]={data:[],options:this.extractPlotOptions(n),title:t}),this.context.plots[t].data.push({time:this.context.marketData[this.context.marketData.length-this.context.idx-1].openTime,value:e[0],options:this.extractPlotOptions(n)})}na(e){return Array.isArray(e)?isNaN(e[0]):isNaN(e)}nz(e,t=0){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?t[0]:t;return isNaN(n)?r:n}}class uC{constructor(e){this.context=e}param(e,t=0){return Array.isArray(e)?[e[t]]:[e]}any(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}int(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}float(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}bool(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}string(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}timeframe(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}time(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}price(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}session(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}source(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}symbol(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}text_area(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}enum(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}color(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}}var fC=Object.defineProperty;class pC{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?fC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?t?(this.context.params[n]=e.slice(t),this.context.params[n].length=e.length,this.context.params[n]):(this.context.params[n]=e.slice(0),this.context.params[n]):(this.context.params[n][0]=e,this.context.params[n])}abs(e){return Math.abs(e[0])}pow(e,t){return Math.pow(e[0],t[0])}sqrt(e){return Math.sqrt(e[0])}log(e){return Math.log(e[0])}ln(e){return Math.log(e[0])}exp(e){return Math.exp(e[0])}floor(e){return Math.floor(e[0])}ceil(e){return Math.ceil(e[0])}round(e){return Math.round(e[0])}random(){return Math.random()}max(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return Math.max(...t)}min(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return Math.min(...t)}sum(e,t){const n=Array.isArray(t)?t[0]:t;return Array.isArray(e)?e.slice(0,n).reduce((e,t)=>e+t,0):e}sin(e){return Math.sin(e[0])}cos(e){return Math.cos(e[0])}tan(e){return Math.tan(e[0])}acos(e){return Math.acos(e[0])}asin(e){return Math.asin(e[0])}atan(e){return Math.atan(e[0])}avg(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return t.reduce((e,t)=>(Array.isArray(e)?e[0]:e)+(Array.isArray(t)?t[0]:t),0)/t.length}}var dC=Object.defineProperty;const hC=["1","3","5","15","30","45","60","120","180","240","D","W","M"];class yC{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?(this.context.params[n]=t?e.slice(t):e.slice(0),[e[t],n]):(this.context.params[n][0]=e,[e,n])}async security(e,t,n,r=!1,o=!1,i=!1,a=null,s=null){const l=e[0],c=t[0],u=n[0],f=n[1],p=hC.indexOf(this.context.timeframe),d=hC.indexOf(c);if(-1==p||-1==d)throw new Error("Invalid timeframe");if(p>d)throw new Error("Only higher timeframes are supported for now");if(p===d)return u;const h=this.context.data.openTime[0],y=this.context.data.closeTime[0];if(this.context.cache[f]){const e=this.context.cache[f],t=this._findSecContextIdx(h,y,e.data.openTime,e.data.closeTime,o);return-1==t?NaN:e.params[f][t]}const m=new sC(this.context.source,l,c,this.context.limit||1e3,this.context.sDate,this.context.eDate),g=await m.run(this.context.pineTSCode);this.context.cache[f]=g;const v=this._findSecContextIdx(h,y,g.data.openTime,g.data.closeTime,o);return-1==v?NaN:g.params[f][v]}_findSecContextIdx(e,t,n,r,o=!1){for(let i=0;i<n.length;i++)if(n[i]<=e&&t<=r[i])return i+(o?1:2);return-1}}class mC{constructor(e){this.context=e}get tr(){return this.context.math.max(this.context.data.high[0]-this.context.data.low[0],this.context.math.abs(this.context.data.high[0]-this.context.data.close[1]),this.context.math.abs(this.context.data.low[0]-this.context.data.close[1]))}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?t?(this.context.params[n]=e.slice(t),this.context.params[n].length=e.length,this.context.params[n]):(this.context.params[n]=e.slice(0),this.context.params[n]):(this.context.params[n][0]=e,this.context.params[n])}ema(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=2/(t+1);let o=0;for(let n=0;n<t;n++)o+=e[n]||0;n[t-1]=o/t;for(let o=t;o<e.length;o++)n[o]=e[o]*r+n[o-1]*(1-r);return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}sma(e,t,n){const r=Array.isArray(t)?t[0]:t,o=e.slice(0).reverse();if(this.context.useTACache&&n){this.context.cache[n]||(this.context.cache[n]={});const e=this.context.cache[n];if(e){const t=function(e,t,n){const r=n.previousResult||new Array(e.length).fill(NaN),o=n.lastProcessedIndex||-1;let i=n.previousSum||0;if(-1===o||e.length!==o+1){i=0;for(let n=0;n<t;n++)i+=e[n]||0;r[t-1]=i/t;for(let e=0;e<t-1;e++)r[e]=NaN;for(let n=t;n<e.length;n++)i=i-(e[n-t]||0)+(e[n]||0),r[n]=i/t}else{if(e.length!==o+2)return vC(e,t);{const n=e.length-1;i=i-(e[n-t]||0)+(e[n]||0),r[n]=i/t}}return n.previousSum=i,n.lastProcessedIndex=e.length-1,n.previousResult=r,r}(o,r,e),n=this.context.idx;return this.context.precision(t[n])}}const i=vC(o,r),a=this.context.idx;return this.context.precision(i[a])}vwma(e,t){const n=Array.isArray(t)?t[0]:t,r=this.context.data.volume,o=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=n-1;o<e.length;o++){let i=0,a=0;for(let r=0;r<n;r++)i+=t[o-r],a+=e[o-r]*t[o-r];r[o]=a/i}return r}(e.slice(0).reverse(),r.slice(0).reverse(),n),i=this.context.idx;return this.context.precision(o[i])}wma(e,t){const n=Array.isArray(t)?t[0]:t,r=bC(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}hma(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=bC(e,Math.floor(t/2)),r=bC(e,t),o=n.map((e,t)=>2*e-r[t]);return bC(o,Math.floor(Math.sqrt(t)))}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}rma(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=1/t;let o=0;for(let n=0;n<t;n++)o+=e[n]||0;n[t-1]=o/t;for(let o=t;o<e.length;o++){const t=e[o]||0;n[o]=t*r+n[o-1]*(1-r)}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}change(e,t=1){const n=Array.isArray(t)?t[0]:t,r=function(e,t=1){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=e[r]-e[r-t];return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}rsi(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=new Array(e.length).fill(0),o=new Array(e.length).fill(0);for(let t=1;t<e.length;t++){const n=e[t]-e[t-1];r[t]=n>0?n:0,o[t]=n<0?-n:0}let i=0,a=0;for(let e=1;e<=t;e++)i+=r[e],a+=o[e];i/=t,a/=t,n[t]=0===a?100:100-100/(1+i/a);for(let s=t+1;s<e.length;s++)i=(i*(t-1)+r[s])/t,a=(a*(t-1)+o[s])/t,n[s]=0===a?100:100-100/(1+i/a);return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}atr(e){const t=Array.isArray(e)?e[0]:e,n=gC(this.context.data.high.slice().reverse(),this.context.data.low.slice().reverse(),this.context.data.close.slice().reverse(),t),r=this.context.idx;return this.context.precision(n[r])}mom(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=e[r]-e[r-t];return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}roc(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=(e[r]-e[r-t])/e[r-t]*100;return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}dev(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=vC(e,t);for(let o=t-1;o<e.length;o++){let i=0;for(let n=0;n<t;n++)i+=Math.abs(e[o-n]-r[o]);n[o]=i/t}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}variance(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=0,i=0;for(let n=0;n<t;n++)o+=e[r-n],i+=e[r-n]*e[r-n];const a=o/t;n[r]=i/t-a*a}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}highest(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=-1/0;for(let n=0;n<t;n++){const t=e[r-n];o=isNaN(t)?o===-1/0?NaN:o:Math.max(o,t)}n[r]=o}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}lowest(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=1/0;for(let n=0;n<t;n++){const t=e[r-n];o=isNaN(t)||void 0===t?o===1/0?NaN:o:Math.min(o,t)}n[r]=o}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}median(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){const o=e.slice(r-t+1,r+1).slice().sort((e,t)=>e-t),i=Math.floor(t/2);n[r]=t%2==0?(o[i-1]+o[i])/2:o[i]}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}stdev(e,t,n=!0){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n=!0){const r=new Array(e.length).fill(NaN),o=vC(e,t);for(let i=t-1;i<e.length;i++){let a=0;for(let n=0;n<t;n++)a+=Math.pow(e[i-n]-o[i],2);const s=n?t:t-1;r[i]=Math.sqrt(a/s)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}linreg(e,t,n){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=e.length,o=new Array(r).fill(NaN);for(let i=t-1;i<r;i++){let r=0,a=0,s=0,l=0;const c=t;for(let n=0;n<t;n++){const o=n,c=e[i-t+1+n];r+=o,a+=c,s+=o*c,l+=o*o}const u=c*l-r*r;if(0===u){o[i]=NaN;continue}const f=(c*s-r*a)/u,p=(a-f*r)/c+f*(t-1-n);o[i]=p}return o}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}supertrend(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t,o=this.context.data.high.slice().reverse(),i=this.context.data.low.slice().reverse(),a=this.context.data.close.slice().reverse(),[s,l]=function(e,t,n,r,o){const i=e.length,a=new Array(i).fill(NaN),s=new Array(i).fill(0),l=gC(e,t,n,o),c=new Array(i).fill(NaN),u=new Array(i).fill(NaN);for(let n=0;n<i;n++){const o=(e[n]+t[n])/2,i=l[n];isNaN(i)||(c[n]=o+r*i,u[n]=o-r*i)}let f=c[o],p=u[o],d=n[o]<=f?f:p,h=n[o]<=f?-1:1;a[o]=d,s[o]=h;for(let e=o+1;e<i;e++){let t=c[e];t<f||n[e-1]>f?c[e]=t:c[e]=f;let r=u[e];r>p||n[e-1]<p?u[e]=r:u[e]=p,d===f?n[e]>c[e]?(s[e]=1,a[e]=u[e]):(s[e]=-1,a[e]=c[e]):n[e]<u[e]?(s[e]=-1,a[e]=c[e]):(s[e]=1,a[e]=u[e]),f=c[e],p=u[e],d=a[e]}return[a,s]}(o,i,a,n,r),c=this.context.idx;return[[this.context.precision(s[c]),l[c]]]}crossover(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return(Array.isArray(e)?e[1]:this.context.data.series[e][1])<(Array.isArray(t)?t[1]:this.context.data.series[t][1])&&n>r}crossunder(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return(Array.isArray(e)?e[1]:this.context.data.series[e][1])>(Array.isArray(t)?t[1]:this.context.data.series[t][1])&&n<r}pivothigh(e,t,n){null==n&&(n=t,t=e,e=this.context.data.high);const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=t+n;o<e.length;o++){const i=e[o-n];let a=!0;for(let r=1;r<=t;r++)if(e[o-n-r]>=i){a=!1;break}if(a)for(let t=1;t<=n;t++)if(e[o-n+t]>=i){a=!1;break}a&&(r[o]=i)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}pivotlow(e,t,n){null==n&&(n=t,t=e,e=this.context.data.low);const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=t+n;o<e.length;o++){const i=e[o-n];let a=!0;for(let r=1;r<=t;r++)if(e[o-n-r]<=i){a=!1;break}if(a)for(let t=1;t<=n;t++)if(e[o-n+t]<=i){a=!1;break}a&&(r[o]=i)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}}function gC(e,t,n,r){const o=new Array(e.length);o[0]=e[0]-t[0];for(let r=1;r<e.length;r++){const i=e[r]-t[r],a=Math.abs(e[r]-n[r-1]),s=Math.abs(t[r]-n[r-1]);o[r]=Math.max(i,a,s)}const i=new Array(e.length).fill(NaN);let a=0;for(let e=0;e<r;e++)a+=o[e];i[r-1]=a/r;for(let e=r;e<o.length;e++)i[e]=(i[e-1]*(r-1)+o[e])/r;return i}function vC(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=0;for(let n=0;n<t;n++)o+=e[r-n]||0;n[r]=o/t}return n}function bC(e,t){const n=new Array(e.length);for(let r=t-1;r<e.length;r++){let o=0,i=0;for(let n=0;n<t;n++)o+=e[r-n]*(t-n),i+=t-n;n[r]=o/i}for(let e=0;e<t-1;e++)n[e]=NaN;return n}var xC=Object.defineProperty;class wC{constructor(e){this.array=e}}class SC{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?xC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t=0){return Array.isArray(e)?e[t]:e}get(e,t){return e.array[t]}set(e,t,n){e.array[t]=n}push(e,t){e.array.push(t)}sum(e){return e.array.reduce((e,t)=>e+(isNaN(t)?0:t),0)}avg(e){return this.sum(e)/e.array.length}min(e,t=0){return[...e.array].sort((e,t)=>e-t)[t]??this.context.NA}max(e,t=0){return[...e.array].sort((e,t)=>t-e)[t]??this.context.NA}size(e){return e.array.length}new_bool(e,t=!1){return new wC(Array(e).fill(t))}new_float(e,t=NaN){return new wC(Array(e).fill(t))}new_int(e,t=0){return new wC(Array(e).fill(Math.round(t)))}new_string(e,t=""){return new wC(Array(e).fill(t))}new(e,t){return new wC(Array(e).fill(t))}slice(e,t,n){const r=void 0!==n?n+1:void 0;return new wC(e.array.slice(t,r))}reverse(e){e.array.reverse()}includes(e,t){return e.array.includes(t)}indexof(e,t){return e.array.indexOf(t)}lastindexof(e,t){return e.array.lastIndexOf(t)}stdev(e,t=!0){const n=this.avg(e),r=e.array.map(e=>Math.pow(e-n,2)),o=t?e.array.length:e.array.length-1;return Math.sqrt(this.sum(new wC(r))/o)}variance(e,t=!0){const n=this.avg(e),r=e.array.map(e=>Math.pow(e-n,2)),o=t?e.array.length:e.array.length-1;return this.sum(new wC(r))/o}covariance(e,t,n=!0){if(e.array.length!==t.array.length||e.array.length<2)return NaN;const r=n?e.array.length:e.array.length-1,o=this.avg(e),i=this.avg(t);let a=0;for(let n=0;n<e.array.length;n++)a+=(e.array[n]-o)*(t.array[n]-i);return a/r}first(e){return e.array.length>0?e.array[0]:this.context.NA}last(e){return e.array.length>0?e.array[e.array.length-1]:this.context.NA}clear(e){e.array.length=0}join(e,t=","){return e.array.join(t)}abs(e){return new wC(e.array.map(e=>Math.abs(e)))}concat(e,t){return e.array.push(...t.array),e}copy(e){return new wC([...e.array])}every(e,t){return e.array.every(t)}fill(e,t,n=0,r){const o=e.array.length,i=void 0!==r?Math.min(r,o):o;for(let r=n;r<i;r++)e.array[r]=t}from(e){return new wC([...e])}insert(e,t,n){e.array.splice(t,0,n)}pop(e){return e.array.pop()}range(e){return this.max(e)-this.min(e)}remove(e,t){return t>=0&&t<e.array.length?e.array.splice(t,1)[0]:this.context.NA}shift(e){return e.array.shift()}sort(e,t="asc"){e.array.sort((e,n)=>"asc"===t?e-n:n-e)}sort_indices(e,t){const n=e.array.map((e,t)=>t);return n.sort((n,r)=>{const o=e.array[n],i=e.array[r];return t?t(o,i):o-i}),new wC(n)}standardize(e){const t=this.avg(e),n=this.stdev(e);return new wC(0===n?e.array.map(()=>0):e.array.map(e=>(e-t)/n))}unshift(e,t){e.array.unshift(t)}some(e,t){return e.array.some(t)}}var kC=Object.defineProperty,EC=(e,t,n)=>((e,t,n)=>t in e?kC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class CC{constructor({marketData:e,source:t,tickerId:n,timeframe:r,limit:o,sDate:i,eDate:a}){EC(this,"data",{open:[],high:[],low:[],close:[],volume:[],hl2:[],hlc3:[],ohlc4:[]}),EC(this,"cache",{}),EC(this,"useTACache",!1),EC(this,"NA",NaN),EC(this,"math"),EC(this,"ta"),EC(this,"input"),EC(this,"request"),EC(this,"array"),EC(this,"core"),EC(this,"lang"),EC(this,"idx",0),EC(this,"params",{}),EC(this,"const",{}),EC(this,"var",{}),EC(this,"let",{}),EC(this,"result"),EC(this,"plots",{}),EC(this,"marketData"),EC(this,"source"),EC(this,"tickerId"),EC(this,"timeframe",""),EC(this,"limit"),EC(this,"sDate"),EC(this,"eDate"),EC(this,"pineTSCode"),this.marketData=e,this.source=t,this.tickerId=n,this.timeframe=r,this.limit=o,this.sDate=i,this.eDate=a,this.math=new pC(this),this.ta=new mC(this),this.input=new uC(this),this.request=new yC(this),this.array=new SC(this);const s=new cC(this);this.core={plotchar:s.plotchar.bind(s),na:s.na.bind(s),color:s.color,plot:s.plot.bind(s),nz:s.nz.bind(s)}}init(e,t,n=0){return e?!Array.isArray(t)||Array.isArray(t[0])?e[0]=Array.isArray(t?.[0])?t[0]:this.precision(t):e[0]=this.precision(t[t.length-this.idx-1+n]):e=Array.isArray(t)?[this.precision(t[t.length-this.idx-1+n])]:[this.precision(t)],e}precision(e,t=10){return"number"!=typeof e||isNaN(e)?e:Number(e.toFixed(t))}param(e,t,n){return"string"==typeof e?e:Array.isArray(e)||"object"!=typeof e?(this.params[n]||(this.params[n]=[]),Array.isArray(e)?t?(this.params[n]=e.slice(t),this.params[n].length=e.length,this.params[n]):(this.params[n]=e.slice(0),this.params[n]):(this.params[n][0]=e,this.params[n])):e}}var OC=Object.defineProperty,PC=(e,t,n)=>((e,t,n)=>t in e?OC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const jC={1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",45:null,60:"1h",120:"2h",180:null,240:"4h","4H":"4h","1D":"1d",D:"1d","1W":"1w",W:"1w","1M":"1M",M:"1M"};class _C{constructor(e=3e5){PC(this,"cache"),PC(this,"cacheDuration"),this.cache=new Map,this.cacheDuration=e}generateKey(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>`${e}:${t}`).join("|")}get(e){const t=this.generateKey(e),n=this.cache.get(t);return n?Date.now()-n.timestamp>this.cacheDuration?(this.cache.delete(t),null):n.data:null}set(e,t){const n=this.generateKey(e);this.cache.set(n,{data:t,timestamp:Date.now()})}clear(){this.cache.clear()}cleanup(){const e=Date.now();for(const[t,n]of this.cache.entries())e-n.timestamp>this.cacheDuration&&this.cache.delete(t)}}function TC(e){return TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TC(e)}function AC(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return DC(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(DC(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,DC(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,DC(f,"constructor",c),DC(c,"constructor",l),l.displayName="GeneratorFunction",DC(c,o,"GeneratorFunction"),DC(f),DC(f,o,"Generator"),DC(f,r,function(){return this}),DC(f,"toString",function(){return"[object Generator]"}),(AC=function(){return{w:i,m:p}})()}function DC(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}DC=function(e,t,n,r){function i(t,n){DC(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},DC(e,t,n,r)}function MC(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function NC(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){MC(i,r,o,a,s,"next",e)}function s(e){MC(i,r,o,a,s,"throw",e)}a(void 0)})}}function IC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LC(r.key),r)}}function LC(e){var t=function(e){if("object"!=TC(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=TC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==TC(t)?t:t+""}new class{constructor(){PC(this,"cacheManager"),this.cacheManager=new _C(3e5)}async getMarketDataInterval(e,t,n,r){try{const o=jC[t.toUpperCase()];if(!o)return console.error(`Unsupported timeframe: ${t}`),[];let i=[],a=n;const s=r,l={"1m":6e4,"3m":18e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"2h":72e5,"4h":144e5,"1d":864e5,"1w":6048e5,"1M":2592e6}[o];if(!l)return console.error(`Duration not defined for interval: ${o}`),[];for(;a<s;){const n=Math.min(a+1e3*l,s),r=await this.getMarketData(e,t,1e3,a,n);if(0===r.length)break;if(i=i.concat(r),a=r[r.length-1].closeTime+1,r.length<1e3)break}return i}catch(e){return console.error("Error in getMarketDataInterval:",e),[]}}async getMarketData(e,t,n,r,o){try{const i={tickerId:e,timeframe:t,limit:n,sDate:r,eDate:o},a=this.cacheManager.get(i);if(a)return console.log("cache hit",e,t,n,r,o),a;const s=jC[t.toUpperCase()];if(!s)return console.error(`Unsupported timeframe: ${t}`),[];let l=`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${s}`;if(!n&&r&&o)return this.getMarketDataInterval(e,t,r,o);n&&(l+=`&limit=${n}`),r&&(l+=`&startTime=${r}`),o&&(l+=`&endTime=${o}`);const c=await fetch(l);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const u=(await c.json()).map(e=>({openTime:parseInt(e[0]),open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5]),closeTime:parseInt(e[6]),quoteAssetVolume:parseFloat(e[7]),numberOfTrades:parseInt(e[8]),takerBuyBaseAssetVolume:parseFloat(e[9]),takerBuyQuoteAssetVolume:parseFloat(e[10]),ignore:e[11]}));return this.cacheManager.set(i,u),u}catch(e){return console.error("Error in binance.klines:",e),[]}}};var RC=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pineInstance=null},t=[{key:"initialize",value:(o=NC(AC().m(function e(t){var n;return AC().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.pineInstance=new sC,e.n=1,this.pineInstance.setData({timestamps:t.map(function(e){return e.timestamp}),open:t.map(function(e){return e.open}),high:t.map(function(e){return e.high}),low:t.map(function(e){return e.low}),close:t.map(function(e){return e.close}),volume:t.map(function(e){return e.volume})});case 1:console.log(" PineScript engine initialized with",t.length,"data points"),e.n=3;break;case 2:throw e.p=2,n=e.v,console.error(" Failed to initialize PineScript engine:",n),n;case 3:return e.a(2)}},e,this,[[0,2]])})),function(e){return o.apply(this,arguments)})},{key:"executeIndicator",value:(r=NC(AC().m(function e(t,n){var r,o,i,a,s,l;return AC().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,console.log(" Executing PineScript indicator:",t.name),console.log(" Script preview:",t.script.substring(0,100)+"..."),!t.name.includes("COG")&&!t.script.includes("COG Double Channel")){e.n=1;break}return e.a(2,this.calculateCOGDoubleChannel(n));case 1:if(!t.name.includes("SMA")&&!t.script.includes("sma(")){e.n=2;break}return o=(null===(r=t.parameters)||void 0===r?void 0:r.length)||20,e.a(2,this.calculateSimpleSMA(n,o));case 2:if(!t.name.includes("RSI")&&!t.script.includes("rsi(")){e.n=3;break}return a=(null===(i=t.parameters)||void 0===i?void 0:i.length)||14,e.a(2,this.calculateRSI(n,a));case 3:return s={plots:[{name:"Plot",values:this.generateMockValues((null==n?void 0:n.length)||1e3,100,200),color:"#2196F3",style:"line",lineWidth:2}],fills:[],shapes:[]},console.log(" PineScript execution completed"),console.log(" Generated",s.plots.length,"plots"),e.a(2,s);case 4:throw e.p=4,l=e.v,console.error(" PineScript execution failed:",l),l;case 5:return e.a(2)}},e,this,[[0,4]])})),function(e,t){return r.apply(this,arguments)})},{key:"calculateCOGDoubleChannel",value:function(e){if(!e||0===e.length)return{plots:[],fills:[],shapes:[]};for(var t=34,n=[],r=[],o=[],i=[],a=[],s=0;s<e.length;s++)if(s<t)n.push(null),r.push(null),o.push(null),i.push(null),a.push(null);else{for(var l=0,c=s-t+1;c<=s;c++)l+=e[c].close;for(var u=l/t,f=0,p=s-t+1;p<=s;p++){var d=e[p].close-u;f+=d*d}for(var h=2.5*Math.sqrt(f/t),y=u+h,m=u-h,g=0,v=Math.max(1,s-t+1);v<=s;v++)g+=Math.max(e[v].high-e[v].low,Math.abs(e[v].high-e[v-1].close),Math.abs(e[v].low-e[v-1].close));var b=g/Math.min(t,s),x=u+2*b,w=u-2*b;n.push(u),r.push(y),o.push(m),i.push(x),a.push(w)}return console.log(" Calculated COG Double Channel with ".concat(n.filter(function(e){return null!==e}).length," valid values")),{plots:[{name:"Median",values:n,color:"#000080",style:"line",lineWidth:1},{name:"BB+",values:r,color:"#ff0000",style:"dashed",lineWidth:1},{name:"BB-",values:o,color:"#008000",style:"dashed",lineWidth:1},{name:"Starc+",values:i,color:"#ff0000",style:"circles",lineWidth:1},{name:"Starc-",values:a,color:"#008000",style:"circles",lineWidth:1}],fills:[{name:"Channel Fill",upperValues:r,lowerValues:o,color:"rgba(255, 0, 0, 0.1)",opacity:.1}],shapes:[]}}},{key:"calculateSimpleSMA",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!e||0===e.length)return{plots:[{name:"SMA",values:[],color:"#2196F3",style:"line",lineWidth:2}],fills:[],shapes:[]};for(var n=[],r=0;r<e.length;r++)if(r<t-1)n.push(null);else{for(var o=0,i=r-t+1;i<=r;i++)o+=e[i].close;var a=o/t;n.push(a)}return console.log(" Calculated SMA(".concat(t,") with ").concat(n.filter(function(e){return null!==e}).length," valid values")),{plots:[{name:"SMA(".concat(t,")"),values:n,color:"#2196F3",style:"line",lineWidth:2}],fills:[],shapes:[]}}},{key:"calculateRSI",value:function(){for(var e=[],t=0;t<1e3;t++)if(t<14)e.push(null);else{var n=50+30*Math.sin(t/30)+10*Math.random()-5;e.push(Math.max(0,Math.min(100,n)))}return{plots:[{name:"RSI",values:e,color:"#9C27B0",style:"line",lineWidth:2}],fills:[],shapes:[]}}},{key:"generateMockValues",value:function(e,t,n){for(var r=[],o=0;o<e;o++){var i=t+.5*(n-t),a=(Math.random()-.5)*(n-t)*.3,s=Math.sin(o/50)*(n-t)*.2;r.push(i+a+s)}return r}},{key:"parseResults",value:function(e){var t=this,n=[],r=[],o=[];return e.plots&&e.plots.forEach(function(e){n.push({name:e.name||"Plot",values:e.values,color:e.color||"#2196F3",style:t.mapPlotStyle(e.style),lineWidth:e.linewidth||1})}),e.fills&&e.fills.forEach(function(e){r.push({name:e.name||"Fill",upperValues:e.upperValues,lowerValues:e.lowerValues,color:e.color||"#E3F2FD",opacity:e.opacity||.2})}),e.shapes&&e.shapes.forEach(function(e){o.push({name:e.name||"Shape",timestamps:e.timestamps,values:e.values,shape:t.mapShapeType(e.shape),color:e.color||"#FF9800",size:e.size||8})}),{plots:n,fills:r,shapes:o}}},{key:"mapPlotStyle",value:function(e){switch(e){case"circles":return"circles";case"cross":return"cross";case"dashed":return"dashed";default:return"line"}}},{key:"mapShapeType",value:function(e){switch(e){case"circle":return"circle";case"square":return"square";default:return"cross"}}},{key:"getBuiltinFunctions",value:function(){return["ta.sma","ta.ema","ta.rsi","ta.macd","ta.bb","ta.crossover","ta.crossunder","ta.highest","ta.lowest","math.abs","math.max","math.min","math.sqrt","math.log","nz","na","barssince","valuewhen","plot","hline","fill"]}},{key:"validateScript",value:(n=NC(AC().m(function e(t){var n;return AC().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,console.log(" Validating PineScript:",t.substring(0,50)+"..."),t.trim()){e.n=1;break}return e.a(2,{valid:!1,errors:["Script cannot be empty"]});case 1:if(t.includes("study(")||t.includes("indicator(")){e.n=2;break}return e.a(2,{valid:!1,errors:["Script must contain a study() or indicator() declaration"]});case 2:return console.log(" Script validation passed (basic checks)"),e.a(2,{valid:!0,errors:[]});case 3:return e.p=3,n=e.v,e.a(2,{valid:!1,errors:[n instanceof Error?n.message:"Unknown parsing error"]})}},e,null,[[0,3]])})),function(e){return n.apply(this,arguments)})}],t&&IC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}(),FC=new RC;function zC(e){return zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zC(e)}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(t){WC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WC(e,t,n){return(t=function(e){var t=function(e){if("object"!=zC(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UC(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return HC(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(HC(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,HC(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,HC(f,"constructor",c),HC(c,"constructor",l),l.displayName="GeneratorFunction",HC(c,o,"GeneratorFunction"),HC(f),HC(f,o,"Generator"),HC(f,r,function(){return this}),HC(f,"toString",function(){return"[object Generator]"}),(UC=function(){return{w:i,m:p}})()}function HC(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}HC=function(e,t,n,r){function i(t,n){HC(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},HC(e,t,n,r)}function YC(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function XC(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){YC(i,r,o,a,s,"next",e)}function s(e){YC(i,r,o,a,s,"throw",e)}a(void 0)})}}function qC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||$C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $C(e,t){if(e){if("string"==typeof e)return GC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GC(e,t):void 0}}function GC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const QC=function(e){var n=e.onIndicatorImported,r=e.onClose,o=e.marketData,i=qC((0,t.useState)(""),2),a=i[0],s=i[1],l=qC((0,t.useState)(""),2),c=l[0],u=l[1],f=qC((0,t.useState)(!1),2),p=f[0],d=f[1],h=qC((0,t.useState)(null),2),y=h[0],m=h[1],g=qC((0,t.useState)([]),2),v=g[0],b=g[1],x={"COG Double Channel":'study("COG Double Channel [LazyBear]", shorttitle="COGChannel_LB", overlay=true)\nsrc = close\nlength = input(34)\nmedian=0\nmult=input(2.5)\noffset = input(20)\n\ntr_custom() => \n    x1=high-low\n    x2=abs(high-close[1])\n    x3=abs(low-close[1])\n    max(x1, max(x2,x3))\n    \natr_custom(x,y) => \n    sma(x,y)\n    \ndev = (mult * stdev(src, length))\nbasis=linreg(src, length, median)\nul = (basis + dev)\nll = (basis - dev)\ntr_v = tr_custom()\nacustom=(2*atr_custom(tr_v, length))\nuls=basis+acustom\nlls=basis-acustom\n\nplot(basis, linewidth=1, color=navy, style=line, linewidth=1, title="Median")\nplot(ul, color=red, linewidth=1, title="BB+", style=dashed)\nplot(ll, color=green, linewidth=1, title="BB-", style=dashed)\nplot(uls, color=red, linewidth=1, title="Starc+", style=circles)\nplot(lls, color=green, linewidth=1, title="Star-", style=circles)',"Simple Moving Average":'study("Simple SMA", overlay=true)\nlength = input(20, title="Length")\nsrc = input(close, title="Source")\nsma_value = sma(src, length)\nplot(sma_value, color=blue, linewidth=2, title="SMA")',"RSI Oscillator":'study("RSI", shorttitle="RSI")\nlength = input(14, title="Length") \nsrc = input(close, title="Source")\nrsi_value = rsi(src, length)\nplot(rsi_value, color=purple, linewidth=2, title="RSI")\nhline(70, "Overbought", color=red)\nhline(30, "Oversold", color=green)'},w=function(){var e=XC(UC().m(function e(){var t,n;return UC().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.trim()){e.n=1;break}return m({valid:!1,errors:["Script cannot be empty"]}),e.a(2);case 1:return d(!0),e.p=2,e.n=3,FC.validateScript(a);case 3:t=e.v,m(t),e.n=5;break;case 4:e.p=4,n=e.v,m({valid:!1,errors:[n instanceof Error?n.message:"Validation failed"]});case 5:return e.p=5,d(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=XC(UC().m(function e(){var t,r,i,l,f;return UC().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.trim()&&c.trim()){e.n=1;break}return e.a(2);case 1:return d(!0),e.p=2,t={name:c,script:a,parameters:{}},o&&o.length>0?(r=o.map(function(e){var t;return{timestamp:(null===(t=e.date)||void 0===t?void 0:t.getTime())||Date.now(),open:e.open||0,high:e.high||0,low:e.low||0,close:e.close||0,volume:e.volume||0}}),console.log(" Passing ".concat(r.length," market data points to indicator calculation"))):console.log(" No market data available for indicator calculation"),e.n=3,FC.executeIndicator(t,r);case 3:i=e.v,l={name:c,script:a,output:i,enabled:!0},b(function(e){return[].concat(function(e){if(Array.isArray(e))return GC(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||$C(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[l]);var t}),n(i,c),s(""),u(""),m(null),e.n=5;break;case 4:e.p=4,f=e.v,m({valid:!1,errors:[f instanceof Error?f.message:"Import failed"]});case 5:return e.p=5,d(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return t.createElement("div",{className:"pinescript-importer-overlay","data-testid":"pinescript-importer"},t.createElement("div",{className:"pinescript-importer-panel"},t.createElement("div",{className:"importer-header"},t.createElement("h3",null," Import PineScript Indicator"),t.createElement("button",{className:"close-button",onClick:r,"data-testid":"importer-close-button"},"")),t.createElement("div",{className:"importer-content"},t.createElement("div",{className:"sample-indicators"},t.createElement("h4",null," Sample Indicators"),t.createElement("div",{className:"sample-buttons"},Object.keys(x).map(function(e){return t.createElement("button",{key:e,className:"sample-button",onClick:function(){return function(e){s(x[e]),u(e),m(null)}(e)},"data-testid":"sample-".concat(e.toLowerCase().replace(/\s+/g,"-"))},e)}))),t.createElement("div",{className:"script-input-section"},t.createElement("h4",null," PineScript Code"),t.createElement("div",{className:"input-group"},t.createElement("label",null,"Indicator Name:"),t.createElement("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)},placeholder:"Enter indicator name","data-testid":"indicator-name-input"})),t.createElement("div",{className:"script-textarea-container"},t.createElement("textarea",{value:a,onChange:function(e){return s(e.target.value)},placeholder:"Paste your PineScript code here...",rows:12,className:"script-textarea","data-testid":"script-textarea"})),t.createElement("div",{className:"script-actions"},t.createElement("button",{onClick:w,disabled:p||!a.trim(),className:"validate-button","data-testid":"validate-button"},p?" Validating...":" Validate Script"),t.createElement("button",{onClick:S,disabled:p||!a.trim()||!c.trim()||y&&!y.valid,className:"import-button","data-testid":"import-button"},p?" Importing...":" Import Indicator"))),y&&t.createElement("div",{className:"validation-result ".concat(y.valid?"valid":"invalid")},y.valid?t.createElement("div",{className:"validation-success"}," Script is valid and ready to import"):t.createElement("div",{className:"validation-errors"},t.createElement("h5",null," Validation Errors:"),t.createElement("ul",null,y.errors.map(function(e,n){return t.createElement("li",{key:n},e)})))),v.length>0&&t.createElement("div",{className:"imported-indicators"},t.createElement("h4",null," Imported Indicators"),t.createElement("div",{className:"indicators-list"},v.map(function(e,n){return t.createElement("div",{key:n,className:"indicator-item ".concat(e.enabled?"enabled":"disabled")},t.createElement("div",{className:"indicator-info"},t.createElement("span",{className:"indicator-name"},e.name),t.createElement("span",{className:"indicator-plots"},e.output.plots.length," plots")),t.createElement("button",{onClick:function(){return function(e){b(function(t){return t.map(function(t,n){return n===e?BC(BC({},t),{},{enabled:!t.enabled}):t})})}(n)},className:"toggle-button","data-testid":"toggle-indicator-".concat(n)},e.enabled?"":""))}))),t.createElement("div",{className:"builtin-functions"},t.createElement("h4",null," Available Functions"),t.createElement("div",{className:"functions-grid"},FC.getBuiltinFunctions().slice(0,12).map(function(e){return t.createElement("span",{key:e,className:"function-tag"},e)}),t.createElement("span",{className:"function-more"},"+",FC.getBuiltinFunctions().length-12," more..."))))))};var ZC=n(931),KC={};KC.styleTagTransform=sb(),KC.setAttributes=rb(),KC.insert=tb().bind(null,"head"),KC.domAPI=Jv(),KC.insertStyleElement=ib(),Zv()(ZC.A,KC),ZC.A&&ZC.A.locals&&ZC.A.locals;const JC=function(e){var n=e.indicators,r=e.onToggleIndicator,o=e.onSettingsClick;return 0===n.length?null:t.createElement("div",{className:"chart-indicators-panel","data-testid":"chart-indicators-panel"},t.createElement("div",{className:"indicators-header"},t.createElement("span",{className:"indicators-title"},"Indicators")),t.createElement("div",{className:"indicators-list"},n.map(function(e,n){return t.createElement("div",{key:n,className:"indicator-row"},t.createElement("button",{className:"indicator-toggle",onClick:function(){return r(n)},"data-testid":"indicator-toggle-".concat(n),title:"Toggle visibility"},e.enabled?"":""),t.createElement("span",{className:"indicator-label ".concat(e.enabled?"":"disabled")},e.name),t.createElement("div",{className:"indicator-controls"},e.color&&t.createElement("span",{className:"indicator-color-dot",style:{backgroundColor:e.color}}),o&&t.createElement("button",{className:"indicator-settings",onClick:function(){return o(n)},"data-testid":"indicator-settings-".concat(n),title:"Settings"},"")))})))};var eO=n(149),tO={};function nO(e){return nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nO(e)}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(t){iO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iO(e,t,n){return(t=function(e){var t=function(e){if("object"!=nO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}tO.styleTagTransform=sb(),tO.setAttributes=rb(),tO.insert=tb().bind(null,"head"),tO.domAPI=Jv(),tO.insertStyleElement=ib(),Zv()(eO.A,tO),eO.A&&eO.A.locals&&eO.A.locals;const sO=function(e){var n,r,o=e.indicatorName,i=e.currentSettings,a=e.onSettingsChange,s=e.onClose,l=(n=(0,t.useState)(i),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return aO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aO(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],f=function(e,t){var n=oO(oO({},c),{},iO({},e,t));u(n)};return t.createElement("div",{className:"indicator-settings-overlay","data-testid":"indicator-settings"},t.createElement("div",{className:"indicator-settings-panel"},t.createElement("div",{className:"settings-header"},t.createElement("h3",null,o),t.createElement("button",{className:"close-button",onClick:s,"data-testid":"settings-close-button"},"")),t.createElement("div",{className:"settings-content"},t.createElement("div",{className:"settings-tabs"},t.createElement("button",{className:"tab-button active"},"Inputs"),t.createElement("button",{className:"tab-button"},"Style"),t.createElement("button",{className:"tab-button"},"Visibility")),t.createElement("div",{className:"settings-form"},o.includes("COG")&&t.createElement(t.Fragment,null,t.createElement("div",{className:"setting-group"},t.createElement("label",null,"Length"),t.createElement("input",{type:"number",value:c.length||34,onChange:function(e){return f("length",parseInt(e.target.value))},"data-testid":"length-input"})),t.createElement("div",{className:"setting-group"},t.createElement("label",null,"Mult"),t.createElement("input",{type:"number",step:"0.1",value:c.mult||2.5,onChange:function(e){return f("mult",parseFloat(e.target.value))},"data-testid":"mult-input"})),t.createElement("div",{className:"setting-group"},t.createElement("label",null,"Offset"),t.createElement("input",{type:"number",value:c.offset||20,onChange:function(e){return f("offset",parseInt(e.target.value))},"data-testid":"offset-input"}))),(o.includes("SMA")||o.includes("RSI"))&&t.createElement(t.Fragment,null,t.createElement("div",{className:"setting-group"},t.createElement("label",null,"Length"),t.createElement("input",{type:"number",value:c.length||(o.includes("RSI")?14:20),onChange:function(e){return f("length",parseInt(e.target.value))},"data-testid":"length-input"})),t.createElement("div",{className:"setting-group"},t.createElement("label",null,"Source"),t.createElement("select",{value:c.source||"close",onChange:function(e){return f("source",e.target.value)},"data-testid":"source-select"},t.createElement("option",{value:"close"},"Close"),t.createElement("option",{value:"open"},"Open"),t.createElement("option",{value:"high"},"High"),t.createElement("option",{value:"low"},"Low"),t.createElement("option",{value:"hl2"},"HL2"),t.createElement("option",{value:"hlc3"},"HLC3"),t.createElement("option",{value:"ohlc4"},"OHLC4")))),t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"checkbox-label"},t.createElement("input",{type:"checkbox",checked:!0,readOnly:!0}),"Inputs in status line")))),t.createElement("div",{className:"settings-footer"},t.createElement("button",{className:"defaults-button",onClick:function(){var e={};o.includes("COG")?e={length:34,mult:2.5,offset:20}:o.includes("SMA")?e={length:20,source:"close"}:o.includes("RSI")&&(e={length:14,source:"close"}),u(e)},"data-testid":"defaults-button"},"Defaults "),t.createElement("div",{className:"action-buttons"},t.createElement("button",{className:"cancel-button",onClick:s,"data-testid":"cancel-button"},"Cancel"),t.createElement("button",{className:"ok-button",onClick:function(){a(c),s()},"data-testid":"ok-button"},"Ok")))))};function lO(e){return lO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lO(e)}function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cO.apply(null,arguments)}function uO(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return fO(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(fO(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fO(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,fO(f,"constructor",c),fO(c,"constructor",l),l.displayName="GeneratorFunction",fO(c,o,"GeneratorFunction"),fO(f),fO(f,o,"Generator"),fO(f,r,function(){return this}),fO(f,"toString",function(){return"[object Generator]"}),(uO=function(){return{w:i,m:p}})()}function fO(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}fO=function(e,t,n,r){function i(t,n){fO(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},fO(e,t,n,r)}function pO(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function dO(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){pO(i,r,o,a,s,"next",e)}function s(e){pO(i,r,o,a,s,"throw",e)}a(void 0)})}}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vO(r.key),r)}}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yO=function(){return!!e})()}function mO(e){return mO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mO(e)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gO(e,t)}function vO(e){var t=function(e){if("object"!=lO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=lO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lO(t)?t:t+""}function bO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DAILY";return function(n){return function(r){function o(t){var n,r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=function(e,t,n){return t=mO(t),function(e,t){if(t&&("object"==lO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yO()?Reflect.construct(t,n||[],mO(e).constructor):t.apply(e,n))}(this,o,[t]),r=n,i="loadData",a=dO(uO().m(function e(){var t,r,o,i,a,s;return uO().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=n.props.symbol||"SNOW",r=n.props.interval||"1day",o=t.replace("_refresh","").replace("_replay_exit","").replace("_reset","").replace("TEMP_RELOAD","SNOW"),n.setState({data:void 0,message:"Loading ".concat(o," (").concat(r,") data..."),currentSymbol:o}),e.p=1,e.n=2,tS(o,r);case 2:if(!((i=e.v)&&i.length>0)){e.n=3;break}return console.log(" Setting new data: ".concat(i.length," items for ").concat(o,"@").concat(r)),console.log(" First data point:",i[0]),console.log(" Last data point:",i[i.length-1]),(a=n.props.onDataLoaded)&&a(i),n.setState({data:i,message:""}),e.a(2);case 3:e.n=5;break;case 4:e.p=4,s=e.v,console.log("Error generating data:",s),n.setState({data:[],message:"No data available for ".concat(o," (").concat(r,"). Please try a different symbol or interval.")});case 5:return e.a(2)}},e,null,[[1,4]])})),(i=vO(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.state={message:"Loading ".concat(e," data...")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}(o,r),i=o,(a=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.symbol||"SNOW",n=this.props.interval||"1day",r=e?e.symbol||"SNOW":null,o=e?e.interval||"1day":null,i=this.props.isReplayMode||!1,a=e&&e.isReplayMode||!1;!e||r===t&&o===n||(console.log(" Data reload triggered: ".concat(r,"@").concat(o,"  ").concat(t,"@").concat(n)),this.loadData()),i&&a&&this.props.replayPosition!==e.replayPosition&&this.forceUpdate()}},{key:"render",value:function(){var e=this.state,r=e.data,o=e.message,i=e.currentSymbol,a=this.props.interval||"1day",s=this.props.isReplayMode||!1,l=this.props.replayPosition||0;if(void 0===r)return t.createElement("div",{className:"center"},o);if(0===r.length)return t.createElement("div",{className:"center"},o||"No data available for ".concat(i," (").concat(a,")"));var c=r;s&&l>0&&(c=r.slice(0,Math.min(l,r.length)));var u="".concat(i,"-").concat(a);return t.createElement(n,cO({},this.props,{data:c,key:u}))}}])&&hO(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a}(t.Component)}}function xO(e){return xO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xO(e)}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(t){_O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kO(e){return function(e){if(Array.isArray(e))return PO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||OO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CO(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=OO(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function OO(e,t){if(e){if("string"==typeof e)return PO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PO(e,t):void 0}}function PO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TO(r.key),r)}}function _O(e,t,n){return(t=TO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TO(e){var t=function(e){if("object"!=xO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xO(t)?t:t+""}hg("%Y-%m-%d");var AO=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_O(this,"features",new Map)},t=[{key:"registerFeature",value:function(e){this.features.set(e.type,e)}},{key:"handleDelete",value:function(e){var t=this;console.log(" Unified delete handler - checking all features...");var n,r=CO(this.features);try{var o,i=function(){var r=EO(n.value,2),o=r[0],i=r[1];if(Array.isArray(i.selectedIndices)&&i.selectedIndices.length>0){console.log("".concat(i.logPrefix," DELETING ").concat(i.displayName,":"),i.selectedIndices);var a=i.items.filter(function(e,t){return!i.selectedIndices.includes(t)});return console.log("".concat(i.logPrefix," OLD count: ").concat(i.items.length," -> NEW count: ").concat(a.length)),i.setItems(a),i.setSelectedIndices([]),{v:{deletionOccurred:!0,newState:t.buildHistoryState(e,o,a)}}}};for(r.s();!(n=r.n()).done;)if(o=i())return o.v}catch(e){r.e(e)}finally{r.f()}return console.log("  No selected items found for deletion"),{deletionOccurred:!1,newState:null}}},{key:"handleSelection",value:function(e,t,n){var r=this.features.get(e);if(!r)return console.warn("Feature ".concat(e," not registered")),[];if(console.log("".concat(r.logPrefix," handleSelection called for ").concat(r.displayName)),console.log("  Interactives received:",t),0===t.length)return[];var o,i=[],a=CO(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(r.findMatchingIndex){for(var l=0;l<r.items.length;l++)if(-1!==r.findMatchingIndex(r.items[l],[s])){i.push(l);break}}else"number"==typeof s.index?s.index<r.items.length&&i.push(s.index):(console.log("  No match found, using last index"),i.push(r.items.length-1))}}catch(e){a.e(e)}finally{a.f()}return console.log("  Selected indices: [".concat(i.join(", "),"]")),r.setSelectedIndices(i),i.length>0&&this.handleDeselectOthers(e),i}},{key:"handleDeselectAll",value:function(){console.log(" Deselecting all interactive features...");var e,t=CO(this.features);try{for(t.s();!(e=t.n()).done;){var n=EO(e.value,2),r=(n[0],n[1]);Array.isArray(r.selectedIndices)&&r.selectedIndices.length>0&&(console.log("".concat(r.logPrefix," Deselecting ").concat(r.displayName," (").concat(r.selectedIndices.length," items)")),r.setSelectedIndices([]))}}catch(e){t.e(e)}finally{t.f()}}},{key:"handleDeselectOthers",value:function(e){console.log(" Deselecting all except ".concat(e,"..."));var t,n=CO(this.features);try{for(n.s();!(t=n.n()).done;){var r=EO(t.value,2),o=r[0],i=r[1];o!==e&&Array.isArray(i.selectedIndices)&&i.selectedIndices.length>0&&(console.log("".concat(i.logPrefix," Deselecting ").concat(i.displayName)),i.setSelectedIndices([]))}}catch(e){n.e(e)}finally{n.f()}}},{key:"getCurrentSelections",value:function(){var e,t={},n=CO(this.features);try{for(n.s();!(e=n.n()).done;){var r=EO(e.value,2),o=r[0],i=r[1];i.selectedIndices.length>0&&(t[o]=kO(i.selectedIndices))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"handleCompletion",value:function(e,t,n,r){var o=this.features.get(e);if(!o)return console.warn("Feature ".concat(e," not registered")),[];console.log("".concat(o.logPrefix," handleCompletion called for ").concat(o.displayName)),console.log("  Previous count: ".concat(o.items.length)),console.log("  New count: ".concat(t.length));var i=[];return t.forEach(function(e,t){!0===e.selected&&i.push(t)}),o.setItems(t),t.length>o.items.length&&(console.log("   New ".concat(o.displayName," added - saving to history")),r(this.buildHistoryState(n,e,t))),i.length>0&&(console.log("   Updating selection to indices: [".concat(i.join(", "),"]")),o.setSelectedIndices(i)),i}},{key:"buildHistoryState",value:function(e,t,n){var r={trendLines:e.trendLines,trendChannels:e.trendChannels,fibonacciRetracements:e.fibonacciRetracements,trianglePatterns:e.trianglePatterns};switch(t){case"trendline":r.trendLines=n;break;case"trendchannel":r.trendChannels=n;break;case"fibonacci":r.fibonacciRetracements=n;break;case"triangle":r.trianglePatterns=n}return r}},{key:"getFeature",value:function(e){return this.features.get(e)}},{key:"getRegisteredFeatures",value:function(){return Array.from(this.features.keys())}},{key:"clearAllSelections",value:function(){var e,t=CO(this.features.values());try{for(t.s();!(e=t.n()).done;)e.value.setSelectedIndices([])}catch(e){t.e(e)}finally{t.f()}}}],t&&jO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function DO(e){return{type:e.type,displayName:e.displayName,pattern:e.pattern,items:e.items,selectedIndices:e.selectedIndices,setItems:e.setItems,setSelectedIndices:e.setSelectedIndices,logPrefix:e.logPrefix,interactionConfig:e.interactionConfig,findMatchingIndex:e.findMatchingIndex,validateItem:e.validateItem}}function MO(e){var t;return DO(SO(SO({},e),{},{pattern:"complex-area",interactionConfig:{usesInteractiveStraightLine:!1,clickDetection:"area-based",usesGenericChartComponent:!0,hasAreaFill:null===(t=e.hasAreaFill)||void 0===t||t,customHoverLogic:!0,areaInteraction:!0}}))}var NO=new AO,IO=n(626),LO={};LO.styleTagTransform=sb(),LO.setAttributes=rb(),LO.insert=tb().bind(null,"head"),LO.domAPI=Jv(),LO.insertStyleElement=ib(),Zv()(IO.A,LO),IO.A&&IO.A.locals&&IO.A.locals;var RO=n(210),FO={};function zO(e){return zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(t){WO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WO(e,t,n){return(t=function(e){var t=function(e){if("object"!=zO(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UO(e){return function(e){if(Array.isArray(e))return QO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HO(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return YO(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(YO(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,YO(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,YO(f,"constructor",c),YO(c,"constructor",l),l.displayName="GeneratorFunction",YO(c,o,"GeneratorFunction"),YO(f),YO(f,o,"Generator"),YO(f,r,function(){return this}),YO(f,"toString",function(){return"[object Generator]"}),(HO=function(){return{w:i,m:p}})()}function YO(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}YO=function(e,t,n,r){function i(t,n){YO(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},YO(e,t,n,r)}function XO(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function qO(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){XO(i,r,o,a,s,"next",e)}function s(e){XO(i,r,o,a,s,"throw",e)}a(void 0)})}}function $O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||GO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GO(e,t){if(e){if("string"==typeof e)return QO(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QO(e,t):void 0}}function QO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}FO.styleTagTransform=sb(),FO.setAttributes=rb(),FO.insert=tb().bind(null,"head"),FO.domAPI=Jv(),FO.insertStyleElement=ib(),Zv()(RO.A,FO),RO.A&&RO.A.locals&&RO.A.locals;var ZO=bO()(Mm),KO=bO()(Gv);const JO=function(){var e,n,r=$O((0,t.useState)(function(){return window.location.search.includes("demo=mcp")}),2),o=r[0],i=r[1],a=$O((0,t.useState)(function(){var e=localStorage.getItem("chartRefreshSymbol");return e?(localStorage.removeItem("chartRefreshSymbol"),e):"SNOW"}),2),s=a[0],l=a[1],c=$O((0,t.useState)(function(){var e=localStorage.getItem("chartRefreshInterval");return e?(localStorage.removeItem("chartRefreshInterval"),e):"1day"}),2),u=c[0],f=c[1],p=$O((0,t.useState)(null),2),d=p[0],h=p[1],y=$O((0,t.useState)(!1),2),m=y[0],g=y[1],v=$O((0,t.useState)(!1),2),b=v[0],x=v[1],w=$O((0,t.useState)(!1),2),S=w[0],k=w[1],E=$O((0,t.useState)(!1),2),C=E[0],O=E[1],P=$O((0,t.useState)([]),2),j=P[0],_=P[1],T=$O((0,t.useState)([]),2),A=T[0],D=T[1],M=$O((0,t.useState)([]),2),N=M[0],I=M[1],L=$O((0,t.useState)([]),2),R=L[0],F=L[1],z=$O((0,t.useState)([]),2),V=z[0],B=z[1],W=$O((0,t.useState)([]),2),U=W[0],H=W[1],Y=$O((0,t.useState)([]),2),X=Y[0],q=Y[1],$=$O((0,t.useState)([]),2),G=$[0],Q=$[1],Z=$O((0,t.useState)([]),2),K=Z[0],J=Z[1],ee=$O((0,t.useState)([]),2),te=ee[0],ne=ee[1],re=$O((0,t.useState)([]),2),oe=re[0],ie=re[1],ae=$O((0,t.useState)([]),2),se=ae[0],le=ae[1],ce=$O((0,t.useState)([]),2),ue=ce[0],fe=ce[1],pe=$O((0,t.useState)([]),2),de=pe[0],he=pe[1],ye=$O((0,t.useState)(null),2),me=ye[0],ge=ye[1];t.useEffect(function(){console.log(" Registering interactive features with unified manager..."),NO.registerFeature(DO(SO(SO({},{type:"trendline",displayName:"TrendLines",items:j,selectedIndices:G,setItems:_,setSelectedIndices:Q,logPrefix:"",findMatchingIndex:function(e,t){var n,r,o,i,a,s,l,c,u=t[0];return(null===(n=e.start)||void 0===n?void 0:n[0])===(null===(r=u.start)||void 0===r?void 0:r[0])&&(null===(o=e.start)||void 0===o?void 0:o[1])===(null===(i=u.start)||void 0===i?void 0:i[1])&&(null===(a=e.end)||void 0===a?void 0:a[0])===(null===(s=u.end)||void 0===s?void 0:s[0])&&(null===(l=e.end)||void 0===l?void 0:l[1])===(null===(c=u.end)||void 0===c?void 0:c[1])?0:-1}}),{},{pattern:"simple-line",interactionConfig:{usesInteractiveStraightLine:!0,clickDetection:"line-only",usesGenericChartComponent:!1,hasAreaFill:!1,customHoverLogic:!1,areaInteraction:!1}}))),NO.registerFeature(MO({type:"trendchannel",displayName:"Trend Channels",items:A,selectedIndices:K,setItems:D,setSelectedIndices:J,logPrefix:"",hasAreaFill:!0})),NO.registerFeature(MO({type:"fibonacci",displayName:"Fibonacci Retracements",items:N,selectedIndices:te,setItems:I,setSelectedIndices:ne,logPrefix:"",hasAreaFill:!1})),NO.registerFeature(MO({type:"triangle",displayName:"Triangle Patterns",items:R,selectedIndices:oe,setItems:F,setSelectedIndices:ie,logPrefix:"",hasAreaFill:!0})),console.log(" Interactive features registered:",NO.getRegisteredFeatures())},[]),t.useEffect(function(){var e=NO.getFeature("trendline");e&&(e.items=j,e.selectedIndices=G)},[j,G]),t.useEffect(function(){var e=NO.getFeature("trendchannel");e&&(e.items=A,e.selectedIndices=K)},[A,K]),t.useEffect(function(){var e=NO.getFeature("fibonacci");e&&(e.items=N,e.selectedIndices=te)},[N,te]),t.useEffect(function(){var e=NO.getFeature("triangle");e&&(e.items=R,e.selectedIndices=oe)},[R,oe]);var ve=$O((0,t.useState)([{trendLines:[],trendChannels:[],fibonacciRetracements:[],trianglePatterns:[],labels:[]}]),2),be=ve[0],xe=ve[1],we=$O((0,t.useState)(0),2),Se=we[0],ke=we[1],Ee=$O((0,t.useState)(!1),2),Ce=Ee[0],Oe=Ee[1],Pe=$O((0,t.useState)(!1),2),je=Pe[0],_e=Pe[1],Te=$O((0,t.useState)(0),2),Ae=Te[0],De=Te[1],Me=$O((0,t.useState)(1),2),Ne=Me[0],Ie=Me[1],Le=$O((0,t.useState)([]),2),Re=Le[0],Fe=Le[1],ze=$O((0,t.useState)(null),2),Ve=ze[0],Be=ze[1],We=t.useRef(null),Ue=$O((0,t.useState)(null),2),He=Ue[0],Ye=Ue[1],Xe=$O((0,t.useState)({ema10:!1,ema12:!0,ema26:!0,ema50:!1,ema200:!1,sma10:!1,sma50:!1,sma200:!1,bollingerBands:!1,elderRay:!0,volume:!0}),2),qe=Xe[0],$e=Xe[1],Ge=$O((0,t.useState)(!1),2),Qe=Ge[0],Ze=Ge[1],Ke=$O((0,t.useState)("candlestick"),2),Je=Ke[0],et=Ke[1],tt=$O((0,t.useState)(!1),2),nt=tt[0],rt=tt[1],ot=$O((0,t.useState)(!1),2),it=ot[0],at=ot[1],st=$O((0,t.useState)(1.03),2),lt=st[0],ct=st[1],ut=$O((0,t.useState)("et"),2),ft=ut[0],pt=ut[1],dt=(0,t.useCallback)(function(){var e=qO(HO().m(function e(t){var n,r,o,i,a;return HO().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=t.replace("_refresh","").replace("_replay_exit","").replace("_reset","").replace("TEMP_RELOAD","SNOW"),e.n=1,fetch("http://localhost:3001/api/symbols/".concat(n,"/refresh"),{method:"POST"});case 1:if(!(r=e.v).ok){e.n=3;break}return e.n=2,r.json();case 2:o=e.v,alert(" Successfully refreshed data for ".concat(n,". Fetched ").concat(o.totalDataPoints," data points from Yahoo Finance. The chart will reload with fresh data.")),localStorage.setItem("chartRefreshSymbol",n),localStorage.setItem("chartRefreshInterval",u),setTimeout(function(){window.location.reload()},100),e.n=5;break;case 3:return e.n=4,r.text();case 4:i=e.v,alert(" Failed to refresh data for ".concat(n,": ").concat(i));case 5:e.n=7;break;case 6:e.p=6,a=e.v,alert(" Error refreshing data: ".concat(a));case 7:return e.a(2)}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),[s]),ht=$O((0,t.useState)(!1),2),yt=ht[0],mt=ht[1],gt=$O((0,t.useState)([]),2),vt=gt[0],bt=gt[1],xt=$O((0,t.useState)(null),2),wt=xt[0],St=xt[1],kt=$O((0,t.useState)([]),2),Et=kt[0],Ct=kt[1],Ot=$O((0,t.useState)(100),2),Pt=Ot[0],jt=Ot[1],_t=$O((0,t.useState)(150),2),Tt=_t[0],At=_t[1],Dt=$O((0,t.useState)(.1),2),Mt=Dt[0],Nt=Dt[1];t.useEffect(function(){console.log(" TrendLines state changed. New count:",j.length),j.forEach(function(e,t){console.log("  Line ".concat(t,":"),e.start,"->",e.end)})},[j]);var It=(0,t.useCallback)(function(e){console.log(" Saving to history:",e),xe(function(t){var n=t.slice(0,Se+1);return n.push(e),n.length>50?n.slice(-50):n}),ke(function(e){return e+1})},[Se]),Lt=(0,t.useCallback)(function(){if(Se>0){console.log(" Undo: Moving from history index",Se,"to",Se-1);var e=be[Se-1];_(e.trendLines),D(e.trendChannels),I(e.fibonacciRetracements),F(e.trianglePatterns),ke(Se-1),Q([]),J([]),ne([]),ie([]),ge(null)}else console.log(" Cannot undo: Already at the beginning of history")},[be,Se]),Rt=(0,t.useCallback)(function(){if(Se<be.length-1){console.log(" Redo: Moving from history index",Se,"to",Se+1);var e=be[Se+1];_(e.trendLines),D(e.trendChannels),I(e.fibonacciRetracements),F(e.trianglePatterns),ke(Se+1),Q([]),J([]),ne([]),ie([]),ge(null)}else console.log(" Cannot redo: Already at the end of history")},[be,Se]),Ft=function(e,t){var n={trendLines:j,trendChannels:A,fibonacciRetracements:N,trianglePatterns:R,labels:V},r=n[zt(e)].length,o=NO.handleCompletion(e,t,n,It);if(t.length>r){switch(console.log(" New ".concat(e," added - auto-switching to cursor mode")),e){case"trendline":g(!1);break;case"trendchannel":x(!1);break;case"fibonacci":k(!1);break;case"triangle":O(!1)}h(null),console.log(" Auto-switched to cursor mode after drawing ".concat(e))}else console.log(" This was a drag/modify operation for ".concat(e,", not switching tools"));return o},zt=function(e){switch(e){case"trendline":return"trendLines";case"trendchannel":return"trendChannels";case"fibonacci":return"fibonacciRetracements";case"triangle":return"trianglePatterns";default:throw new Error("Unknown feature type: ".concat(e))}},Vt=function(e,t){var n={trendLines:j,trendChannels:A,fibonacciRetracements:N,trianglePatterns:R,labels:V},r=NO.handleSelection(e,t,n);return r.length>0&&ge({type:e,index:r[0]}),r},Bt=function(){console.log(" Exiting replay mode"),Oe(!1),_e(!1),De(0),We.current&&(clearInterval(We.current),We.current=null),He?(console.log(" Restoring pre-replay drawings:",He),_(He.trendLines),I(He.fibonacciRetracements),F(He.trianglePatterns),Ye(null)):console.log(" No pre-replay drawings to restore"),l(s+"_replay_exit"),setTimeout(function(){l(s.replace("_replay_exit",""))},0)},Wt=function(){console.log(" Playing replay"),_e(!0);var e=200,t=1;Ne<=2?(e=1e3/Ne,t=1):(e=100,t=Math.max(1,Math.round(Ne/2))),console.log(" Replay speed: ".concat(Ne,"x (").concat(e,"ms interval, ").concat(t," steps/tick)")),We.current=setInterval(function(){De(function(e){var n=e+t,r=Ve||Re.length;return n>=r?(Ut(),r):n})},e)},Ut=function(){console.log(" Pausing replay"),_e(!1),We.current&&(clearInterval(We.current),We.current=null)},Ht=function(){De(function(e){return Math.min(e+1,Re.length)})},Yt=function(){De(function(e){return Math.max(e-1,1)})},Xt=function(e){Ie(e),je&&(Ut(),setTimeout(function(){return Wt()},0))},qt=(0,t.useCallback)(function(){var e=qO(HO().m(function e(t,n){var r;return HO().w(function(e){for(;;)switch(e.n){case 0:r={},n.includes("COG")?r={length:34,mult:2.5,offset:20}:n.includes("SMA")?r={length:20,source:"close"}:n.includes("RSI")&&(r={length:14,source:"close"}),bt(function(e){return[].concat(UO(e),[{name:n,output:t,enabled:!0,settings:r}])}),console.log(" Indicator imported successfully:",n),console.log(" Output:",t);case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[]),$t=(0,t.useCallback)(function(e){bt(function(t){return t.map(function(t,n){return n===e?BO(BO({},t),{},{enabled:!t.enabled}):t})})},[]),Gt=(0,t.useCallback)(function(e){St(e)},[]),Qt=(0,t.useCallback)(function(e){null!==wt&&bt(function(t){return t.map(function(t,n){return n===wt?BO(BO({},t),{},{settings:BO(BO({},t.settings),e)}):t})})},[wt]),Zt=(0,t.useCallback)(function(){St(null)},[]),Kt=t.useRef(0),Jt=t.useRef(s),en=t.useRef(u);t.useEffect(function(){var e=Et.length!==Kt.current,t=s!==Jt.current,n=u!==en.current;if(Et.length>0&&vt.length>0&&(e||t||n)){console.log(" Recalculating indicators due to data change"),console.log("  - Chart data points: ".concat(Et.length)),console.log("  - Indicators to recalculate: ".concat(vt.length)),console.log("  - Symbol: ".concat(s,", Interval: ").concat(u));var r=function(){var e=qO(HO().m(function e(){var t,n;return HO().w(function(e){for(;;)switch(e.n){case 0:return t=UO(vt),e.n=1,Promise.all(t.map(function(){var e=qO(HO().m(function e(t){var n,r,o,i;return HO().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=Et.map(function(e){var t;return{timestamp:(null===(t=e.date)||void 0===t?void 0:t.getTime())||Date.now(),open:e.open||0,high:e.high||0,low:e.low||0,close:e.close||0,volume:e.volume||0}}),r={name:t.name,script:"",parameters:t.settings||{}},e.n=1,FC.executeIndicator(r,n);case 1:return o=e.v,console.log(" Recalculated ".concat(t.name," with ").concat(n.length," data points")),e.a(2,BO(BO({},t),{},{output:o}));case 2:return e.p=2,i=e.v,console.error(" Failed to recalculate ".concat(t.name,":"),i),e.a(2,t)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()));case 1:n=e.v,bt(n),console.log(" All indicators recalculated successfully");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();r(),Kt.current=Et.length,Jt.current=s,en.current=u}},[Et,s,u,vt.length]),t.useEffect(function(){var e=function(e){var t=e.target;!Qe||t.closest(".indicators-panel")||t.closest(".indicators-button")||Ze(!1),!nt||t.closest(".chart-type-panel")||t.closest(".chart-type-button")||rt(!1),!it||t.closest(".settings-panel")||t.closest('[title="Settings"]')||at(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[Qe,nt,it]);var tn=t.useRef({selectedTrendLines:G,selectedFibs:te,selectedTriangles:oe,selectedChannels:K,lastSelectedObject:me,trendLines:j,fibonacciRetracements:N,trianglePatterns:R,trendChannels:A});t.useEffect(function(){tn.current={selectedTrendLines:G,selectedFibs:te,selectedTriangles:oe,selectedChannels:K,lastSelectedObject:me,trendLines:j,fibonacciRetracements:N,trianglePatterns:R,trendChannels:A}}),t.useEffect(function(){var e=function(e){var t=tn.current;if(t&&Array.isArray(t.trendLines)&&Array.isArray(t.fibonacciRetracements)&&Array.isArray(t.trianglePatterns)&&Array.isArray(t.trendChannels)&&Array.isArray(t.labels)){if((e.metaKey||e.ctrlKey)&&"z"===e.key)return e.preventDefault(),void(e.shiftKey?(console.log(" Redo keyboard shortcut detected"),Rt()):(console.log(" Undo keyboard shortcut detected"),Lt()));if(Ce){if(" "===e.key)return e.preventDefault(),void(je?Ut():Wt());if("ArrowLeft"===e.key)return e.preventDefault(),void Yt();if("ArrowRight"===e.key)return e.preventDefault(),void Ht();if("Escape"===e.key)return e.preventDefault(),void Bt();if(e.key>="1"&&e.key<="5"){e.preventDefault();var n=parseInt(e.key)-1;return void Xt([.5,1,2,5,10][n])}}if("Escape"===e.key){if(Ce)return void Oe(!1);console.log(" Escape key pressed - deselecting all features"),NO.handleDeselectAll(),ge(null)}if("Delete"===e.key||"Backspace"===e.key){console.log(" Delete key pressed - using unified handler"),console.log("  Current selections:",NO.getCurrentSelections());var r=NO.handleDelete(t),o=r.deletionOccurred,i=r.newState;o&&i?(console.log("   Deletion occurred - saving to history"),ge(null),It(i)):console.log("  No items selected for deletion")}}else console.log(" handleKeyDown: currentState or arrays not ready, skipping")};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[Lt,Rt,It]);var nn=(0,t.useCallback)(function(){console.log(" Unified deselect all called"),NO.handleDeselectAll(),ge(null)},[NO]);return o?t.createElement("div",{style:{height:"100vh",background:"#131722"}},t.createElement("div",{style:{padding:"10px",background:"#1e222d",color:"#d1d4dc",borderBottom:"1px solid #2a2e39"}},t.createElement("button",{onClick:function(){return i(!1)},style:{padding:"5px 10px",background:"#2962ff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",marginRight:"10px"}},"Exit Demo Mode"),t.createElement("strong",null,"MCP TrendLine Integration Demo")),t.createElement(KO,{symbol:s})):t.createElement("div",{className:"app-container"},t.createElement(uS,{currentSymbol:s,onSymbolChange:function(e){console.log(" Symbol changed to:",e),l(e),_([]),I([]),F([]),Q([]),ne([]),ie([]),ge(null),xe([{trendLines:[],trendChannels:[],fibonacciRetracements:[],trianglePatterns:[],labels:[]}]),ke(0)},currentInterval:u,onIntervalChange:function(e){console.log(" Interval changed to:",e),f(e),xe([{trendLines:[],trendChannels:[],fibonacciRetracements:[],trianglePatterns:[],labels:[]}]),ke(0)},onUndo:Lt,onRedo:Rt,onReplay:function(){console.log(" Starting replay mode");var e={trendLines:UO(j),fibonacciRetracements:UO(N),trianglePatterns:UO(R)};Ye(e),console.log(" Saved drawings before replay:",e),Oe(!0),_e(!1),_([]),I([]),F([]),De(Math.min(50,Re.length))},onIndicatorsClick:function(){Ze(!Qe)},onChartTypeClick:function(){rt(!nt)},onSettingsClick:function(){at(!it)},onPineScriptImport:function(){mt(!0)}}),t.createElement(Cb,{currentTool:d,onToolSelect:function(e){h(e);var t=e&&["trendline","ray","extendedline","infoline","horizontalline","horizontalray","verticalline"].includes(e);g(t),x("trendchannel"===e),k("fibonacci"===e),O("patterns"===e)}}),t.createElement("div",{className:"price-info-area","data-testid":"price-info-area",style:{padding:"4px 8px",fontSize:"12px",color:"#666",borderBottom:"1px solid #eee"}},"Symbol: ",s," | Last Price: $229.33 | Range: $227.84 - $236.50"),t.createElement("div",{className:"chart-container","data-testid":"main-chart-container"},vt.length>0&&t.createElement(JC,{indicators:vt.map(function(e){var t;return{name:e.name,enabled:e.enabled,color:null===(t=e.output.plots[0])||void 0===t?void 0:t.color}}),onToggleIndicator:$t,onSettingsClick:Gt}),t.createElement(ZO,{symbol:s,interval:u,dateTimeFormat:u.includes("min")?"et"===ft?"%b %d %I:%M %p":"utc"===ft?"%b %d %H:%M UTC":"%b %d %I:%M %p":"%d %b",displayTimezone:ft,currentTool:d,enableTrendLine:m,enableTrendChannel:b,enableFibonacci:S,enablePatterns:C,trendLines:j,trendChannels:A,fibonacciRetracements:N,trianglePatterns:R,labels:V,horizontalLines:U,horizontalRays:X,selectedTrendLines:G,selectedChannels:K,selectedFibs:te,selectedTriangles:oe,selectedLabels:se,selectedHorizontalLines:ue,selectedHorizontalRays:de,onTrendLineComplete:function(e){Ft("trendline",e)},onTrendChannelComplete:function(e){Ft("trendchannel",e)},onFibonacciComplete:function(e){Ft("fibonacci",e)},onTriangleComplete:function(e){Ft("triangle",e)},onLabelComplete:function(e){console.log(" Label completion:",e),B(e)},onHorizontalLineComplete:function(e){console.log(" Horizontal line completion:",e),H(e),It({trendLines:j,trendChannels:A,fibonacciRetracements:N,trianglePatterns:R,labels:V}),e.length>U.length&&(g(!1),h(null),console.log(" Auto-switched to cursor mode after drawing horizontal line"))},onHorizontalRayComplete:function(e){console.log(" Horizontal ray completion:",e),q(e),It({trendLines:j,trendChannels:A,fibonacciRetracements:N,trianglePatterns:R,labels:V}),e.length>X.length&&(g(!1),h(null),console.log(" Auto-switched to cursor mode after drawing horizontal ray"))},onTrendLineSelect:function(e,t){Vt("trendline",t)},onTrendChannelSelect:function(e,t){Vt("trendchannel",t)},onFibonacciSelect:function(e,t){Vt("fibonacci",t)},onTriangleSelect:function(e,t){Vt("triangle",t)},onLabelSelect:function(e,t){console.log(" Label selection:",t);var n=t.map(function(e,t){return t});le(n)},onHorizontalLineSelect:function(e,t){if(console.log(" Horizontal line selection:",t),t&&t.length>0){var n=t[0],r=U.findIndex(function(e){var t,r,o,i,a,s,l,c;return(null===(t=e.start)||void 0===t?void 0:t[0])===(null===(r=n.start)||void 0===r?void 0:r[0])&&(null===(o=e.start)||void 0===o?void 0:o[1])===(null===(i=n.start)||void 0===i?void 0:i[1])&&(null===(a=e.end)||void 0===a?void 0:a[0])===(null===(s=n.end)||void 0===s?void 0:s[0])&&(null===(l=e.end)||void 0===l?void 0:l[1])===(null===(c=n.end)||void 0===c?void 0:c[1])});r>=0&&(fe([r]),console.log(" Selected horizontal line at index ".concat(r)))}else fe([])},onHorizontalRaySelect:function(e,t){if(console.log(" Horizontal ray selection:",t),t&&t.length>0){var n=t[0],r=X.findIndex(function(e){var t,r,o,i,a,s,l,c;return(null===(t=e.start)||void 0===t?void 0:t[0])===(null===(r=n.start)||void 0===r?void 0:r[0])&&(null===(o=e.start)||void 0===o?void 0:o[1])===(null===(i=n.start)||void 0===i?void 0:i[1])&&(null===(a=e.end)||void 0===a?void 0:a[0])===(null===(s=n.end)||void 0===s?void 0:s[0])&&(null===(l=e.end)||void 0===l?void 0:l[1])===(null===(c=n.end)||void 0===c?void 0:c[1])});r>=0&&(he([r]),console.log(" Selected horizontal ray at index ".concat(r)))}else he([])},onDeselectAll:nn,onRefresh:function(){console.log(" Resetting chart to default view..."),l(s+"_reset"),setTimeout(function(){l(s)},10),Nt(.1),console.log(" Chart view reset to default. Drawings and data preserved.")},isReplayMode:Ce,replayPosition:Ae,fullData:Re,onDataLoaded:function(e){Fe(e),Ct(e)},enabledIndicators:qe,chartType:Je,zoomMultiplier:lt,elderRayHeight:Pt,volumeHeight:Tt,onElderRayHeightChange:jt,onVolumeHeightChange:At,yAxisPadding:Mt,onYAxisPaddingChange:Nt,importedIndicators:vt.filter(function(e){return e.enabled})})),Ce&&t.createElement(dS,{isPlaying:je,replayPosition:Ae,totalBars:Re.length,replaySpeed:Ne,data:Re,replayEndPosition:Ve,onPlay:Wt,onPause:Ut,onStepForward:Ht,onStepBackward:Yt,onSpeedChange:Xt,onPositionChange:De,onDateSelect:De,onEndDateSelect:function(e){console.log(" End date selected, position:",e),Be(e),Ae>e&&De(e)},onClearEndDate:function(){console.log(" Clearing end date"),Be(null)},onExit:Bt}),Qe&&t.createElement(mS,{enabledIndicators:qe,onToggleIndicator:function(e){$e(function(t){return BO(BO({},t),{},WO({},e,!t[e]))})},onClose:function(){return Ze(!1)}}),nt&&t.createElement(bS,{currentChartType:Je,onChartTypeSelect:function(e){et(e),rt(!1)},onClose:function(){return rt(!1)}}),it&&t.createElement(SS,{zoomMultiplier:lt,onZoomMultiplierChange:function(e){ct(e)},displayTimezone:ft,onTimezoneChange:pt,currentSymbol:s,onRefreshSymbolData:dt,onClose:function(){return at(!1)}}),yt&&t.createElement(QC,{onIndicatorImported:qt,onClose:function(){mt(!1)},marketData:Et}),null!==wt&&t.createElement(sO,{indicatorName:(null===(e=vt[wt])||void 0===e?void 0:e.name)||"",currentSettings:(null===(n=vt[wt])||void 0===n?void 0:n.settings)||{},onSettingsChange:Qt,onClose:Zt}))};var eP=n(523),tP={};tP.styleTagTransform=sb(),tP.setAttributes=rb(),tP.insert=tb().bind(null,"head"),tP.domAPI=Jv(),tP.insertStyleElement=ib(),Zv()(eP.A,tP),eP.A&&eP.A.locals&&eP.A.locals,r.createRoot(document.getElementById("root")).render(t.createElement(JO,null))})()})();