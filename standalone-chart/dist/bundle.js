/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={20:(e,t,n)=>{"use strict";var r=n(540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,f="".concat(c," ").concat(u);i[c]=u+1;var p=n(f),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=o(d,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},210:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".pinescript-importer-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.pinescript-importer-panel {\n  background: white;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 900px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n}\n\n.importer-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #f8f9fa;\n  border-radius: 8px 8px 0 0;\n}\n\n.importer-header h3 {\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  color: #666;\n}\n\n.close-button:hover {\n  background: #e0e0e0;\n  color: #333;\n}\n\n.importer-content {\n  padding: 20px;\n}\n\n/* Sample Indicators */\n.sample-indicators {\n  margin-bottom: 24px;\n}\n\n.sample-indicators h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.sample-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.sample-button {\n  background: #e3f2fd;\n  border: 1px solid #2196f3;\n  color: #1976d2;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s ease;\n}\n\n.sample-button:hover {\n  background: #2196f3;\n  color: white;\n}\n\n/* Script Input */\n.script-input-section {\n  margin-bottom: 24px;\n}\n\n.script-input-section h4 {\n  margin: 0 0 16px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.input-group {\n  margin-bottom: 16px;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: 4px;\n  font-weight: 500;\n  color: #333;\n}\n\n.input-group input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.script-textarea-container {\n  margin-bottom: 16px;\n}\n\n.script-textarea {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 13px;\n  line-height: 1.4;\n  resize: vertical;\n  min-height: 200px;\n}\n\n.script-textarea:focus {\n  outline: none;\n  border-color: #2196f3;\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);\n}\n\n.script-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.validate-button,\n.import-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.validate-button {\n  background: #f0f0f0;\n  color: #333;\n  border: 1px solid #ddd;\n}\n\n.validate-button:hover:not(:disabled) {\n  background: #e0e0e0;\n}\n\n.import-button {\n  background: #4caf50;\n  color: white;\n}\n\n.import-button:hover:not(:disabled) {\n  background: #45a049;\n}\n\n.validate-button:disabled,\n.import-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Validation Results */\n.validation-result {\n  margin: 16px 0;\n  padding: 12px;\n  border-radius: 4px;\n}\n\n.validation-result.valid {\n  background: #e8f5e8;\n  border: 1px solid #4caf50;\n}\n\n.validation-result.invalid {\n  background: #ffebee;\n  border: 1px solid #f44336;\n}\n\n.validation-success {\n  color: #2e7d32;\n  font-weight: 500;\n}\n\n.validation-errors {\n  color: #c62828;\n}\n\n.validation-errors h5 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n}\n\n.validation-errors ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.validation-errors li {\n  margin-bottom: 4px;\n  font-size: 13px;\n}\n\n/* Imported Indicators */\n.imported-indicators {\n  margin-bottom: 24px;\n}\n\n.imported-indicators h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.indicators-list {\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n}\n\n.indicator-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e0e0e0;\n  transition: background-color 0.2s ease;\n}\n\n.indicator-item:last-child {\n  border-bottom: none;\n}\n\n.indicator-item.enabled {\n  background: #f8f9fa;\n}\n\n.indicator-item.disabled {\n  background: #f5f5f5;\n  opacity: 0.7;\n}\n\n.indicator-info {\n  flex: 1;\n}\n\n.indicator-name {\n  display: block;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 2px;\n}\n\n.indicator-plots {\n  display: block;\n  font-size: 12px;\n  color: #666;\n}\n\n.toggle-button {\n  background: none;\n  border: none;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 4px;\n}\n\n/* Built-in Functions */\n.builtin-functions h4 {\n  margin: 0 0 12px 0;\n  color: #333;\n  font-size: 16px;\n}\n\n.functions-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.function-tag {\n  background: #f5f5f5;\n  color: #666;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-family: monospace;\n}\n\n.function-more {\n  background: #e0e0e0;\n  color: #888;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-style: italic;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .pinescript-importer-panel {\n    width: 95%;\n    margin: 20px;\n  }\n  \n  .script-actions {\n    flex-direction: column;\n  }\n  \n  .sample-buttons {\n    flex-direction: column;\n  }\n}",""]);const s=a},267:e=>{"use strict";e.exports="data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23868993%27 stroke-width=%272%27%3e%3cpath d=%27M6 9l6 6 6-6%27/%3e%3c/svg%3e"},287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,y(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+_(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(O,"$&/")+"/"),j(a,t,o,"",function(e){return e})):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(s=e[c],c);l+=j(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=j(s=s.value,t,o,u=i+_(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",function(e){return t.call(n,e,o++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},338:(e,t,n)=>{"use strict";var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},383:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(417),l=n.n(s),c=new URL(n(267),n.b),u=a()(o()),f=l()(c);u.push([e.id,`.header-toolbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 44px;\n  background: #1e222d;\n  border-bottom: 1px solid #2a2e39;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 12px;\n  z-index: 1002;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n/* Symbol Search Area */\n.symbol-search-area {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.search-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.search-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n.symbol-display {\n  padding: 4px 8px;\n  cursor: pointer;\n}\n\n.current-symbol {\n  color: #d1d4dc;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n/* Search Dropdown */\n.symbol-search-dropdown {\n  position: absolute;\n  top: calc(100% + 8px);\n  left: 0;\n  width: 320px;\n  background: #1e222d;\n  border: 1px solid #2a2e39;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n}\n\n.search-input-wrapper {\n  padding: 12px;\n  border-bottom: 1px solid #2a2e39;\n  background: #131722;\n}\n\n.symbol-search-input {\n  width: 100%;\n  background: transparent;\n  border: none;\n  outline: none;\n  color: #d1d4dc;\n  font-size: 14px;\n  padding: 4px;\n}\n\n.symbol-search-input::placeholder {\n  color: #5d606b;\n}\n\n.symbol-results {\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.symbol-result-item {\n  padding: 10px 12px;\n  cursor: pointer;\n  transition: background 0.2s;\n  border-bottom: 1px solid rgba(42, 46, 57, 0.5);\n}\n\n.symbol-result-item:hover {\n  background: rgba(41, 98, 255, 0.1);\n}\n\n.symbol-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 4px;\n}\n\n.symbol-ticker {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.symbol-exchange {\n  color: #5d606b;\n  font-size: 11px;\n  padding: 2px 4px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 2px;\n}\n\n.symbol-name {\n  color: #868993;\n  font-size: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.symbol-type {\n  color: #606060;\n  font-size: 10px;\n  padding: 1px 3px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: 2px;\n  margin-left: 4px;\n}\n\n.loading-message, .no-results {\n  padding: 8px 12px;\n  color: #868993;\n  font-size: 13px;\n  text-align: center;\n}\n\n/* Toolbar Separator */\n.toolbar-separator {\n  width: 1px;\n  height: 24px;\n  background: #2a2e39;\n  margin: 0 4px;\n}\n\n/* Time Interval Dropdown */\n.time-interval-dropdown {\n  position: relative;\n}\n\n.interval-select {\n  background: #1e222d;\n  border: 1px solid #2a2e39;\n  color: #d1d4dc;\n  padding: 6px 24px 6px 10px;\n  font-size: 13px;\n  border-radius: 4px;\n  cursor: pointer;\n  outline: none;\n  appearance: none;\n  background-image: url(${f});\n  background-repeat: no-repeat;\n  background-position: right 6px center;\n  background-size: 16px;\n  min-width: 60px;\n  transition: all 0.2s;\n}\n\n.interval-select:hover {\n  border-color: #434651;\n  background-color: #242935;\n}\n\n.interval-select:focus {\n  border-color: #2962ff;\n  background-color: #242935;\n}\n\n.interval-select option {\n  background: #1e222d;\n  color: #d1d4dc;\n  padding: 4px;\n}\n\n.interval-select optgroup {\n  background: #1e222d;\n  color: #868993;\n  font-weight: bold;\n  font-size: 12px;\n}\n\n.interval-select optgroup option {\n  background: #242935;\n  color: #d1d4dc;\n  font-weight: normal;\n  padding-left: 8px;\n}\n\n/* Chart Type Button */\n.chart-type-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.chart-type-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n/* Indicators Button */\n.indicators-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.indicators-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n.pinescript-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.pinescript-button:hover {\n  background: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n}\n\n/* Header Icon Buttons */\n.header-icon-button {\n  background: transparent;\n  border: none;\n  color: #868993;\n  padding: 6px 10px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.header-icon-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  color: #d1d4dc;\n}\n\n/* Scrollbar */\n.symbol-results::-webkit-scrollbar {\n  width: 6px;\n}\n\n.symbol-results::-webkit-scrollbar-track {\n  background: #131722;\n}\n\n.symbol-results::-webkit-scrollbar-thumb {\n  background: #2a2e39;\n  border-radius: 3px;\n}\n\n.symbol-results::-webkit-scrollbar-thumb:hover {\n  background: #3a3e49;\n}`,""]);const p=u},384:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* TradingView-style Drawing Toolbar */\n.drawing-toolbar {\n  position: fixed;\n  left: 0;\n  top: 44px; /* Position below header */\n  width: 48px;\n  height: calc(100vh - 44px); /* Adjust height for header */\n  background: #1e222d;\n  border-right: 1px solid #2a2e39;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 0;\n  gap: 2px;\n  z-index: 1000;\n}\n\n.tool-button {\n  width: 36px;\n  height: 36px;\n  background: transparent;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  color: #868993;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.tool-button:hover {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: #2a2e39;\n  color: #d1d4dc;\n}\n\n.tool-button.active {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: white;\n}\n\n.tool-button.active::after {\n  content: '';\n  position: absolute;\n  right: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 3px;\n  height: 24px;\n  background: #2962ff;\n  border-radius: 2px;\n}\n\n.tool-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.tool-icon svg {\n  width: 16px;\n  height: 16px;\n  color: inherit;\n  transition: color 0.2s ease;\n}\n\n.toolbar-separator {\n  width: 24px;\n  height: 1px;\n  background: #2a2e39;\n  margin: 4px 0;\n}",""]);const s=a},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,p=null,d=3,h=!1,y=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!y)if(null!==r(c))y=!0,M(S);else{var t=r(u);null!==t&&N(w,t.startTime-e)}}function S(e,n){y=!1,m&&(m=!1,v(P),P=-1),h=!0;var i=d;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!j());){var a=p.callback;if("function"==typeof a){p.callback=null,d=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&o(c),x(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var f=r(u);null!==f&&N(w,f.startTime-n),l=!1}return l}finally{p=null,d=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,P=-1,O=5,_=-1;function j(){return!(t.unstable_now()-_<O)}function T(){if(null!==C){var e=t.unstable_now();_=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"==typeof b)k=function(){b(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){g(T,0)};function M(e){C=e,E||(E=!0,k())}function N(e,n){P=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(v(P),P=-1):m=!0,N(w,i-a))):(e.sortIndex=s,n(c,e),y||h||(y=!0,M(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},483:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".indicators-panel {\n  position: fixed;\n  top: 60px;\n  left: 200px;\n  width: 300px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.indicators-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.indicators-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.indicators-section {\n  padding: 16px 20px;\n}\n\n.indicators-section h4 {\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #787b86;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.indicators-list {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.indicator-item {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.2s;\n  font-size: 14px;\n}\n\n.indicator-item:hover {\n  background: #363a45;\n}\n\n.indicator-item.enabled {\n  background: rgba(41, 98, 255, 0.1);\n  color: #ffffff;\n}\n\n.indicator-item.enabled:hover {\n  background: rgba(41, 98, 255, 0.2);\n}\n\n.indicator-checkbox {\n  width: 16px;\n  height: 16px;\n  border: 1px solid #787b86;\n  border-radius: 3px;\n  margin-right: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #2962ff;\n  transition: all 0.2s;\n}\n\n.indicator-item.enabled .indicator-checkbox {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: #ffffff;\n}\n\n.indicator-label {\n  flex: 1;\n  font-weight: 400;\n}",""]);const s=a},523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif;\n    background-color: #131722;\n    color: #d1d4dc;\n    overflow: hidden;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    font-size: 18px;\n    color: #d1d4dc;\n}",""]);const s=a},540:(e,t,n)=>{"use strict";e.exports=n(287)},551:(e,t,n)=>{"use strict";var r=n(540),o=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function y(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(h,e)||!f.call(d,e)&&(p.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,fe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(de).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Pe(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function _e(e,t){return e(t)}function je(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return _e(e,t,n)}finally{Te=!1,(null!==ke||null!==Ee)&&(je(),Oe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Me=!1}function Ie(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Re=!1,Le=null,Fe=!1,ze=null,Ve={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,o,i,a,s,l){Re=!1,Le=null,Ie.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ze=o.unstable_now,Ke=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!==(i&=a)&&(r=ft(i))}else 0!==(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,St,kt,Et,Ct,Pt=!1,Ot=[],_t=null,jt=null,Tt=null,At=new Map,Dt=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Rt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=xo(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Pt=!1,null!==_t&&Ft(_t)&&(_t=null),null!==jt&&Ft(jt)&&(jt=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(zt),Dt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ot.length){Bt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Bt(_t,e),null!==jt&&Bt(jt,e),null!==Tt&&Bt(Tt,e),At.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function Yt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function qt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Xt(e,t,n,r){if(Ht){var o=Gt(e,t,n,r);if(null===o)Hr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return _t=Rt(_t,e,t,n,r,o),!0;case"dragenter":return jt=Rt(jt,e,t,n,r,o),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return At.set(i,Rt(At.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Dt.set(i,Rt(Dt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Gt(e,t,n,r))&&Hr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Gt(e,t,n,r){if($t=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),fn=L({},cn,{view:0,detail:0}),pn=on(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(dn),yn=on(L({},dn,{dataTransfer:0})),mn=on(L({},fn,{relatedTarget:0})),gn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var Pn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(Pn),_n=on(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(An),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Rn=u&&"TextEvent"in window&&!In,Ln=u&&(!Nn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,r){Pe(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function $n(e){Fr(e,0)}function Gn(e){if(X(wo(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Kn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Kn=Jn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Gn(Xn)){var t=[];Yn(t,Xn,e,we(e)),Ae($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Xn)}function ir(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||(r="selectionStart"in(r=mr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Pr=Cr("animationend"),Or=Cr("animationiteration"),_r=Cr("animationstart"),jr=Cr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Nr=Ar[Mr];Dr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Dr(Pr,"onAnimationEnd"),Dr(Or,"onAnimationIteration"),Dr(_r,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var o=Yt;break;case 4:o=qt;break;default:o=Xt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=i,o=we(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Pr:case Or:case _r:l=gn;break;case jr:l=Tn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=!!(4&t),f=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var d,h=r;null!==h;){var y=(d=h).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==p&&null!=(y=De(h,p))&&u.push(Yr(h,y,d))),f)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[yo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,y="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,y="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==l?s:wo(l),d=null==c?s:wo(c),(s=new u(y,h+"leave",l,n,o)).target=f,s.relatedTarget=d,y=null,bo(o)===r&&((u=new u(p,h+"enter",c,n,o)).target=d,u.relatedTarget=f,y=u),f=y,l&&c)e:{for(p=c,h=0,d=u=l;d;d=Xr(d))h++;for(d=0,y=p;y;y=Xr(y))d++;for(;0<h-d;)u=Xr(u),h--;for(;0<d-h;)p=Xr(p),d--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Xr(u),p=Xr(p)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==f&&$r(a,f,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(Hn(s))if(Zn)m=ar;else{m=or;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Yn(a,m,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wo(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,o);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(a,n,o)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Kt="value"in(Zt=o)?Zt.value:Zt.textContent,Un=!0)),0<(g=qr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:g}),(v||null!==(v=Bn(n)))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Jt=Kt=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v)}Fr(a,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=De(e,n))&&r.unshift(Yr(e,i,o)),null!=(i=De(e,t))&&r.push(Yr(e,i,o))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=De(n,i))&&a.unshift(Yr(n,l,s)):o||null!=(l=De(n,i))&&a.push(Yr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,yo="__reactContainer$"+fo,mo="__reactEvents$"+fo,go="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var ko=[],Eo=-1;function Co(e){return{current:e}}function Po(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function Oo(e,t){Eo++,ko[Eo]=e.current,e.current=t}var _o={},jo=Co(_o),To=Co(!1),Ao=_o;function Do(e,t){var n=e.type.contextTypes;if(!n)return _o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!=e.childContextTypes}function No(){Po(To),Po(jo)}function Io(e,t,n){if(jo.current!==_o)throw Error(i(168));Oo(jo,t),Oo(To,n)}function Ro(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,Ao=jo.current,Oo(jo,e),Oo(To,To.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ro(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,Po(To),Po(jo),Oo(jo,e)):Po(To),Oo(To,n)}var zo=null,Vo=!1,Bo=!1;function Uo(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Bo&&null!==zo){Bo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Vo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),Xe(Je,Wo),t}finally{bt=t,Bo=!1}}return null}var Ho=[],Yo=0,qo=null,Xo=0,$o=[],Go=0,Qo=null,Zo=1,Ko="";function Jo(e,t){Ho[Yo++]=Xo,Ho[Yo++]=qo,qo=e,Xo=t}function ei(e,t,n){$o[Go++]=Zo,$o[Go++]=Ko,$o[Go++]=Qo,Qo=e;var r=Zo;e=Ko;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Ko=i+e}else Zo=1<<i|n<<o|r,Ko=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Ho[--Yo],Ho[Yo]=null,Xo=Ho[--Yo],Ho[Yo]=null;for(;e===Qo;)Qo=$o[--Go],$o[Go]=null,Ko=$o[--Go],$o[Go]=null,Zo=$o[--Go],$o[Go]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Zo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw di(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function di(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function yi(e){null===ai?ai=[e]:ai.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===D&&bi(i)===t.type)?((r=o(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case D:return p(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case D:return d(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:f(e,t,n,r,null);vi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case D:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return f(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function y(o,i,s,l){for(var c=null,u=null,f=i,y=i=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var g=d(o,f,s[y],l);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),i=a(g,i,y),null===u?c=g:u.sibling=g,u=g,f=m}if(y===s.length)return n(o,f),ii&&Jo(o,y),c;if(null===f){for(;y<s.length;y++)null!==(f=p(o,s[y],l))&&(i=a(f,i,y),null===u?c=f:u.sibling=f,u=f);return ii&&Jo(o,y),c}for(f=r(o,f);y<s.length;y++)null!==(m=h(f,o,y,s[y],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),i=a(m,i,y),null===u?c=m:u.sibling=m,u=m);return e&&f.forEach(function(e){return t(o,e)}),ii&&Jo(o,y),c}function m(o,s,l,c){var u=I(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var f=u=null,y=s,m=s=0,g=null,v=l.next();null!==y&&!v.done;m++,v=l.next()){y.index>m?(g=y,y=null):g=y.sibling;var b=d(o,y,v.value,c);if(null===b){null===y&&(y=g);break}e&&y&&null===b.alternate&&t(o,y),s=a(b,s,m),null===f?u=b:f.sibling=b,f=b,y=g}if(v.done)return n(o,y),ii&&Jo(o,m),u;if(null===y){for(;!v.done;m++,v=l.next())null!==(v=p(o,v.value,c))&&(s=a(v,s,m),null===f?u=v:f.sibling=v,f=v);return ii&&Jo(o,m),u}for(y=r(o,y);!v.done;m++,v=l.next())null!==(v=h(y,o,m,v.value,c))&&(e&&null!==v.alternate&&y.delete(null===v.key?m:v.key),s=a(v,s,m),null===f?u=v:f.sibling=v,f=v);return e&&y.forEach(function(e){return t(o,e)}),ii&&Jo(o,m),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&bi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Ic(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Nc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case D:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return y(r,i,a,l);if(I(a))return m(r,i,a,l);vi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Lc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),ki=Co(null),Ei=null,Ci=null,Pi=null;function Oi(){Pi=Ci=Ei=null}function _i(e){var t=ki.current;Po(ki),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){Ei=e,Pi=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ei)throw Error(i(308));Ci=e,Ei.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Di=null;function Mi(e){null===Di?Di=[e]:Di.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&_l){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ii(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ii(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;Ri=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var f=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=s.lane,d=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,d=n,y.tag){case 1:if("function"==typeof(h=y.payload)){f=h.call(d,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=y.payload)?h.call(d,f,p):h))break e;f=L({},f,p);break e;case 2:Ri=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=d,l=f):u=u.next=d,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=f}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Yi={},qi=Co(Yi),Xi=Co(Yi),$i=Co(Yi);function Gi(e){if(e===Yi)throw Error(i(174));return e}function Qi(e,t){switch(Oo($i,t),Oo(Xi,e),Oo(qi,Yi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Po(qi),Oo(qi,t)}function Zi(){Po(qi),Po(Xi),Po($i)}function Ki(e){Gi($i.current);var t=Gi(qi.current),n=le(t,e.type);t!==n&&(Oo(Xi,e),Oo(qi,n))}function Ji(e){Xi.current===e&&(Po(qi),Po(Xi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,fa=!1,pa=0,da=0;function ha(){throw Error(i(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Ja:es,e=n(r,o),fa){a=0;do{if(fa=!1,pa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(fa)}if(oa.current=Ka,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ga(){var e=0!==pa;return pa=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"==typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var f=u.lane;if((aa&f)===f)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,sa.lanes|=f,Rl|=f}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Rl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,Ra(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,Pa.bind(null,n,r,o,t),void 0,null),null===jl)throw Error(i(349));30&aa||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&ja(e)}function Oa(e,t,n){return n(function(){_a(t)&&ja(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function ja(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Ta(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ma(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ya(r,a.deps))return void(o.memoizedState=Aa(t,n,i,r))}sa.flags|=e,o.memoizedState=Aa(1|t,n,i,r)}function Ia(e,t){return Ma(8390656,8,e,t)}function Ra(e,t){return Na(2048,8,e,t)}function La(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!=n?n.concat([e]):null,Na(4,4,za.bind(null,t,e),n)}function Ba(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 21&aa?(sr(n,t)||(n=yt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ba().memoizedState}function Xa(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Qa(t,n):null!==(n=Ni(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function $a(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Qa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Mi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Za(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){fa=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ka={readContext:Ai,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Ja={readContext:Ai,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ta,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=Ya.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jl)throw Error(i(349));30&aa||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ia(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jl.identifierPrefix;if(ii){var n=Ko;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Ua,useContext:Ai,useEffect:Ra,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Wa,useReducer:wa,useRef:Da,useState:function(){return wa(xa)},useDebugValue:Ba,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Ua,useContext:Ai,useEffect:Ra,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Wa,useReducer:Sa,useRef:Da,useState:function(){return Sa(xa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Sa(xa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=_o,i=t.contextType;return"object"==typeof i&&null!==i?i=Ai(i):(o=Mo(t)?Ao:jo.current,i=(r=null!=(r=t.contextTypes))?Do(e,o):_o),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ai(i):(i=Mo(t)?Ao:jo.current,o.context=Do(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Yl=r),fs(0,t)},n}function hs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return Ti(t,o),r=ma(e,t,n,r,i,o),n=ga(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);131072&e.flags&&(bs=!0)}}return Ps(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oo(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Oo(Ml,Dl),Dl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oo(Ml,Dl),Dl|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oo(Ml,Dl),Dl|=r;return xs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,o){var i=Mo(n)?Ao:jo.current;return i=Do(t,i),Ti(t,o),n=ma(e,t,n,r,i,o),r=ga(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Os(e,t,n,r,o){if(Mo(n)){var i=!0;Lo(t)}else i=!1;if(Ti(t,o),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Ai(c):Do(t,c=Mo(n)?Ao:jo.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ri=!1;var p=t.memoizedState;a.state=p,Wi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||To.current||Ri?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ri||is(t,n,s,r,p,l,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,f=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ai(l):Do(t,l=Mo(n)?Ao:jo.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||p!==l)&&ss(t,a,r,l),Ri=!1,p=t.memoizedState,a.state=p,Wi(t,r,a,o);var h=t.memoizedState;s!==f||p!==h||To.current||Ri?("function"==typeof d&&(rs(t,n,d,r),h=t.memoizedState),(c=Ri||is(t,n,c,r,p,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,i,o)}function _s(e,t,n,r,o,i){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Hs(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Qi(e,t.containerInfo)}function Ts(e,t,n,r,o){return hi(),yi(o),t.flags|=256,xs(e,t,n,r),t.child}var As,Ds,Ms,Ns,Is={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oo(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Rc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Ic(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Is,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Rc({mode:"visible",children:r.children},o,0,null),(a=Ic(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&wi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Is,a);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=jl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ii(e,o),nc(r,e,o,-1))}return yc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&($o[Go++]=Zo,$o[Go++]=Ko,$o[Go++]=Qo,Zo=e.id,Ko=e.overflow,Qo=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Mc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=Mc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&yi(r),wi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Bs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Us(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oo(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ws(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Mo(t.type)&&No(),qs(t),null;case 3:return r=t.stateNode,Zi(),Po(To),Po(jo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ds(e,t),qs(t),null;case 5:Ji(t);var o=Gi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Gi(qi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":oe(r,a),zr("invalid",r)}for(var l in ve(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)zr(Ir[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Q(e,r),o=G(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(a in ve(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"==typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi($i.current),Gi(qi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Kr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qs(t),null;case 13:if(Po(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))di(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Nl&&(Nl=3):yc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Zi(),Ds(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return _i(t.type._context),qs(t),null;case 19:if(Po(ea),null===(a=t.memoizedState))return qs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Ys(a,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ys(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oo(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Ul&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return qs(t),null}else 2*Ze()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,Oo(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Dl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Po(To),Po(jo),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Po(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Po(ea),null;case 4:return Zi(),null;case 10:return _i(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gi(qi.current);var i,a=null;switch(n){case"input":o=G(e,o),r=G(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Qs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Ks=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[mo],delete t[go],delete t[vo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=ul,o=fl;ul=null,pl(e,t,n),fl=o,null!==(ul=r)&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=fl,ul=n.stateNode.containerInfo,fl=!0,pl(e,t,n),ul=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Qs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pl(e,t,n),Qs=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,fl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));dl(a,s,o),ul=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:yl(t,e),gl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(yl(t,e),gl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];"style"===f?me(o,p):"dangerouslySetInnerHTML"===f?fe(o,p):"children"===f?pe(o,p):b(o,f,p,u)}switch(l){case"input":K(o,a);break;case"textarea":ie(o,a);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(yl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(yl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:yl(t,e),gl(e);break;case 13:yl(t,e),gl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Ze())),4&r&&hl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||f,yl(t,e),Qs=u):yl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!f&&1&e.mode)for(Ks=e,f=e.child;null!==f;){for(p=Ks=f;null!==Ks;){switch(h=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Js(d,d.return);var y=d.stateNode;if("function"==typeof y.componentWillUnmount){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wl(p);continue}}null!==h?(h.return=d,Ks=h):wl(p)}f=f.sibling}e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{o=p.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ye("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ks=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Ks;){var o=Ks,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Gs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Gs;var c=Qs;if(Gs=a,(Qs=l)&&!c)for(Ks=o;null!==Ks;)l=(a=Ks).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Ks=l):Sl(o);for(;null!==i;)Ks=i,bl(i,t,n),i=i.sibling;Ks=o,Gs=s,Qs=c}xl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Ks=i):xl(e)}}function xl(e){for(;null!==Ks;){var t=Ks;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var f=u.memoizedState;if(null!==f){var p=f.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(i(163))}Qs||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function wl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function Sl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var kl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,Pl=x.ReactCurrentOwner,Ol=x.ReactCurrentBatchConfig,_l=0,jl=null,Tl=null,Al=0,Dl=0,Ml=Co(0),Nl=0,Il=null,Rl=0,Ll=0,Fl=0,zl=null,Vl=null,Bl=0,Ul=1/0,Wl=null,Hl=!1,Yl=null,ql=null,Xl=!1,$l=null,Gl=0,Ql=0,Zl=null,Kl=-1,Jl=0;function ec(){return 6&_l?Ze():-1!==Kl?Kl:Kl=Ze()}function tc(e){return 1&e.mode?2&_l&&0!==Al?Al&-Al:null!==mi.transition?(0===Jl&&(Jl=yt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(i(185));gt(e,n,r),2&_l&&e===jl||(e===jl&&(!(2&_l)&&(Ll|=n),4===Nl&&sc(e,Al)),rc(e,r),1===n&&0===_l&&!(1&t.mode)&&(Ul=Ze()+500,Vo&&Wo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===jl?Al:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Vo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),ao(function(){!(6&_l)&&Wo()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Kl=-1,Jl=0,6&_l)throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pt(e,e===jl?Al:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var o=_l;_l|=2;var a=hc();for(jl===e&&Al===t||(Wl=null,Ul=Ze()+500,pc(e,t));;)try{vc();break}catch(t){dc(e,t)}Oi(),Cl.current=a,_l=o,null!==Tl?t=0:(jl=null,Al=0,t=Nl)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=ic(e,o)),1===t)throw n=Il,pc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=mc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Il,pc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Vl,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Vl,Wl),t);break}wc(e,Vl,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Vl,Wl),r);break}wc(e,Vl,Wl);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&_l)throw Error(i(327));Sc();var t=pt(e,0);if(!(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Il,pc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Wl),rc(e,Ze()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Ul=Ze()+500,Vo&&Wo())}}function uc(e){null!==$l&&0===$l.tag&&!(6&_l)&&Sc();var t=_l;_l|=1;var n=Ol.transition,r=bt;try{if(Ol.transition=null,bt=1,e)return e()}finally{bt=r,Ol.transition=n,!(6&(_l=t))&&Wo()}}function fc(){Dl=Ml.current,Po(Ml)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:Zi(),Po(To),Po(jo),ra();break;case 5:Ji(r);break;case 4:Zi();break;case 13:case 19:Po(ea);break;case 10:_i(r.type._context);break;case 22:case 23:fc()}n=n.return}if(jl=e,Tl=e=Mc(e.current,null),Al=Dl=t,Nl=0,Il=null,Fl=Ll=Rl=0,Vl=zl=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Di=null}return e}function dc(e,t){for(;;){var n=Tl;try{if(Oi(),oa.current=Ka,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,fa=!1,pa=0,Pl.current=null,null===n||null===n.return){Nl=1,Il=t,Tl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,f=l,p=f.tag;if(!(1&f.mode||0!==p&&11!==p&&15!==p)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&ys(a,u,t),c=u;var y=(t=h).updateQueue;if(null===y){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}if(!(1&t)){ys(a,u,t),yc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var g=ms(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),yi(cs(c,l));break e}}a=c=cs(c,l),4!==Nl&&(Nl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,ds(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ql&&ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(e){t=e,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=Ka,null===e?Ka:e}function yc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===jl||!(268435455&Rl)&&!(268435455&Ll)||sc(jl,Al)}function mc(e,t){var n=_l;_l|=2;var r=hc();for(jl===e&&Al===t||(Wl=null,pc(e,t));;)try{gc();break}catch(t){dc(e,t)}if(Oi(),_l=n,Cl.current=r,null!==Tl)throw Error(i(261));return jl=null,Al=0,Nl}function gc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Ge();)bc(Tl)}function bc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Pl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=$s(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Nl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Xs(n,t,Dl)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Nl&&(Nl=5)}function wc(e,t,n){var r=bt,o=Ol.transition;try{Ol.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==$l);if(6&_l)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===jl&&(Tl=jl=null,Al=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Xl||(Xl=!0,jc(tt,function(){return Sc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Ol.transition,Ol.transition=null;var s=bt;bt=1;var l=_l;_l|=4,Pl.current=null,function(e,t){if(eo=Ht,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++u===o&&(l=s),d===a&&++f===r&&(c=s),null!==(h=p.nextSibling))break;d=(p=d).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var y=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}y=tl,tl=!1}(e,n),ml(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,vl(n,e,o),Qe(),_l=l,bt=s,Ol.transition=a}else e.current=n;if(Xl&&(Xl=!1,$l=e,Gl=o),0===(a=e.pendingLanes)&&(ql=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Yl,Yl=null,e;!!(1&Gl)&&0!==e.tag&&Sc(),1&(a=e.pendingLanes)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Wo()}(e,t,n,r)}finally{Ol.transition=o,bt=r}return null}function Sc(){if(null!==$l){var e=xt(Gl),t=Ol.transition,n=bt;try{if(Ol.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Gl=0,6&_l)throw Error(i(331));var o=_l;for(_l|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(16&Ks.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ks=u;null!==Ks;){var f=Ks;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var p=f.child;if(null!==p)p.return=f,Ks=p;else for(;null!==Ks;){var d=(f=Ks).sibling,h=f.return;if(il(f),f===u){Ks=null;break}if(null!==d){d.return=h,Ks=d;break}Ks=h}}}var y=a.alternate;if(null!==y){var m=y.child;if(null!==m){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ks=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(2048&(a=Ks).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Ks=v;break e}Ks=a.return}}var b=e.current;for(Ks=b;null!==Ks;){var x=(s=Ks).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Ks=x;else e:for(s=b;null!==Ks;){if(2048&(l=Ks).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Ks=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ks=w;break e}Ks=l.return}}if(_l=o,Wo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Ol.transition=t}}return!1}function kc(e,t,n){e=Vi(e,t=ds(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Vi(t,e=hs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>Ze()-Bl?pc(e,0):Fl|=n),rc(e,t)}function Pc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ii(e,t))&&(gt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Pc(e,n)}function jc(e,t){return Xe(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Dc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Ic(n.children,o,a,t);case E:s=8,o|=8;break;case C:return(e=Ac(12,n,t,2|o)).elementType=C,e.lanes=a,e;case j:return(e=Ac(13,n,t,o)).elementType=j,e.lanes=a,e;case T:return(e=Ac(19,n,t,o)).elementType=T,e.lanes=a,e;case M:return Rc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case O:s=9;break e;case _:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Bc(e){if(!e)return _o;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Ro(e,n,t)}return t}function Uc(e,t,n,r,o,i,a,s,l){return(e=Vc(n,r,!0,e,0,i,0,s,l)).context=Bc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=null!=t?t:null,Vi(n,i,o),e.current.lanes=o,gt(e,o,r),rc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,a))&&(nc(e,o,a,i),Bi(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)bs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:js(t),hi();break;case 5:Ki(t);break;case 1:Mo(t.type)&&Lo(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Oo(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oo(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Oo(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Oo(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Us(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oo(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,ii&&1048576&t.flags&&ei(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var o=Do(t,jo.current);Ti(t,n),o=ma(null,t,r,e,o,n);var a=ga();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(js(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Fi(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ts(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Ki(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ls(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Oo(ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!To.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var f=(u=u.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ji(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ji(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ti(t,n),r=r(o=Ai(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Ws(e,t),t.tag=1,Mo(r)?(e=!0,Lo(t)):e=!1,Ti(t,n),as(t,r,o),ls(t,r,o,n),_s(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Xc="function"==typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Jc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=a,e[yo]=a.current,Ur(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[yo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,o,r);return Hc(a)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[yo]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),!(6&_l)&&(Ul=Ze()+500,Wo()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ii(e,134217728);null!==t&&nc(t,e,134217728,ec()),qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);null!==n&&nc(n,e,t,ec()),qc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));X(r),K(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xo,wo,So,Pe,Oe,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Xc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[yo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Xc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,a,s),e[yo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},601:e=>{"use strict";e.exports=function(e){return e[1]}},626:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* TradingView-style App Layout */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif;\n    background-color: #131722;\n    color: #d1d4dc;\n    overflow: hidden;\n}\n\n.app-container {\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    height: 100vh;\n    background: #131722;\n}\n\n.chart-container {\n    flex: 1;\n    position: relative;\n    background: #131722;\n    overflow: hidden;\n    margin-left: 10px; /* Account for drawing toolbar */\n    margin-top: 44px; /* Account for header toolbar */\n}\n\n/* Override default center styling */\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: calc(100vh - 44px);\n    font-size: 18px;\n    color: #d1d4dc;\n    margin-left: 10px; /* Account for drawing toolbar */\n    margin-top: 44px; /* Account for header toolbar */\n}",""]);const s=a},649:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".chart-type-panel {\n  position: fixed;\n  top: 60px;\n  left: 100px;\n  width: 280px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.chart-type-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.chart-type-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.close-button:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.chart-types-list {\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.chart-type-item {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  cursor: pointer;\n  border-radius: 6px;\n  transition: all 0.2s;\n  border: 1px solid transparent;\n}\n\n.chart-type-item:hover {\n  background: #363a45;\n}\n\n.chart-type-item.selected {\n  background: rgba(41, 98, 255, 0.1);\n  border-color: #2962ff;\n  color: #ffffff;\n}\n\n.chart-type-item.selected:hover {\n  background: rgba(41, 98, 255, 0.2);\n}\n\n.chart-type-icon {\n  width: 32px;\n  height: 32px;\n  margin-right: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #787b86;\n  transition: color 0.2s;\n}\n\n.chart-type-item.selected .chart-type-icon {\n  color: #2962ff;\n}\n\n.chart-type-info {\n  flex: 1;\n}\n\n.chart-type-label {\n  font-weight: 500;\n  font-size: 14px;\n  margin-bottom: 2px;\n}\n\n.chart-type-description {\n  font-size: 12px;\n  color: #787b86;\n  line-height: 1.3;\n}\n\n.chart-type-item.selected .chart-type-description {\n  color: #b3c6ff;\n}\n\n.chart-type-selected {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #2962ff;\n  font-size: 14px;\n  font-weight: 600;\n}",""]);const s=a},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},691:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".settings-panel {\n  position: fixed;\n  top: 60px;\n  right: 20px;\n  width: 380px;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n  z-index: 10000;\n  color: #d1d4dc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif;\n}\n\n.settings-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #363a45;\n  background: #2a2e39;\n  border-radius: 8px 8px 0 0;\n}\n\n.settings-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #d1d4dc;\n}\n\n.settings-content {\n  padding: 20px;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.setting-group {\n  margin-bottom: 24px;\n  padding-bottom: 20px;\n  border-bottom: 1px solid #363a45;\n}\n\n.setting-group:last-child {\n  border-bottom: none;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n\n.setting-label {\n  display: block;\n  font-size: 14px;\n  font-weight: 600;\n  color: #d1d4dc;\n  margin-bottom: 6px;\n}\n\n.setting-description {\n  font-size: 12px;\n  color: #787b86;\n  margin-bottom: 16px;\n  line-height: 1.4;\n}\n\n.zoom-control {\n  background: #2a2e39;\n  border-radius: 6px;\n  padding: 16px;\n  margin-bottom: 12px;\n}\n\n.zoom-slider-container {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 16px;\n}\n\n.zoom-slider {\n  flex: 1;\n  -webkit-appearance: none;\n  appearance: none;\n  height: 4px;\n  background: #363a45;\n  border-radius: 2px;\n  outline: none;\n}\n\n.zoom-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  background: #2962ff;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.zoom-slider::-webkit-slider-thumb:hover {\n  transform: scale(1.2);\n  background: #4976ff;\n}\n\n.zoom-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  background: #2962ff;\n  border-radius: 50%;\n  cursor: pointer;\n  border: none;\n  transition: all 0.2s;\n}\n\n.zoom-slider::-moz-range-thumb:hover {\n  transform: scale(1.2);\n  background: #4976ff;\n}\n\n.zoom-value {\n  min-width: 45px;\n  padding: 6px 10px;\n  background: #131722;\n  border: 1px solid #363a45;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 600;\n  color: #2962ff;\n  text-align: center;\n}\n\n.zoom-presets {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.preset-button {\n  flex: 1;\n  min-width: 65px;\n  padding: 8px 4px;\n  background: #131722;\n  border: 1px solid #363a45;\n  border-radius: 4px;\n  color: #787b86;\n  font-size: 11px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n}\n\n.preset-button:hover {\n  background: #363a45;\n  color: #d1d4dc;\n}\n\n.preset-button.active {\n  background: rgba(41, 98, 255, 0.1);\n  border-color: #2962ff;\n  color: #2962ff;\n}\n\n.preset-value {\n  font-size: 10px;\n  opacity: 0.8;\n  font-weight: 600;\n}\n\n.setting-info {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 12px;\n  background: #131722;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.info-label {\n  color: #787b86;\n}\n\n.info-value {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-family: 'SF Mono', Monaco, monospace;\n}\n\n/* Scrollbar styling */\n.settings-content::-webkit-scrollbar {\n  width: 6px;\n}\n\n.settings-content::-webkit-scrollbar-track {\n  background: #131722;\n  border-radius: 3px;\n}\n\n.settings-content::-webkit-scrollbar-thumb {\n  background: #363a45;\n  border-radius: 3px;\n}\n\n.settings-content::-webkit-scrollbar-thumb:hover {\n  background: #4a4e59;\n}",""]);const s=a},716:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".replay-controls-overlay {\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10000;\n  background: #1e222d;\n  border: 1px solid #363a45;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\n  padding: 16px;\n  min-width: 400px;\n}\n\n.replay-controls {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.replay-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #363a45;\n}\n\n.replay-title {\n  color: #d1d4dc;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.replay-exit {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.replay-exit:hover {\n  background: #363a45;\n  color: #ffffff;\n}\n\n.replay-date-picker {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n  border-bottom: 1px solid #363a45;\n  margin-bottom: 8px;\n}\n\n.replay-date-picker label {\n  color: #787b86;\n  font-size: 12px;\n  white-space: nowrap;\n}\n\n.date-input {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.date-input:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.date-input:focus {\n  outline: none;\n  border-color: #2962ff;\n}\n\n.current-datetime {\n  color: #2962ff;\n  font-size: 12px;\n  font-weight: 600;\n  margin-left: auto;\n}\n\n.end-datetime {\n  color: #ff9800;\n  font-size: 12px;\n  font-weight: 600;\n  margin-left: auto;\n}\n\n.clear-end-date-btn {\n  background: none;\n  border: none;\n  color: #787b86;\n  cursor: pointer;\n  font-size: 14px;\n  padding: 4px;\n  margin-left: 8px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.clear-end-date-btn:hover {\n  background: #363a45;\n  color: #ff9800;\n}\n\n.replay-progress {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  color: #787b86;\n  font-size: 12px;\n}\n\n.progress-bar {\n  position: relative;\n  height: 24px;\n  background: #2a2e39;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  background: linear-gradient(90deg, #2962ff, #1e88e5);\n  transition: width 0.2s ease;\n  pointer-events: none;\n}\n\n.progress-slider {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  opacity: 0;\n  cursor: pointer;\n}\n\n.replay-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n}\n\n.replay-btn {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n}\n\n.replay-btn:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.replay-btn.play-pause {\n  background: #2962ff;\n  border-color: #2962ff;\n  color: white;\n  padding: 8px 20px;\n}\n\n.replay-btn.play-pause:hover {\n  background: #1e88e5;\n  border-color: #1e88e5;\n}\n\n.replay-speed {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  justify-content: center;\n}\n\n.replay-speed label {\n  color: #787b86;\n  font-size: 12px;\n}\n\n.speed-selector {\n  background: #2a2e39;\n  border: 1px solid #363a45;\n  color: #d1d4dc;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.speed-selector:hover {\n  background: #363a45;\n  border-color: #474d57;\n}\n\n.speed-selector:focus {\n  outline: none;\n  border-color: #2962ff;\n}",""]);const s=a},773:(e,t,n)=>{var r=1/0,o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")();function s(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var l=Object.prototype,c=l.hasOwnProperty,u=l.toString,f=a.Symbol,p=l.propertyIsEnumerable,d=f?f.isConcatSpreadable:void 0;function h(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=y),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?h(l,t-1,n,r,o):s(o,l):r||(o[o.length]=l)}return o}function y(e){return m(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?u.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&c.call(e,"callee")&&(!p.call(e,"callee")||"[object Arguments]"==u.call(e))}(e)||!!(d&&e&&e[d])}var m=Array.isArray;e.exports=function(e){return e&&e.length?h(e,r):[]}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{"use strict";e.exports=n(20)},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},982:(e,t,n)=>{"use strict";e.exports=n(463)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>qg,hasStandardBrowserEnv:()=>$g,hasStandardBrowserWebWorkerEnv:()=>Gg,navigator:()=>Xg,origin:()=>Qg});var t=n(540),r=n(338);function o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var i,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t;return new l({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function l(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function c(e,t){var n=o(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}s.prototype=l.prototype,l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const u={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c(100*e,t),r:c,s:function(e,t){var n=o(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+o(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function f(e){return e}var p,d,h=Array.prototype.map,y=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];p=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?f:(t=h.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?f:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(h.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=s(e)).fill,n=e.align,o=e.sign,f=e.symbol,h=e.zero,v=e.width,b=e.comma,x=e.precision,w=e.trim,S=e.type;"n"===S?(b=!0,S="g"):u[S]||(void 0===x&&(x=12),w=!0,S="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var k="$"===f?a:"#"===f&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E="$"===f?l:/[%p]/.test(S)?d:"",C=u[S],P=/[defgprs%]/.test(S);function O(e){var a,s,l,u=k,f=E;if("c"===S)f=C(e)+f,e="";else{var d=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:C(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),d&&0===+e&&"+"!==o&&(d=!1),u=(d?"("===o?o:m:"-"===o||"("===o?"":o)+u,f=("s"===S?y[8+i/3]:"")+f+(d&&"("===o?")":""),P)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){f=(46===l?c+e.slice(a+1):e.slice(a))+f,e=e.slice(0,a);break}}b&&!h&&(e=r(e,1/0));var O=u.length+e.length+f.length,_=O<v?new Array(v-O+1).join(t):"";switch(b&&h&&(e=r(_+e,_.length?v-f.length:1/0),_=""),n){case"<":e=u+e+f+_;break;case"=":e=u+_+e+f;break;case"^":e=_.slice(0,O=_.length>>1)+u+e+f+_.slice(O);break;default:e=_+u+e+f}return p(e)}return x=void 0===x?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),O.toString=function(){return e+""},O}return{format:v,formatPrefix:function(e,t){var n,r=v(((e=s(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=o(Math.abs(n)))?n[1]:NaN)/3)))),a=Math.pow(10,-i),l=y[8+i/3];return function(e){return r(a*e)+l}}}}({thousands:",",grouping:[3],currency:["$",""]}),d=p.format,p.formatPrefix;var m=new Date,g=new Date;function v(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return v(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return m.setTime(+t),g.setTime(+r),e(m),e(g),Math.floor(n(m,g))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}const b=864e5,x=6048e5;function w(e){return v(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/x})}var S=w(0),k=w(1),E=w(2),C=w(3),P=w(4),O=w(5),_=w(6),j=(S.range,k.range,E.range,C.range,P.range,O.range,_.range,v(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/b},function(e){return e.getUTCDate()-1}));const T=j;function A(e){return v(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/x})}j.range;var D=A(0),M=A(1),N=A(2),I=A(3),R=A(4),L=A(5),F=A(6),z=(D.range,M.range,N.range,I.range,R.range,L.range,F.range,v(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/b,e=>e.getDate()-1));const V=z;z.range;var B=v(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});B.every=function(e){return isFinite(e=Math.floor(e))&&e>0?v(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const U=B;B.range;var W=v(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});W.every=function(e){return isFinite(e=Math.floor(e))&&e>0?v(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const H=W;function Y(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function q(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function X(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}W.range;var $,G,Q,Z={"-":"",_:" ",0:"0"},K=/^\s*\d+/,J=/^%/,ee=/[\\^$*+?|[\]().{}]/g;function te(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function ne(e){return e.replace(ee,"\\$&")}function re(e){return new RegExp("^(?:"+e.map(ne).join("|")+")","i")}function oe(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ie(e,t,n){var r=K.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ae(e,t,n){var r=K.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function se(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function le(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ce(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ue(e,t,n){var r=K.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fe(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function de(e,t,n){var r=K.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function he(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ye(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function me(e,t,n){var r=K.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ge(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ve(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function be(e,t,n){var r=K.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xe(e,t,n){var r=K.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function we(e,t,n){var r=K.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Se(e,t,n){var r=J.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ke(e,t,n){var r=K.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ee(e,t,n){var r=K.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ce(e,t){return te(e.getDate(),t,2)}function Pe(e,t){return te(e.getHours(),t,2)}function Oe(e,t){return te(e.getHours()%12||12,t,2)}function _e(e,t){return te(1+V.count(U(e),e),t,3)}function je(e,t){return te(e.getMilliseconds(),t,3)}function Te(e,t){return je(e,t)+"000"}function Ae(e,t){return te(e.getMonth()+1,t,2)}function De(e,t){return te(e.getMinutes(),t,2)}function Me(e,t){return te(e.getSeconds(),t,2)}function Ne(e){var t=e.getDay();return 0===t?7:t}function Ie(e,t){return te(D.count(U(e)-1,e),t,2)}function Re(e){var t=e.getDay();return t>=4||0===t?R(e):R.ceil(e)}function Le(e,t){return e=Re(e),te(R.count(U(e),e)+(4===U(e).getDay()),t,2)}function Fe(e){return e.getDay()}function ze(e,t){return te(M.count(U(e)-1,e),t,2)}function Ve(e,t){return te(e.getFullYear()%100,t,2)}function Be(e,t){return te((e=Re(e)).getFullYear()%100,t,2)}function Ue(e,t){return te(e.getFullYear()%1e4,t,4)}function We(e,t){var n=e.getDay();return te((e=n>=4||0===n?R(e):R.ceil(e)).getFullYear()%1e4,t,4)}function He(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+te(t/60|0,"0",2)+te(t%60,"0",2)}function Ye(e,t){return te(e.getUTCDate(),t,2)}function qe(e,t){return te(e.getUTCHours(),t,2)}function Xe(e,t){return te(e.getUTCHours()%12||12,t,2)}function $e(e,t){return te(1+T.count(H(e),e),t,3)}function Ge(e,t){return te(e.getUTCMilliseconds(),t,3)}function Qe(e,t){return Ge(e,t)+"000"}function Ze(e,t){return te(e.getUTCMonth()+1,t,2)}function Ke(e,t){return te(e.getUTCMinutes(),t,2)}function Je(e,t){return te(e.getUTCSeconds(),t,2)}function et(e){var t=e.getUTCDay();return 0===t?7:t}function tt(e,t){return te(S.count(H(e)-1,e),t,2)}function nt(e){var t=e.getUTCDay();return t>=4||0===t?P(e):P.ceil(e)}function rt(e,t){return e=nt(e),te(P.count(H(e),e)+(4===H(e).getUTCDay()),t,2)}function ot(e){return e.getUTCDay()}function it(e,t){return te(k.count(H(e)-1,e),t,2)}function at(e,t){return te(e.getUTCFullYear()%100,t,2)}function st(e,t){return te((e=nt(e)).getUTCFullYear()%100,t,2)}function lt(e,t){return te(e.getUTCFullYear()%1e4,t,4)}function ct(e,t){var n=e.getUTCDay();return te((e=n>=4||0===n?P(e):P.ceil(e)).getUTCFullYear()%1e4,t,4)}function ut(){return"+0000"}function ft(){return"%"}function pt(e){return+e}function dt(e){return Math.floor(+e/1e3)}function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}$=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=re(o),u=oe(o),f=re(i),p=oe(i),d=re(a),h=oe(a),y=re(s),m=oe(s),g=re(l),v=oe(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ce,e:Ce,f:Te,g:Be,G:We,H:Pe,I:Oe,j:_e,L:je,m:Ae,M:De,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:pt,s:dt,S:Me,u:Ne,U:Ie,V:Le,w:Fe,W:ze,x:null,X:null,y:Ve,Y:Ue,Z:He,"%":ft},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ye,e:Ye,f:Qe,g:st,G:ct,H:qe,I:Xe,j:$e,L:Ge,m:Ze,M:Ke,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:pt,s:dt,S:Je,u:et,U:tt,V:rt,w:ot,W:it,x:null,X:null,y:at,Y:lt,Z:ut,"%":ft},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:ye,e:ye,f:we,g:fe,G:ue,H:ge,I:ge,j:me,L:xe,m:he,M:ve,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:de,Q:ke,s:Ee,S:be,u:ae,U:se,V:le,w:ie,W:ce,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:fe,Y:ue,Z:pe,"%":Se};function S(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=Z[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,o,i=X(1900,void 0,1);if(C(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=q(X(i.y,0,1))).getUTCDay(),r=o>4||0===o?k.ceil(r):k(r),r=T.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Y(X(i.y,0,1))).getDay(),r=o>4||0===o?M.ceil(r):M(r),r=V.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?q(X(i.y,0,1)).getUTCDay():Y(X(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,q(i)):Y(i)}}function C(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in Z?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),G=$.format,Q=$.parse,$.utcFormat,$.utcParse;var yt=function(e){return(e>0)-(e<0)},mt=function(e){return"function"==typeof e?e:function(){return e}};function gt(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}var vt="mouseenter.interaction",bt="mouseleave.interaction",xt="mousemove.pan",wt="mouseup.pan",St="touchmove.pan",kt="touchend.pan touchcancel.pan";function Et(e){return{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}}function Ct(e,t){if(!t||!e)return e?e[0]:void 0;for(var n,r=0;r<e.length;r++)if(n=e[r],_t(t(n)))return n}var Pt=Ct;function Ot(e,t){if(!t||!e){var n=e?e.length:0;return n?e[n-1]:void 0}for(var r,o=e.length-1;o>=0;o--)if(r=e[o],_t(t(r)))return r}var _t=function(e){return null!=e};function jt(e){return!_t(e)}function Tt(e,t){var n=t.currentTarget,r=n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,i=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function At(e,t){var n=e.currentTarget,r=null!=t?t:n.getBoundingClientRect(),o=e.clientX-r.left-n.clientLeft,i=e.clientY-r.top-n.clientTop;return[Math.round(o),Math.round(i)]}function Dt(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})}function Mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=Object.keys(e),r=new Array(n.length);return n.forEach(function(n,o){r[o]=t(e[n],n,e)}),r}var Nt=function(){};function It(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}var Rt=function(e){return e};function Lt(){var e=Rt;function t(){var t,r=arguments.length;if(0===r)return[];for(var o=null!==(t=It(arguments,n))&&void 0!==t?t:0,i=new Array(o),a=-1;++a<o;){for(var s=-1,l=i[a]=new Array(r);++s<r;)l[s]=arguments[s][a];i[a]=e.apply(this,i[a])}return i}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}var Ft=new Date,zt=new Date;function Vt(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return Vt(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,r){return Ft.setTime(+t),zt.setTime(+r),e(Ft),e(zt),Math.floor(n(Ft,zt))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e===0}:function(t){return o.count(0,t)%e===0}):o:null}),o}const Bt=864e5,Ut=6048e5;function Wt(e){return Vt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Ut})}var Ht=Wt(0),Yt=Wt(1),qt=Wt(2),Xt=Wt(3),$t=Wt(4),Gt=Wt(5),Qt=Wt(6),Zt=(Ht.range,Yt.range,qt.range,Xt.range,$t.range,Gt.range,Qt.range,Vt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Bt},function(e){return e.getUTCDate()-1}));const Kt=Zt;function Jt(e){return Vt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/Ut})}Zt.range;var en=Jt(0),tn=Jt(1),nn=Jt(2),rn=Jt(3),on=Jt(4),an=Jt(5),sn=Jt(6),ln=(en.range,tn.range,nn.range,rn.range,on.range,an.range,sn.range,Vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/Bt,e=>e.getDate()-1));const cn=ln;ln.range;var un=Vt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});un.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Vt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const fn=un;un.range;var pn=Vt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});pn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Vt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const dn=pn;function hn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}pn.range;var gn,vn,bn={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,wn=/^%/,Sn=/[\\^$*+?|[\]().{}]/g;function kn(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function En(e){return e.replace(Sn,"\\$&")}function Cn(e){return new RegExp("^(?:"+e.map(En).join("|")+")","i")}function Pn(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function On(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _n(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Tn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function An(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Dn(e,t,n){var r=xn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function In(e,t,n){var r=xn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Rn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ln(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fn(e,t,n){var r=xn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Vn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Bn(e,t,n){var r=xn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Un(e,t,n){var r=xn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wn(e,t,n){var r=xn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hn(e,t,n){var r=wn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Yn(e,t,n){var r=xn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qn(e,t,n){var r=xn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Xn(e,t){return kn(e.getDate(),t,2)}function $n(e,t){return kn(e.getHours(),t,2)}function Gn(e,t){return kn(e.getHours()%12||12,t,2)}function Qn(e,t){return kn(1+cn.count(fn(e),e),t,3)}function Zn(e,t){return kn(e.getMilliseconds(),t,3)}function Kn(e,t){return Zn(e,t)+"000"}function Jn(e,t){return kn(e.getMonth()+1,t,2)}function er(e,t){return kn(e.getMinutes(),t,2)}function tr(e,t){return kn(e.getSeconds(),t,2)}function nr(e){var t=e.getDay();return 0===t?7:t}function rr(e,t){return kn(en.count(fn(e)-1,e),t,2)}function or(e){var t=e.getDay();return t>=4||0===t?on(e):on.ceil(e)}function ir(e,t){return e=or(e),kn(on.count(fn(e),e)+(4===fn(e).getDay()),t,2)}function ar(e){return e.getDay()}function sr(e,t){return kn(tn.count(fn(e)-1,e),t,2)}function lr(e,t){return kn(e.getFullYear()%100,t,2)}function cr(e,t){return kn((e=or(e)).getFullYear()%100,t,2)}function ur(e,t){return kn(e.getFullYear()%1e4,t,4)}function fr(e,t){var n=e.getDay();return kn((e=n>=4||0===n?on(e):on.ceil(e)).getFullYear()%1e4,t,4)}function pr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kn(t/60|0,"0",2)+kn(t%60,"0",2)}function dr(e,t){return kn(e.getUTCDate(),t,2)}function hr(e,t){return kn(e.getUTCHours(),t,2)}function yr(e,t){return kn(e.getUTCHours()%12||12,t,2)}function mr(e,t){return kn(1+Kt.count(dn(e),e),t,3)}function gr(e,t){return kn(e.getUTCMilliseconds(),t,3)}function vr(e,t){return gr(e,t)+"000"}function br(e,t){return kn(e.getUTCMonth()+1,t,2)}function xr(e,t){return kn(e.getUTCMinutes(),t,2)}function wr(e,t){return kn(e.getUTCSeconds(),t,2)}function Sr(e){var t=e.getUTCDay();return 0===t?7:t}function kr(e,t){return kn(Ht.count(dn(e)-1,e),t,2)}function Er(e){var t=e.getUTCDay();return t>=4||0===t?$t(e):$t.ceil(e)}function Cr(e,t){return e=Er(e),kn($t.count(dn(e),e)+(4===dn(e).getUTCDay()),t,2)}function Pr(e){return e.getUTCDay()}function Or(e,t){return kn(Yt.count(dn(e)-1,e),t,2)}function _r(e,t){return kn(e.getUTCFullYear()%100,t,2)}function jr(e,t){return kn((e=Er(e)).getUTCFullYear()%100,t,2)}function Tr(e,t){return kn(e.getUTCFullYear()%1e4,t,4)}function Ar(e,t){var n=e.getUTCDay();return kn((e=n>=4||0===n?$t(e):$t.ceil(e)).getUTCFullYear()%1e4,t,4)}function Dr(){return"+0000"}function Mr(){return"%"}function Nr(e){return+e}function Ir(e){return Math.floor(+e/1e3)}function Rr(e){return gn=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Cn(o),u=Pn(o),f=Cn(i),p=Pn(i),d=Cn(a),h=Pn(a),y=Cn(s),m=Pn(s),g=Cn(l),v=Pn(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Xn,e:Xn,f:Kn,g:cr,G:fr,H:$n,I:Gn,j:Qn,L:Zn,m:Jn,M:er,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Nr,s:Ir,S:tr,u:nr,U:rr,V:ir,w:ar,W:sr,x:null,X:null,y:lr,Y:ur,Z:pr,"%":Mr},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:dr,e:dr,f:vr,g:jr,G:Ar,H:hr,I:yr,j:mr,L:gr,m:br,M:xr,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Nr,s:Ir,S:wr,u:Sr,U:kr,V:Cr,w:Pr,W:Or,x:null,X:null,y:_r,Y:Tr,Z:Dr,"%":Mr},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:Ln,e:Ln,f:Wn,g:Mn,G:Dn,H:zn,I:zn,j:Fn,L:Un,m:Rn,M:Vn,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:In,Q:Yn,s:qn,S:Bn,u:_n,U:jn,V:Tn,w:On,W:An,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Mn,Y:Dn,Z:Nn,"%":Hn};function S(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=bn[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,o,i=mn(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=yn(mn(i.y,0,1))).getUTCDay(),r=o>4||0===o?Yt.ceil(r):Yt(r),r=Kt.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=hn(mn(i.y,0,1))).getDay(),r=o>4||0===o?tn.ceil(r):tn(r),r=cn.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?yn(mn(i.y,0,1)).getUTCDay():hn(mn(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,yn(i)):hn(i)}}function E(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in bn?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),vn=gn.format,gn.parse,gn.utcFormat,gn.utcParse,gn}function Lr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Rr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Fr=Math.sqrt(50),zr=Math.sqrt(10),Vr=Math.sqrt(2);function Br(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Fr?10:i>=zr?5:i>=Vr?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Fr?10:i>=zr?5:i>=Vr?2:1)}function Ur(e){let t=e,n=e;function r(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>Lr(e(t),n)}(e)),{left:r,center:function(e,n,o,i){null==o&&(o=0),null==i&&(i=e.length);const a=r(e,n,o,i-1);return a>o&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,o){for(null==r&&(r=0),null==o&&(o=e.length);r<o;){const i=r+o>>>1;n(e[i],t)>0?o=i:r=i+1}return r}}}const Wr=Ur(Lr),Hr=Wr.right,Yr=(Wr.left,Ur(function(e){return null===e?NaN:+e}).center,Hr);function qr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $r(){}var Gr=.7,Qr=1/Gr,Zr="\\s*([+-]?\\d+)\\s*",Kr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eo=/^#([0-9a-f]{3,8})$/,to=new RegExp("^rgb\\("+[Zr,Zr,Zr]+"\\)$"),no=new RegExp("^rgb\\("+[Jr,Jr,Jr]+"\\)$"),ro=new RegExp("^rgba\\("+[Zr,Zr,Zr,Kr]+"\\)$"),oo=new RegExp("^rgba\\("+[Jr,Jr,Jr,Kr]+"\\)$"),io=new RegExp("^hsl\\("+[Kr,Jr,Jr]+"\\)$"),ao=new RegExp("^hsla\\("+[Kr,Jr,Jr,Kr]+"\\)$"),so={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lo(){return this.rgb().formatHex()}function co(){return this.rgb().formatRgb()}function uo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?fo(t):3===n?new yo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?po(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?po(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=to.exec(e))?new yo(t[1],t[2],t[3],1):(t=no.exec(e))?new yo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ro.exec(e))?po(t[1],t[2],t[3],t[4]):(t=oo.exec(e))?po(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=io.exec(e))?bo(t[1],t[2]/100,t[3]/100,1):(t=ao.exec(e))?bo(t[1],t[2]/100,t[3]/100,t[4]):so.hasOwnProperty(e)?fo(so[e]):"transparent"===e?new yo(NaN,NaN,NaN,0):null}function fo(e){return new yo(e>>16&255,e>>8&255,255&e,1)}function po(e,t,n,r){return r<=0&&(e=t=n=NaN),new yo(e,t,n,r)}function ho(e,t,n,r){return 1===arguments.length?((o=e)instanceof $r||(o=uo(o)),o?new yo((o=o.rgb()).r,o.g,o.b,o.opacity):new yo):new yo(e,t,n,null==r?1:r);var o}function yo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mo(){return"#"+vo(this.r)+vo(this.g)+vo(this.b)}function go(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function vo(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function bo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wo(e,t,n,r)}function xo(e){if(e instanceof wo)return new wo(e.h,e.s,e.l,e.opacity);if(e instanceof $r||(e=uo(e)),!e)return new wo;if(e instanceof wo)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new wo(a,s,l,e.opacity)}function wo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function So(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ko(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}qr($r,uo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:lo,formatHex:lo,formatHsl:function(){return xo(this).formatHsl()},formatRgb:co,toString:co}),qr(yo,ho,Xr($r,{brighter:function(e){return e=null==e?Qr:Math.pow(Qr,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Gr:Math.pow(Gr,e),new yo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatRgb:go,toString:go})),qr(wo,function(e,t,n,r){return 1===arguments.length?xo(e):new wo(e,t,n,null==r?1:r)},Xr($r,{brighter:function(e){return e=null==e?Qr:Math.pow(Qr,e),new wo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Gr:Math.pow(Gr,e),new wo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new yo(So(e>=240?e-240:e+120,o,r),So(e,o,r),So(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Eo=e=>()=>e;function Co(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Eo(isNaN(e)?t:e)}const Po=function e(t){var n=function(e){return 1===(e=+e)?Co:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Eo(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=ho(e)).r,(t=ho(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Co(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Oo(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=ho(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}function _o(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Ro(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function jo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function To(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ao(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ro(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}Oo(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return ko((n-r/t)*t,a,o,i,s)}}),Oo(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return ko((n-r/t)*t,o,i,a,s)}});var Do=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mo=new RegExp(Do.source,"g");function No(e,t){var n,r,o,i=Do.lastIndex=Mo.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Do.exec(e))&&(r=Mo.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:To(n,r)})),i=Mo.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Io(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function Ro(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?Eo(t):("number"===o?To:"string"===o?(n=uo(t))?(t=n,Po):No:t instanceof uo?Po:t instanceof Date?jo:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?_o:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ao:To:Io))(e,t)}function Lo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Fo(e){return+e}var zo=[0,1];function Vo(e){return e}function Bo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Uo(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=Bo(o,r),i=n(a,i)):(r=Bo(r,o),i=n(i,a)),function(e){return i(r(e))}}function Wo(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=Bo(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=Yr(e,t,1,r)-1;return i[n](o[n](t))}}function Ho(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Yo,qo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xo(e){if(!(t=qo.exec(e)))throw new Error("invalid format: "+e);var t;return new $o({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $o(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Go(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qo(e){return(e=Go(Math.abs(e)))?e[1]:NaN}function Zo(e,t){var n=Go(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Xo.prototype=$o.prototype,$o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ko={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zo(100*e,t),r:Zo,s:function(e,t){var n=Go(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Yo=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Go(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jo(e){return e}var ei,ti,ni,ri=Array.prototype.map,oi=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ii(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=Br(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var o,i=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Fr?o*=10:i>=zr?o*=5:i>=Vr&&(o*=2),t<e?-o:o}(e,t,n);switch((r=Xo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qo(t)/3)))-Qo(Math.abs(e)))}(i,a))||(r.precision=o),ni(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qo(t)-Qo(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-Qo(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return ti(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,l=i[a],c=i[s],u=10;for(c<l&&(o=l,l=c,c=o,o=a,a=s,s=o);u-- >0;){if((o=Br(l,c,n))===r)return i[a]=l,i[s]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function ai(){var e=function(){var e,t,n,r,o,i,a=zo,s=zo,l=Ro,c=Vo;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==Vo&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Wo:Uo,o=i=null,f}function f(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(c(t)))}return f.invert=function(n){return c(t((i||(i=r(s,a.map(e),To)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Fo),u()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=Lo,u()},f.clamp=function(e){return arguments.length?(c=!!e||Vo,u()):c!==Vo},f.interpolate=function(e){return arguments.length?(l=e,u()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,u()}}()(Vo,Vo);return e.copy=function(){return t=e,ai().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},Ho.apply(e,arguments),ii(e)}ei=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Jo:(t=ri.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Jo:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(ri.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Xo(e)).fill,n=e.align,f=e.sign,p=e.symbol,d=e.zero,h=e.width,y=e.comma,m=e.precision,g=e.trim,v=e.type;"n"===v?(y=!0,v="g"):Ko[v]||(void 0===m&&(m=12),g=!0,v="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",w=Ko[v],S=/[defgprs%]/.test(v);function k(e){var o,i,l,p=b,k=x;if("c"===v)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),p=(E?"("===f?f:c:"-"===f||"("===f?"":f)+p,k=("s"===v?oi[8+Yo/3]:"")+k+(E&&"("===f?")":""),S)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){k=(46===l?a+e.slice(o+1):e.slice(o))+k,e=e.slice(0,o);break}}y&&!d&&(e=r(e,1/0));var C=p.length+e.length+k.length,P=C<h?new Array(h-C+1).join(t):"";switch(y&&d&&(e=r(P+e,P.length?h-k.length:1/0),P=""),n){case"<":e=p+e+k+P;break;case"=":e=p+P+e+k;break;case"^":e=P.slice(0,C=P.length>>1)+p+e+k+P.slice(C);break;default:e=P+p+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=Xo(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Qo(t)/3))),o=Math.pow(10,-r),i=oi[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),ti=ei.format,ni=ei.formatPrefix;var si={yearFormat:"%Y",quarterFormat:"%b",monthFormat:"%b",weekFormat:"%e",dayFormat:"%e",hourFormat:"%H:%M",minuteFormat:"%H:%M",secondFormat:"%H:%M:%S",milliSecondFormat:".%L"},li=[function(e,t,n){return e.startOfYear&&t.getFullYear()%12==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%4==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&t.getFullYear()%2==0&&"yearFormat"},function(e,t,n){return e.startOfYear&&"yearFormat"},function(e,t,n){return e.startOfQuarter&&"quarterFormat"},function(e,t,n){return e.startOfMonth&&"monthFormat"},function(e,t,n){return e.startOfWeek&&"weekFormat"},function(e,t,n){return e.startOfDay&&n%2==0&&"dayFormat"},function(e,t,n){return e.startOfDay&&"dayFormat"},function(e,t,n){return e.startOfHalfDay&&"hourFormat"},function(e,t,n){return e.startOfQuarterDay&&"hourFormat"},function(e,t,n){return e.startOfEighthOfADay&&"hourFormat"},function(e,t,n){return e.startOfHour&&t.getHours()%2==0&&"hourFormat"},function(e,t,n){return e.startOfHour&&"hourFormat"},function(e,t,n){return e.startOf30Minutes&&"minuteFormat"},function(e,t,n){return e.startOf15Minutes&&"minuteFormat"},function(e,t,n){return e.startOf5Minutes&&"minuteFormat"},function(e,t,n){return e.startOfMinute&&"minuteFormat"},function(e,t,n){return e.startOf30Seconds&&"secondFormat"},function(e,t,n){return e.startOf15Seconds&&"secondFormat"},function(e,t,n){return e.startOf5Seconds&&"secondFormat"},function(e,t,n){return e.startOfSecond&&"secondFormat"},function(e,t,n){return"milliSecondFormat"}];function ci(e,t){if(e){if("string"==typeof e)return ui(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(e,t):void 0}}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fi=li.length-1;function pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ai();if(void 0===e)throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");function n(e){return t(e)}return n.invert=function(e){var n=t.invert(e);return Math.round(1e4*n)/1e4},n.domain=function(e){return void 0===e?t.domain():(t.domain(e),n)},n.range=function(e){return void 0===e?t.range():(t.range(e),n)},n.rangeRound=function(e){return t.rangeRound(e)},n.clamp=function(e){return void 0===e?t.clamp():(t.clamp(e),n)},n.interpolate=function(e){return void 0===e?t.interpolate():(t.interpolate(e),n)},n.ticks=function(n){for(var r,o,i,a=t.ticks(n),s=new Map,l=(x=t.domain(),w=2,function(e){if(Array.isArray(e))return e}(x)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(x,w)||ci(x,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],f=Math.ceil(c),p=null===(r=e[0])||void 0===r?void 0:r.index,d=Math.max(f,p)+Math.abs(p),h=Math.min(Math.floor(u),null===(o=e[e.length-1])||void 0===o?void 0:o.index)+Math.abs(p),y=Math.ceil((h-d)/(u-c)*a.length),m=fi;m>=0;m--){for(var g=s.get(m),v=void 0===g?[]:g.slice(),b=d;b<=h;b++)e[b].level===m&&v.push(e[b]);s.set(m,v)}for(var x,w,S=[],k=fi;k>=0;k--){var E=null!==(i=s.get(k))&&void 0!==i?i:[];if(E.length+S.length>1.5*y)break;S=S.concat(E.map(function(e){return e.index}))}var C=S.sort(Lr);if(h-d>C.length){for(var P=new Set(C),O=Math.abs(e[0].index),_=Math.ceil(1.5*(a.length>0?(a[a.length-1]-a[0])/a.length/4:1)),j=0;j<C.length-1;j++)for(var T=j+1;T<C.length;T++)C[T]-C[j]<=_&&P.delete(e[C[j]+O].level>=e[C[T]+O].level?C[T]:C[j]);var A=function(e){return function(e){if(Array.isArray(e))return ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(P.values()).map(function(e){return parseInt(e,10)});return A}return C},n.tickFormat=function(){return function(t){var n=Math.abs(e[0].index),r=e[Math.floor(t+n)];return(0,r.format)(r.date)}},n.value=function(t){var n=Math.abs(e[0].index),r=e[Math.floor(t+n)];if(void 0!==r)return r.date},n.nice=function(e){return t.nice(e),n},n.index=function(t){return void 0===t?e:(e=t,n)},n.copy=function(){return pi(e,t.copy())},n}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hi=function(e,t,n,r){return li.map(function(o,i){return{level:li.length-i-1,format:r[o(e,t,n)]}}).find(function(e){return!!e.format})},yi=function(){var e,t,n,r,o=arguments,i=this,a=10,s=Nt,l=0,c=function(c){var u=n||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return _t(e)?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}}(t),f=mt(a).apply(i,o),p=c.slice(l,f+l).map(u),d=0,h=mt(e);return c.map(function(e,t){return t<l+f-1?h(u(e),t,r):(t>=l+f&&(p.shift(),p.push(u(e,t))),s(p,t,d++,r))})};return c.undefinedValue=function(t){return arguments.length?(e=t,c):e},c.windowSize=function(e){return arguments.length?(a=e,c):a},c.misc=function(e){return arguments.length?(r=e,c):r},c.accumulator=function(e){return arguments.length?(s=e,c):s},c.skipInitial=function(e){return arguments.length?(l=e,c):l},c.sourcePath=function(e){return arguments.length?(t=e,c):t},c.source=function(e){return arguments.length?(n=e,c):n},c}().windowSize(2).undefinedValue(function(e,t,n){var r=n.initialIndex,o=n.formatters,i=r,a={date:e.getTime(),startOfSecond:!1,startOf5Seconds:!1,startOf15Seconds:!1,startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},s=hi(a,e,i,o);return Object.assign(Object.assign(Object.assign({},a),{index:i}),s)}),mi=yi.accumulator(function(e,t,n,r){var o,i,a=(i=2,function(e){if(Array.isArray(e))return e}(o=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(e,t){if(e){if("string"==typeof e)return di(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1],c=r.initialIndex,u=r.formatters,f=l.getSeconds(),p=l.getMinutes(),d=l.getHours(),h=l.getDay(),y=l.getMonth(),m=f!==s.getSeconds(),g=m&&f%5==0,v=m&&f%15==0,b=m&&f%30==0,x=p!==s.getMinutes(),w=x&&p%5<=s.getMinutes()%5,S=x&&p%15<=s.getMinutes()%15,k=x&&p%30<=s.getMinutes()%30,E=d!==s.getHours(),C=E&&d%3==0,P=E&&d%6==0,O=E&&d%12==0,_=h!==s.getDay(),j=h<s.getDay(),T=y!==s.getMonth(),A=T&&y%3<=s.getMonth()%3,D=l.getFullYear()!==s.getFullYear(),M={date:l.getTime(),startOfSecond:m,startOf5Seconds:g,startOf15Seconds:v,startOf30Seconds:b,startOfMinute:x,startOf5Minutes:w,startOf15Minutes:S,startOf30Minutes:k,startOfHour:E,startOfEighthOfADay:C,startOfQuarterDay:P,startOfHalfDay:O,startOfDay:_,startOfWeek:j,startOfMonth:T,startOfQuarter:A,startOfYear:D},N=hi(M,l,t,u);return Object.assign(Object.assign(Object.assign({},M),{index:t+c}),N)});function gi(e,t,n,r){return function(o){var i=e(t),a=mi.source(i).misc({initialIndex:n,formatters:r})(o).map(function(e){var t=e.format;return{index:e.index,level:e.level,date:new Date(e.date),format:vn(t)}});return{index:a}}}function vi(){var e,t=0,n=function(e){return e},r=function(e){return e.date},o=function(e){return e.idx},i=function(e,t){return Object.assign(Object.assign({},e),{idx:t})},a=si,s=function(s){var l=e;void 0===l&&(l=gi(n,r,t,a)(s).index);var c=l,u=pi(c);return{data:Lt().combine(i)(s,c),xScale:u,xAccessor:function(e){var t;return e&&(null===(t=o(e))||void 0===t?void 0:t.index)},displayXAccessor:n(r)}};return s.initialIndex=function(e){return arguments.length?(t=e,s):t},s.inputDateAccessor=function(e){return arguments.length?(r=e,s):r},s.indexAccessor=function(e){return arguments.length?(o=e,s):o},s.indexMutator=function(e){return arguments.length?(i=e,s):i},s.withIndex=function(t){return arguments.length?(e=t,s):e},s.utc=function(){return n=function(e){return function(t){var n=e(t),r=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+r)}},s},s.setLocale=function(e,t){return void 0!==e&&Rr(e),void 0!==t&&(a=t),s},s.indexCalculator=function(){return gi(n,r,t,a)},s}vi();var bi=n(848),xi=function(e,t,n){for(var r=0,o=e.length-1;o-r>1;){var i=Math.round((r+o)/2);n(e[i])<=t?r=i:o=i}var a=n(e[r]),s=n(e[o]);return(null==a?void 0:a.valueOf())===(null==t?void 0:t.valueOf())&&(o=r),(null==s?void 0:s.valueOf())===(null==t?void 0:t.valueOf())&&(r=o),a<t&&s<t&&(r=o),a>t&&s>t&&(o=r),{left:r,right:o}},wi=function(e,t,n){var r=xi(e,t,n),o=r.left,i=r.right;if(o===i)return e[o];var a=n(e[o]),s=n(e[i]);return Math.abs(a.valueOf()-t.valueOf())<Math.abs(s.valueOf()-t.valueOf())?e[o]:e[i]};function Si(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function ki(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}var Ei=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n=Object.keys(e),r=n.length,o=0;o<r;o++)if(!(n[o]in t))return!1;for(var i=0;i<r;i++)if(e[n[i]]!==t[n[i]])return!1;return r===Object.keys(t).length},Ci=n(773),Pi=n.n(Ci);function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||_i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){if(e){if("string"==typeof e)return ji(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ji(e,t):void 0}}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ti={flipYScale:!1,id:0,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:ai()};function Ai(e){if(Array.isArray(e)&&2===e.length){var t=Oi(e,2),n=t[0],r=t[1];return"number"==typeof n&&"number"==typeof r}return!1}function Di(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.Children.map(n,function(t){if(t&&void 0!==(n=t.props)&&void 0!==n.id){var n,o=Object.assign(Object.assign({},Ti),t.props),i=o.id,a=o.origin,s=o.padding,l=o.yExtents,c=o.yScale,u=void 0===c?Ti.yScale:c,f=o.flipYScale,p=o.yExtentsCalculator,d=u.copy(),h=function(e,t){var n=e.width,r=e.height;return{availableHeight:r,width:n,height:t.height||r}}(e,o),y=h.width,m=h.height,g=h.availableHeight,v=o.yPan,b=o.yPanEnabled,x=l?(Array.isArray(l)?l:[l]).map(mt):void 0,w=r.find(function(e){return e.id===i});if(Ai(l))if(w&&w.yPan&&w.yPanEnabled&&v&&b&&Ei(w.originalYExtentsProp,l))d.domain(w.yScale.domain());else{var S=Oi(l,2),k=S[0],E=S[1];d.domain([k,E])}else w&&w.yPanEnabled&&(Ai(w.originalYExtentsProp)||(d.domain(w.yScale.domain()),b=!0));return{id:i,origin:mt(a)(y,g),padding:s,originalYExtentsProp:l,yExtents:x,yExtentsCalculator:p,flipYScale:f,yScale:d,yPan:v,yPanEnabled:b,width:y,height:m}}}).filter(function(e){return void 0!==e})}function Mi(e,t){return e.filter(function(e){var n=e.origin[1],r=n+e.height;return t[1]>n&&t[1]<r}).map(function(e){return e.id})}function Ni(e,t,n,r,o){var i=t.plotData,a=t.xAccessor,s=t.displayXAccessor,l=t.fullData,c=e.map(function(e){var t=e.yExtentsCalculator,o=e.yExtents,c=e.yScale,u=t?t({plotData:i,xDomain:n,xAccessor:a,displayXAccessor:s,fullData:l}):function(e,t,n){var r,o=e.map(function(e){return n.map((t=e,function(e){var n=t(e);return function(e){return _t(e)&&"object"===ht(e)&&!Array.isArray(e)}(n)?Mt(n):n}));var t}),i=Pi()(o);return t.invert?Si(i):function(e){if(Array.isArray(e))return ji(e)}(r=new Set(i).values())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||_i(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,c,i);return{realYDomain:u,yDomainDY:void 0!==r?c.range().map(function(e){return e-r}).map(c.invert):c.domain(),prevYDomain:c.domain()}});return Lt().combine(function(e,t){var n=t.realYDomain,r=t.yDomainDY,i=t.prevYDomain,a=e.id,s=e.padding,l=e.height,c=e.yScale,u=e.yPan,f=e.flipYScale,p=e.yPanEnabled,d=void 0!==p&&p,h=void 0===o||o.indexOf(a)>-1,y=u&&d?h?r:i:n,m=function(e,t,n,r){if(e.rangeRoundPoints||jt(e.invert)){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints&&e.rangeRoundPoints(r?[0,t]:[t,0],n),e.rangeRound&&e.range(r?[0,t]:[t,0]).padding(n)}else{var o=isNaN(n)?n:{top:n,bottom:n},i=o.top,a=o.bottom;e.range(r?[i,t-a]:[t-a,i])}return e}(c.copy().domain(y),l,s,f);return Object.assign(Object.assign({},e),{yScale:m,realYDomain:n})})(e,c)}function Ii(e,t,n,r){var o,i;if(e.invert)o=e.invert(n[0]),i=wi(r,o,t);else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});i=void 0!==a?r[a.idx]:r[0]}return i}function Ri(e,t,n,r){var o,i;if(e.invert){if((o=e.invert(n[0]))>t(Ot(r)))return Math.round(o.valueOf());i=wi(r,o,t)}else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});i=void 0!==a?r[a.idx]:r[0]}return t(i)}var Li=function(e){return(0,e.xAccessor)(Ot(e.plotData))};function Fi(){}function zi(e){return null==e?Fi:function(){return this.querySelector(e)}}function Vi(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Bi(){return[]}function Ui(e){return function(t){return t.matches(e)}}var Wi=Array.prototype.find;function Hi(){return this.firstElementChild}var Yi=Array.prototype.filter;function qi(){return this.children}function Xi(e){return new Array(e.length)}function $i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Gi(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new $i(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function Qi(e,t,n,r,o,i,a){var s,l,c,u=new Map,f=t.length,p=i.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<p;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new $i(e,i[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(d[s])===l&&(o[s]=l)}function Zi(e){return e.__data__}function Ki(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}$i.prototype={constructor:$i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Ji="http://www.w3.org/1999/xhtml";const ea={svg:"http://www.w3.org/2000/svg",xhtml:Ji,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ta(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ea.hasOwnProperty(t)?{space:ea[t],local:e}:e}function na(e){return function(){this.removeAttribute(e)}}function ra(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oa(e,t){return function(){this.setAttribute(e,t)}}function ia(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function aa(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function sa(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function la(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ca(e){return function(){this.style.removeProperty(e)}}function ua(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fa(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pa(e){return function(){delete this[e]}}function da(e,t){return function(){this[e]=t}}function ha(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ya(e){return e.trim().split(/^|\s+/)}function ma(e){return e.classList||new ga(e)}function ga(e){this._node=e,this._names=ya(e.getAttribute("class")||"")}function va(e,t){for(var n=ma(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ba(e,t){for(var n=ma(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function xa(e){return function(){va(this,e)}}function wa(e){return function(){ba(this,e)}}function Sa(e,t){return function(){(t.apply(this,arguments)?va:ba)(this,e)}}function ka(){this.textContent=""}function Ea(e){return function(){this.textContent=e}}function Ca(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Pa(){this.innerHTML=""}function Oa(e){return function(){this.innerHTML=e}}function _a(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ja(){this.nextSibling&&this.parentNode.appendChild(this)}function Ta(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Aa(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ji&&t.documentElement.namespaceURI===Ji?t.createElement(e):t.createElementNS(n,e)}}function Da(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ma(e){var t=ta(e);return(t.local?Da:Aa)(t)}function Na(){return null}function Ia(){var e=this.parentNode;e&&e.removeChild(this)}function Ra(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function La(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fa(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function za(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Va(e,t,n){var r=la(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Ba(e,t){return function(){return Va(this,e,t)}}function Ua(e,t){return function(){return Va(this,e,t.apply(this,arguments))}}ga.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Wa=[null];function Ha(e,t){this._groups=e,this._parents=t}function Ya(e){return"string"==typeof e?new Ha([[document.querySelector(e)]],[document.documentElement]):new Ha([[e]],Wa)}function qa(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xa(e,t){if(e=qa(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function $a(e,t){return e.target&&(e=qa(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,e=>Xa(e,t))}function Ga(e){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(e)}function Qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Za(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ja(r.key),r)}}function Ja(e){var t=function(e){if("object"!=Ga(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ga(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ga(t)?t:t+""}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ts(e)}function ns(e,t){return ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ns(e,t)}Ha.prototype=function(){return new Ha([[document.documentElement]],Wa)}.prototype={constructor:Ha,select:function(e){"function"!=typeof e&&(e=zi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Ha(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Vi(t)}}(e):function(e){return null==e?Bi:function(){return this.querySelectorAll(e)}}(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Ha(r,o)},selectChild:function(e){return this.select(null==e?Hi:function(e){return function(){return Wi.call(this.children,e)}}("function"==typeof e?e:Ui(e)))},selectChildren:function(e){return this.selectAll(null==e?qi:function(e){return function(){return Yi.call(this.children,e)}}("function"==typeof e?e:Ui(e)))},filter:function(e){"function"!=typeof e&&(e=function(e){return function(){return this.matches(e)}}(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Ha(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Zi);var n,r=t?Qi:Gi,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=o[u],p=i[u],d=p.length,h=Vi(e.call(f,f&&f.__data__,u,o)),y=h.length,m=l[u]=new Array(y),g=s[u]=new Array(y);r(f,p,m,g,c[u]=new Array(d),h,t);for(var v,b,x=0,w=0;x<y;++x)if(v=m[x]){for(x>=w&&(w=x+1);!(b=g[w])&&++w<y;);v._next=b||null}}return(s=new Ha(s,o))._enter=l,s._exit=c,s},enter:function(){return new Ha(this._enter||this._groups.map(Xi),this._parents)},exit:function(){return new Ha(this._exit||this._groups.map(Xi),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){if(!(e instanceof Ha))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(p[d]=l);for(;s<r;++s)a[s]=t[s];return new Ha(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ki);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Ha(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=ta(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?ra:na:"function"==typeof t?n.local?sa:aa:n.local?ia:oa)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ca:"function"==typeof t?fa:ua)(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||la(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?pa:"function"==typeof t?ha:da)(e,t)):this.node()[e]},classed:function(e,t){var n=ya(e+"");if(arguments.length<2){for(var r=ma(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?Sa:t?xa:wa)(n,t))},text:function(e){return arguments.length?this.each(null==e?ka:("function"==typeof e?Ca:Ea)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Pa:("function"==typeof e?_a:Oa)(e)):this.node().innerHTML},raise:function(){return this.each(ja)},lower:function(){return this.each(Ta)},append:function(e){var t="function"==typeof e?e:Ma(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Ma(e),r=null==t?Na:"function"==typeof t?t:zi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ia)},clone:function(e){return this.select(e?La:Ra)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?za:Fa,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ua:Ba)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var rs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},os=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=ts(t),function(e,t){if(t&&("object"==Ga(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,es()?Reflect.construct(t,n||[],ts(e).constructor):t.apply(e,n))}(this,n,[e])).dx=0,r.dy=0,r.mouseInside=!1,r.mouseInteraction=!0,r.ref=t.createRef(),r.handleEnter=function(e){var t=r.props.onMouseEnter;void 0!==t&&(r.mouseInside=!0,r.state.panInProgress||r.state.dragInProgress||Ya(gt(r.ref.current)).on(xt,r.handleMouseMove),t(e))},r.handleLeave=function(e){var t=r.props.onMouseLeave;void 0!==t&&(r.mouseInside=!1,r.state.panInProgress||r.state.dragInProgress||Ya(gt(r.ref.current)).on(xt,null),t(e))},r.handleWheel=function(e){var t=r.props,n=t.pan,o=t.onPan,i=t.zoom,a=t.onZoom;if(n||i){var s=r.state.panInProgress,l=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,c=At(e);if(e.preventDefault(),i&&r.focus&&l&&!s){var u=e.deltaY>0?1:-1;void 0!==a&&a(u,c,e)}else if(r.focus){if(r.shouldPan()&&void 0!==r.state.panStart){var f=r.state.panStart,p=f.panStartXScale,d=f.chartsToPan;r.lastNewPos=c,r.panHappened=!0,void 0===r.dx&&(r.dx=0),void 0===r.dy&&(r.dy=0),r.dx-=e.deltaX,r.dy+=e.deltaY;var h={dx:r.dx,dy:r.dy};void 0!==o&&o(c,p,h,d,e)}else{var y=r.props,m=y.xScale,g=Mi(y.chartConfig,c);r.dx=0,r.dy=0,r.setState({panInProgress:!0,panStart:{panStartXScale:m,panOrigin:c,chartsToPan:g}})}r.queuePanEnd(e)}}},r.handleMouseMove=function(e){var t=r.props,n=t.onMouseMove,o=t.mouseMove;void 0!==n&&r.mouseInteraction&&o&&!r.state.panInProgress&&n(Xa(e,r.ref.current),"mouse",e)},r.handleClick=function(e){var t=At(e),n=r.props,o=n.onClick,i=n.onDoubleClick;r.panHappened||r.dragHappened||(r.clicked&&void 0!==i?(i(t,e),r.clicked=!1):void 0!==o&&(o(t,e),r.clicked=!0,setTimeout(function(){r.clicked&&(r.clicked=!1)},400)))},r.handleRightClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props,n=t.onContextMenu,o=t.onPanEnd,i=At(e,r.ref.current.getBoundingClientRect());if(void 0!==r.state.panStart){var a=r.state.panStart,s=a.panStartXScale,l=Qa(a.panOrigin,2),c=l[0],u=l[1],f=a.chartsToPan;r.panHappened&&void 0!==o&&o(i,s,{dx:c,dy:u},f,e),Ya(gt(r.ref.current)).on(xt,null).on(wt,null),r.setState({panInProgress:!1,panStart:void 0})}void 0!==n&&n(i,e)},r.handleDrag=function(e){var t=r.props.onDrag;if(void 0!==t){r.dragHappened=!0;var n=r.state.dragStartPosition;void 0!==n&&t({startPos:n,mouseXY:Xa(e,r.ref.current)},e)}},r.handleDragEnd=function(e){var t=Xa(e,r.ref.current);if(Ya(gt(r.ref.current)).on(xt,r.mouseInside?r.handleMouseMove:null).on(wt,null),r.dragHappened){var n=r.props.onDragComplete;void 0!==n&&n({mouseXY:t},e)}r.setState({dragInProgress:!1}),r.mouseInteraction=!0},r.canPan=function(){var e=r.props.getAllPanConditions,t=r.props.pan,n=e().reduce(function(e,t){return{draggable:e.draggable||t.draggable,panEnabled:e.panEnabled&&t.panEnabled}},{draggable:!1,panEnabled:t});return{panEnabled:n.panEnabled,somethingSelected:n.draggable}},r.handleMouseDown=function(e){if(0===e.button){var t=r.props,n=t.xScale,o=t.chartConfig,i=t.onMouseDown;if(r.panHappened=!1,r.dragHappened=!1,r.focus=!0,!r.state.panInProgress&&r.mouseInteraction){var a=At(e),s=Mi(o,a),l=r.canPan(),c=l.panEnabled,u=l.somethingSelected,f=c&&!u;if(f)r.setState({panInProgress:f,panStart:{panStartXScale:n,panOrigin:a,chartsToPan:s}}),Ya(gt(r.ref.current)).on(xt,r.handlePan).on(wt,r.handlePanEnd);else if(u){r.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:a});var p=r.props.onDragStart;void 0!==p&&p({startPos:a},e),Ya(gt(r.ref.current)).on(xt,r.handleDrag).on(wt,r.handleDragEnd)}void 0!==i&&i(a,s,e)}e.preventDefault()}},r.shouldPan=function(){var e=r.props,t=e.pan,n=e.onPan;return t&&n&&void 0!==r.state.panStart},r.handlePan=function(e){if(r.shouldPan()&&void 0!==r.state.panStart){r.panHappened=!0;var t,n,o,i=r.state.panStart,a=i.panStartXScale,s=i.panOrigin,l=i.chartsToPan;r.mouseInteraction?(o=Xa(e,r.ref.current),r.lastNewPos=o,t=o[0]-s[0],n=o[1]-s[1]):(o=$a(e,r.ref.current)[0],r.lastNewPos=o,t=s[0]-o[0],n=s[1]-o[1]),r.dx=t,r.dy=n;var c=r.props.onPan;void 0!==c&&c(o,a,{dx:t,dy:n},l,e)}},r.handlePanEnd=function(e){var t=r.props,n=t.pan,o=t.onPanEnd;if(void 0!==r.state.panStart){var i=r.state.panStart,a=i.panStartXScale,s=i.chartsToPan;if(Ya(gt(r.ref.current)).on(xt,r.mouseInside?r.handleMouseMove:null).on(wt,null).on(St,null).on(kt,null),r.panHappened&&n&&o){var l=r,c=l.dx,u=void 0===c?0:c,f=l.dy,p=void 0===f?0:f;delete r.dx,delete r.dy,void 0!==r.lastNewPos&&o(r.lastNewPos,a,{dx:u,dy:p},s,e)}r.setState({panInProgress:!1,panStart:void 0})}},r.handleTouchMove=function(e){var t=r.props.onMouseMove;void 0!==t&&t(Tt(Et(e.touches[0]),e),"touch",e)},r.handleTouchStart=function(e){r.mouseInteraction=!1;var t=r.props,n=t.pan,o=t.chartConfig,i=t.onMouseMove,a=t.xScale,s=t.onPanEnd;if(1===e.touches.length){r.panHappened=!1;var l=Tt(Et(e.touches[0]),e);if(void 0!==i&&i(l,"touch",e),n){var c=Mi(o,l);r.setState({panInProgress:!0,panStart:{panStartXScale:a,panOrigin:l,chartsToPan:c}}),Ya(gt(r.ref.current)).on(St,r.handlePan,!1).on(kt,r.handlePanEnd,!1)}}else if(2===e.touches.length){var u=r.state,f=u.panInProgress,p=u.panStart;if(f&&n&&s&&void 0!==p){var d=p.panStartXScale,h=Qa(p.panOrigin,2),y=h[0],m=h[1],g=p.chartsToPan;Ya(gt(r.ref.current)).on(xt,r.mouseInside?r.handleMouseMove:null).on(wt,null).on(St,r.handlePinchZoom,!1).on(kt,r.handlePinchZoomEnd,!1);var v=Tt(Et(e.touches[0]),e),b=Tt(Et(e.touches[1]),e);r.panHappened&&n&&s&&void 0!==r.lastNewPos&&s(r.lastNewPos,d,{dx:y,dy:m},g,e),r.setState({panInProgress:!1,pinchZoomStart:{xScale:a,touch1Pos:v,touch2Pos:b,range:a.range(),chartsToPan:g}})}}},r.handlePinchZoom=function(e){var t=r.state.pinchZoomStart;if(void 0!==t){var n=r.props,o=n.xScale,i=n.zoom,a=n.onPinchZoom;if(i&&void 0!==a){var s=Qa($a(r.ref.current),2),l=s[0],c=s[1];t.chartsToPan,a(rs(t,["chartsToPan"]),{touch1Pos:l,touch2Pos:c,xScale:o},e)}}},r.handlePinchZoomEnd=function(e){Ya(gt(r.ref.current)).on(St,null).on(kt,null);var t=r.state.pinchZoomStart;if(void 0!==t){t.chartsToPan;var n=rs(t,["chartsToPan"]),o=r.props,i=o.zoom,a=o.onPinchZoomEnd;i&&a&&a(n,e),r.setState({pinchZoomStart:void 0})}},r.setCursorClass=function(e){e!==r.state.cursorOverrideClass&&r.setState({cursorOverrideClass:null===e?void 0:e})},r.focus=e.focus,r.state={panInProgress:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ns(e,t)}(n,e),r=n,o=[{key:"componentDidMount",value:function(){var e=this.props.disableInteraction,t=this.ref.current;null!==t&&(e||(Ya(t).on(vt,this.handleEnter).on(bt,this.handleLeave),t.addEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"componentWillUnmount",value:function(){var e=this.props.disableInteraction,t=this.ref.current;null!==t&&(e||(Ya(t).on(vt,null).on(bt,null),Ya(gt(t)).on(xt,null),t.removeEventListener("wheel",this.handleWheel,{passive:!1})))}},{key:"queuePanEnd",value:function(e){var t=this;void 0!==this.panEndTimeout&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout(function(){t.handlePanEnd(e)},100)}},{key:"cancelDrag",value:function(){Ya(gt(this.ref.current)).on(xt,this.mouseInside?this.handleMouseMove:null).on(wt,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.disableInteraction,o=e.useCrossHairStyleCursor,i=r?void 0:void 0!==this.state.cursorOverrideClass?this.state.cursorOverrideClass:o?this.state.panInProgress?"react-financial-charts-grabbing-cursor":"react-financial-charts-crosshair-cursor":void 0,a=r?void 0:{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return(0,bi.jsx)("rect",Object.assign({ref:this.ref,className:i,width:n,height:t,style:{opacity:0}},a))}}],o&&Ka(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function is(e){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(e)}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ss(r.key),r)}}function ss(e){var t=function(e){if("object"!=is(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==is(t)?t:t+""}function ls(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ls=function(){return!!e})()}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cs(e)}function us(e,t){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},us(e,t)}os.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};var fs=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t,n){return t=cs(t),function(e,t){if(t&&("object"==is(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ls()?Reflect.construct(t,n||[],cs(e).constructor):t.apply(e,n))}(this,n,arguments)).bgRef=t.createRef(),e.axesRef=t.createRef(),e.mouseRef=t.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&us(e,t)}(n,e),r=n,(o=[{key:"getCanvasContexts",value:function(){var e,t,n,r,o,i;return{bg:null!==(t=null===(e=this.bgRef.current)||void 0===e?void 0:e.getContext("2d"))&&void 0!==t?t:void 0,axes:null!==(r=null===(n=this.axesRef.current)||void 0===n?void 0:n.getContext("2d"))&&void 0!==r?r:void 0,mouseCoord:null!==(i=null===(o=this.mouseRef.current)||void 0===o?void 0:o.getContext("2d"))&&void 0!==i?i:void 0}}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.ratio,r=e.style,o=e.width,i=o*n,a=t*n,s={position:"absolute",width:o,height:t};return(0,bi.jsxs)("div",Object.assign({style:Object.assign(Object.assign({},r),{position:"absolute"})},{children:[(0,bi.jsx)("canvas",{ref:this.bgRef,width:i,height:a,style:s}),(0,bi.jsx)("canvas",{ref:this.axesRef,width:i,height:a,style:s}),(0,bi.jsx)("canvas",{ref:this.mouseRef,width:i,height:a,style:s})]}))}}])&&as(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.PureComponent);function ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ds(e,t,n,r){var o,i,a=e.lastItem,s=e.lastItemX,l=t(a),c=(o=n.range(),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(o,i)||function(e,t){if(e){if("string"==typeof e)return ps(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ps(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0];return(c[1]-u)/(s.valueOf()-u)*(l.valueOf()-r.valueOf())+r.valueOf()}function hs(e,t){return Math.floor(e*t)}function ys(e,t,n,r){var o=xi(e,t,r).left,i=xi(e,n,r).right;return e.slice(o,i+1)}function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vs(r.key),r)}}function vs(e){var t=function(e){if("object"!=ms(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ms(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ms(t)?t:t+""}function bs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bs=function(){return!!e})()}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xs(e)}function ws(e,t){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ws(e,t)}function Ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ks(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ks(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Es=["seriesName"],Cs=function(){},Ps={amIOnTop:function(){return!1},chartConfigs:[],chartId:0,ratio:0,displayXAccessor:function(){return 0},fullData:[],getMutableState:function(){return{}},height:0,margin:{top:0,right:0,bottom:0,left:0},plotData:[],setCursorClass:Cs,subscribe:Cs,unsubscribe:Cs,redraw:Cs,width:0,xAccessor:function(){return 0},xScale:Cs},Os=t.createContext(Ps),_s=function(e){var t=e.margin,n=e.height,r=e.width;return{height:n-t.top-t.bottom,width:r-t.left-t.right}},js=function(e){return e?-1:1},Ts=function(e){var t=e.data,n=e.plotFull,r=e.xScale,o=e.clamp,i=e.pointsPerPxThreshold,a=e.flipXScale,s=e.xAccessor,l=e.displayXAccessor,c=e.minPointsPerPxThreshold,u=function(e){var t=e.clamp,n=e.pointsPerPxThreshold,r=e.minPointsPerPxThreshold,o=e.flipXScale;return function(e,t,n,r,o){return{filterData:function(i,a,s,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=c.currentPlotData,f=c.currentDomain,p=c.fallbackStart,d=c.fallbackEnd,h=c.ignoreThresholds,y=void 0!==h&&h;if(e)return{plotData:i,domain:a};var m=Ct(a),g=Ot(a),v=a,b=ys(i,m,g,s);1===b.length&&void 0!==p&&(v=[m=p,g=ds(d,s,l,m)],b=ys(i,m,g,s)),"function"==typeof t?v=t(v,[s(Ct(i)),s(Ot(i))]):("left"!==t&&"both"!==t&&!0!==t||(v=[ki([m,s(Ct(i))]),v[1]]),"right"!==t&&"both"!==t&&!0!==t||(v=[v[0],It([g,s(Ot(i))])])),v!==a&&(b=ys(i,v[0],v[1],s));var x,w,S=v,k=l.copy().domain(S),E=Math.floor(k(s(Ot(b)))-k(s(Ct(b))));o&&E<0&&(E*=-1);var C=Ot(k.range())-Ct(k.range());if(y&&b.length>1||function(e,t,n,r){var o=function(e,t){return Math.max(1,Math.ceil(e*t))}(e,r),i=hs(e,n);return t>=o&&t<i}(E,b.length,n,r))x=b,w=S;else if(C>hs(E,n)&&_t(d)){x=b;var P=ds(d,s,l,Ct(S));w=[Ct(S),P]}else x=null!=u?u:b.slice(b.length-function(e,t){return Math.floor(.97*hs(e,t))}(E,n)),w=null!=f?f:[s(Ct(x)),s(Ot(x))];return{plotData:x,domain:w}}}}(e.useWholeData||jt(e.xScale.invert),t,n,r,o)}({xScale:r,useWholeData:void 0!==n?n:s===Rt,clamp:o,pointsPerPxThreshold:i,minPointsPerPxThreshold:c,flipXScale:a}),f=u.filterData;return{xAccessor:s,displayXAccessor:null!=l?l:s,xScale:r.copy(),fullData:t,filterData:f}},As=function(e){var t=Ds(e),n=t.xAccessor,r=t.displayXAccessor,o=t.fullData,i=t.plotData,a=t.xScale,s=e.postCalculator,l=e.children,c=void 0!==s?s(i):i,u=Ni(Di(_s(e),l),{plotData:c,xAccessor:n,displayXAccessor:r,fullData:o},a.domain());return Object.assign(Object.assign({},t),{xScale:a,plotData:c,chartConfigs:u})},Ds=function(e){var t=e.xAccessor,n=e.xExtents,r=e.data,o=e.padding,i=e.flipXScale,a=js(i),s=_s(e),l="function"==typeof n?n(r):Si(n.map(function(e){return mt(e)}).map(function(e){return e(r,t)})),c=Ts(e),u=c.xAccessor,f=c.displayXAccessor,p=c.xScale,d=c.fullData,h=c.filterData,y=Ms(p,s,o,a),m=h(d,l,t,y),g=m.plotData,v=m.domain;return{plotData:g,xScale:y.domain(v),xAccessor:u,displayXAccessor:f,fullData:d,filterData:h}},Ms=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints([0,t.width],n)}else if(e.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.range([0,t.width]),e.padding(n/2)}else{var o=isNaN(n)?n:{left:n,right:n},i=o.left,a=o.right;r>0?e.range([i,t.width-a]):e.range([t.width-a,i])}return e},Ns=function(e){var t=e.touch1Pos,n=e.touch2Pos;return{topLeft:[Math.min(t[0],n[0]),Math.min(t[1],n[1])],bottomRight:[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}},Is=function(e,t,n){return!isNaN(e(t(Ct(n))))&&_t(e.invert)},Rs=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=xs(t),function(e,t){if(t&&("object"==ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bs()?Reflect.construct(t,n||[],xs(e).constructor):t.apply(e,n))}(this,n,[e])).canvasContainerRef=t.createRef(),r.eventCaptureRef=t.createRef(),r.lastSubscriptionId=0,r.mutableState={mouseXY:[0,0],currentCharts:[],currentItem:null},r.panInProgress=!1,r.subscriptions=[],r.getMutableState=function(){return r.mutableState},r.getCanvasContexts=function(){var e;return null===(e=r.canvasContainerRef.current)||void 0===e?void 0:e.getCanvasContexts()},r.generateSubscriptionId=function(){return r.lastSubscriptionId++,r.lastSubscriptionId},r.subscribe=function(e,t){var n=t.getPanConditions,o=void 0===n?mt({draggable:!1,panEnabled:!0}):n;r.subscriptions=r.subscriptions.concat(Object.assign(Object.assign({id:e},t),{getPanConditions:o}))},r.unsubscribe=function(e){r.subscriptions=r.subscriptions.filter(function(t){return t.id!==e})},r.getAllPanConditions=function(){return r.subscriptions.map(function(e){return e.getPanConditions()})},r.setCursorClass=function(e){var t;null===(t=r.eventCaptureRef.current)||void 0===t||t.setCursorClass(e)},r.amIOnTop=function(e){var t=r.subscriptions.filter(function(e){return e.getPanConditions().draggable});return t.length>0&&Ot(t).id===e},r.handleContextMenu=function(e,t){var n=r.state,o=n.xAccessor,i=n.chartConfigs,a=n.plotData,s=n.xScale,l=Mi(i,e),c=Ii(s,o,e,a);r.triggerEvent("contextmenu",{mouseXY:e,currentItem:c,currentCharts:l},t)},r.calculateStateForDomain=function(e){var t=r.state,o=t.xAccessor,i=t.displayXAccessor,a=t.xScale,s=t.chartConfigs,l=t.plotData,c=r.state,u=c.filterData,f=c.fullData,p=r.props.postCalculator,d=void 0===p?n.defaultProps.postCalculator:p,h=u(f,e,o,a,{currentPlotData:l,currentDomain:a.domain()}),y=h.plotData,m=h.domain,g=d(y),v=a.copy().domain(m),b=Ni(s,{plotData:g,xAccessor:o,displayXAccessor:i,fullData:f},v.domain());return{xScale:v,plotData:g,chartConfigs:b}},r.pinchZoomHelper=function(e,t){var o=e.xScale,i=r.state,a=i.xScale,s=i.chartConfigs,l=i.plotData,c=i.xAccessor,u=i.displayXAccessor,f=i.filterData,p=i.fullData,d=r.props.postCalculator,h=void 0===d?n.defaultProps.postCalculator:d,y=Ns(e),m=y.topLeft,g=y.bottomRight,v=Ns(t),b=v.topLeft,x=v.bottomRight,w=o.range()[1],S=Math.round(-(g[0]*b[0]-m[0]*x[0])/(m[0]-g[0])),k=Math.round(w+((w-g[0])*(w-b[0])-(w-m[0])*(w-x[0]))/(w-m[0]-(w-g[0]))),E=f(p,[Math.round(-S*m[0]/(-S+b[0])),Math.round(w-(k-w)*(w-m[0])/(k+(w-b[0])))].map(o.invert),c,o,{currentPlotData:l,currentDomain:a.domain()}),C=E.plotData,P=E.domain,O=h(C),_=a.copy().domain(P),j=t.touch1Pos;return{chartConfigs:Ni(s,{plotData:O,xAccessor:c,displayXAccessor:u,fullData:p},_.domain()),xScale:_,plotData:O,mouseXY:j,currentItem:Ii(_,c,j,O),xAccessor:c,fullData:p}},r.handlePinchZoom=function(e,t,n){if(!r.waitingForPinchZoomAnimationFrame){r.waitingForPinchZoomAnimationFrame=!0;var o=r.pinchZoomHelper(e,t);r.triggerEvent("pinchzoom",o,n),r.finalPinch=t,requestAnimationFrame(function(){r.clearBothCanvas(),r.draw({trigger:"pinchzoom"}),r.waitingForPinchZoomAnimationFrame=!1})}},r.handlePinchZoomEnd=function(e,t){var o=r.state.xAccessor,i=void 0===o?n.defaultProps.xAccessor:o;if(r.finalPinch){var a=r.pinchZoomHelper(e,r.finalPinch),s=a.xScale,l=a.fullData;r.triggerEvent("pinchzoom",a,t),r.finalPinch=void 0,r.clearThreeCanvas();var c=Ct(l),u=Ct(s.domain()),f=i(c),p=Ot(l),d=Ot(s.domain()),h=i(p),y=r.props,m=y.onLoadAfter,g=y.onLoadBefore;r.setState(a,function(){u<f&&void 0!==g&&g(u,f),h<d&&void 0!==m&&m(h,d)})}},r.handleZoom=function(e,t,o){if(!r.panInProgress){var i=r.state,a=i.xAccessor,s=i.xScale,l=i.plotData,c=i.fullData,u=r.props,f=u.zoomMultiplier,p=void 0===f?n.defaultProps.zoomMultiplier:f,d=u.zoomAnchor,h=(void 0===d?n.defaultProps.zoomAnchor:d)({xScale:s,xAccessor:a,mouseXY:t,plotData:l}),y=s(h),m=e>0?1*p:1/p,g=s.range().map(function(e){return y+(e-y)*m}).map(function(e){return s.invert(e)}),v=r.calculateStateForDomain(g),b=v.xScale,x=v.plotData,w=v.chartConfigs,S=Ii(b,a,t,x),k=Mi(w,t),E=Ct(c),C=Ct(b.domain()),P=a(E),O=Ot(c),_=Ot(b.domain()),j=a(O);r.mutableState={mouseXY:t,currentItem:S,currentCharts:k},r.triggerEvent("zoom",{xScale:b,plotData:x,chartConfigs:w,mouseXY:t,currentCharts:k,currentItem:S,show:!0},o);var T=r.props,A=T.onLoadAfter,D=T.onLoadBefore;r.setState({xScale:b,plotData:x,chartConfigs:w},function(){C<P&&void 0!==D&&D(C,P),j<_&&void 0!==A&&A(j,_)})}},r.xAxisZoom=function(e){var t=r.calculateStateForDomain(e),n=t.xScale,o=t.plotData,i=t.chartConfigs;r.clearThreeCanvas();var a=r.state,s=a.xAccessor,l=a.fullData,c=Ct(l),u=Ct(n.domain()),f=s(c),p=Ot(l),d=Ot(n.domain()),h=s(p),y=r.props,m=y.onLoadAfter,g=y.onLoadBefore;r.setState({xScale:n,plotData:o,chartConfigs:i},function(){u<f&&void 0!==g&&g(u,f),h<d&&void 0!==m&&m(h,d)})},r.yAxisZoom=function(e,t){r.clearThreeCanvas();var n=r.state.chartConfigs.map(function(n){if(n.id===e){var r=n.yScale;return Object.assign(Object.assign({},n),{yScale:r.copy().domain(t),yPanEnabled:!0})}return n});r.setState({chartConfigs:n})},r.draw=function(e){r.subscriptions.forEach(function(t){_t(t.draw)&&t.draw(e)})},r.redraw=function(){r.clearThreeCanvas(),r.draw({force:!0})},r.panHelper=function(e,t,o,i){var a=o.dx,s=o.dy,l=r.state,c=l.xAccessor,u=l.displayXAccessor,f=l.chartConfigs,p=l.filterData,d=l.fullData,h=r.props.postCalculator,y=void 0===h?n.defaultProps.postCalculator:h,m=p(d,t.range().map(function(e){return e-a}).map(function(e){return t.invert(e)}),c,t,{currentPlotData:r.hackyWayToStopPanBeyondBounds__plotData,currentDomain:r.hackyWayToStopPanBeyondBounds__domain}),g=m.plotData,v=m.domain,b=t.copy().domain(v),x=y(g),w=Ii(b,c,e,x),S=Ni(f,{plotData:x,xAccessor:c,displayXAccessor:u,fullData:d},b.domain(),s,i);return{xScale:b,plotData:x,chartConfigs:S,mouseXY:e,currentCharts:Mi(S,e),currentItem:w}},r.handlePan=function(e,t,n,o,i){var a,s;if(!r.waitingForPanAnimationFrame){r.waitingForPanAnimationFrame=!0,r.hackyWayToStopPanBeyondBounds__plotData=null!==(a=r.hackyWayToStopPanBeyondBounds__plotData)&&void 0!==a?a:r.state.plotData,r.hackyWayToStopPanBeyondBounds__domain=null!==(s=r.hackyWayToStopPanBeyondBounds__domain)&&void 0!==s?s:r.state.xScale.domain();var l=r.panHelper(e,t,n,o);r.hackyWayToStopPanBeyondBounds__plotData=l.plotData,r.hackyWayToStopPanBeyondBounds__domain=l.xScale.domain(),r.panInProgress=!0,r.triggerEvent("pan",l,i),r.mutableState={mouseXY:l.mouseXY,currentItem:l.currentItem,currentCharts:l.currentCharts},r.setState({xScale:l.xScale,plotData:l.plotData,chartConfigs:l.chartConfigs}),requestAnimationFrame(function(){r.waitingForPanAnimationFrame=!1,r.clearBothCanvas(),r.draw({trigger:"pan"})})}},r.handlePanEnd=function(e,t,n,o,i){var a=r.panHelper(e,t,n,o);r.hackyWayToStopPanBeyondBounds__plotData=null,r.hackyWayToStopPanBeyondBounds__domain=null,r.panInProgress=!1;var s=a.xScale,l=a.plotData,c=a.chartConfigs;r.triggerEvent("panend",a,i),requestAnimationFrame(function(){var e=r.state,t=e.xAccessor,n=e.fullData,o=Ct(n),i=Ct(s.domain()),a=t(o),u=Ot(n),f=Ot(s.domain()),p=t(u),d=r.props,h=d.onLoadAfter,y=d.onLoadBefore;r.clearThreeCanvas(),r.setState({xScale:s,plotData:l,chartConfigs:c},function(){i<a&&void 0!==y&&y(i,a),p<f&&void 0!==h&&h(p,f)})})},r.handleMouseDown=function(e,t,n){r.triggerEvent("mousedown",r.mutableState,n)},r.handleMouseEnter=function(e){r.triggerEvent("mouseenter",{show:!0},e)},r.handleMouseMove=function(e,t,n){if(!r.waitingForMouseMoveAnimationFrame){r.waitingForMouseMoveAnimationFrame=!0;var o=r.state,i=o.chartConfigs,a=o.plotData,s=o.xScale,l=o.xAccessor,c=Mi(i,e),u=Ii(s,l,e,a);r.triggerEvent("mousemove",{show:!0,mouseXY:e,prevMouseXY:r.prevMouseXY,currentItem:u,currentCharts:c},n),r.prevMouseXY=e,r.mutableState={mouseXY:e,currentItem:u,currentCharts:c},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"mousemove"}),r.waitingForMouseMoveAnimationFrame=!1})}},r.handleMouseLeave=function(e){r.triggerEvent("mouseleave",{show:!1},e),r.clearMouseCanvas(),r.draw({trigger:"mouseleave"})},r.handleDragStart=function(e,t){var n=e.startPos;r.triggerEvent("dragstart",{startPos:n},t)},r.handleDrag=function(e,t){var n=e.startPos,o=e.mouseXY,i=r.state,a=i.chartConfigs,s=i.plotData,l=i.xScale,c=i.xAccessor,u=Mi(a,o),f=Ii(l,c,o,s);r.triggerEvent("drag",{startPos:n,mouseXY:o,currentItem:f,currentCharts:u},t),r.mutableState={mouseXY:o,currentItem:f,currentCharts:u},requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"drag"})})},r.handleDragEnd=function(e,t){var n=e.mouseXY;r.triggerEvent("dragend",{mouseXY:n},t),requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"dragend"})})},r.handleClick=function(e,t){r.triggerEvent("click",r.mutableState,t),requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw({trigger:"click"})})},r.handleDoubleClick=function(e,t){r.triggerEvent("dblclick",{},t)},r.resetYDomain=function(e){var t=r.state.chartConfigs,n=!1,o=t.map(function(t){return!jt(e)&&t.id!==e||Ei(t.yScale.domain(),t.realYDomain)?t:(n=!0,Object.assign(Object.assign({},t),{yScale:t.yScale.domain(t.realYDomain),yPanEnabled:!1}))});n&&(r.clearThreeCanvas(),r.setState({chartConfigs:o}))},r.state=As(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ws(e,t)}(n,e),r=n,o=[{key:"getSnapshotBeforeUpdate",value:function(e,t){return t.propIteration===this.state.propIteration||this.panInProgress||this.clearThreeCanvas(),null}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.triggerEvent("dataupdated",{chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,plotData:this.state.plotData})}},{key:"clearBothCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&e.mouseCoord&&Dt([e.axes,e.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&Dt([e.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&e.mouseCoord&&e.bg&&Dt([e.axes,e.mouseCoord,e.bg],this.props.ratio)}},{key:"cancelDrag",value:function(){var e;null===(e=this.eventCaptureRef.current)||void 0===e||e.cancelDrag(),this.triggerEvent("dragcancel")}},{key:"triggerEvent",value:function(e,t,n){var r=this;this.subscriptions.forEach(function(o){var i=Object.assign(Object.assign({},r.state),{subscriptions:r.subscriptions});o.listener(e,t,i,n)})}},{key:"getContextValues",value:function(){var e=_s(this.props);return{chartId:-1,fullData:this.state.fullData,plotData:this.state.plotData,width:e.width,height:e.height,chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var e=this.props,t=e.disableInteraction,r=e.disablePan,o=e.disableZoom,i=e.useCrossHairStyleCursor,a=e.onClick,s=e.onDoubleClick,l=e.height,c=e.width,u=e.margin,f=void 0===u?n.defaultProps.margin:u,p=e.className,d=e.zIndex,h=void 0===d?n.defaultProps.zIndex:d,y=e.defaultFocus,m=e.ratio,g=e.mouseMoveEvent,v=this.state,b=v.plotData,x=v.xScale,w=v.xAccessor,S=v.chartConfigs,k=_s(this.props),E=Is(x,w,b),C=i&&E,P=(0,bi.jsx)("style",Object.assign({type:"text/css"},{children:"\n\t.react-financial-charts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-financial-charts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-financial-charts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-financial-charts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-financial-charts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-financial-charts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-financial-charts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-financial-charts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}"}));return(0,bi.jsx)(Os.Provider,Object.assign({value:this.getContextValues()},{children:(0,bi.jsxs)("div",Object.assign({style:{position:"relative",width:c,height:l},className:p,onClick:a,onDoubleClick:s},{children:[(0,bi.jsx)(fs,{ref:this.canvasContainerRef,ratio:m,width:c,height:l,style:{height:l,zIndex:h,width:c}}),(0,bi.jsxs)("svg",Object.assign({className:p,width:c,height:l,style:{position:"absolute",zIndex:h+5}},{children:[P,(0,bi.jsxs)("defs",{children:[(0,bi.jsx)("clipPath",Object.assign({id:"chart-area-clip"},{children:(0,bi.jsx)("rect",{x:"0",y:"0",width:k.width,height:k.height})})),S.map(function(e,t){return(0,bi.jsx)("clipPath",Object.assign({id:"chart-area-clip-".concat(e.id)},{children:(0,bi.jsx)("rect",{x:"0",y:"0",width:e.width,height:e.height})}),t)})]}),(0,bi.jsxs)("g",Object.assign({transform:"translate(".concat(f.left+.5,", ").concat(f.top+.5,")")},{children:[(0,bi.jsx)(os,{ref:this.eventCaptureRef,useCrossHairStyleCursor:C,mouseMove:g&&E,zoom:!o&&E,pan:!r&&E,width:k.width,height:k.height,chartConfig:S,xScale:x,xAccessor:w,focus:y,disableInteraction:t,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),(0,bi.jsx)("g",Object.assign({className:"react-financial-charts-avoid-interaction"},{children:this.props.children}))]}))]}))]}))}))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,o,i,a=t.chartConfigs,s=t.plotData,l=t.xAccessor,c=t.xScale,u=Is(c,l,s),f=(r=t.lastProps||{},o=e,!Es.every(function(e){return Ei(r[e],o[e])}));if(u&&!f&&Ei(null===(n=t.lastProps)||void 0===n?void 0:n.xExtents,e.xExtents)){var p=Ss(c.domain(),2),d=p[0],h=p[1],y=Ot(t.fullData),m=Ts(e),g=(0,m.xAccessor)(y);i=function(e,t,n,r,o){var i,a=e.fullData,s=e.xScale,l=e.xAccessor,c=e.displayXAccessor,u=e.filterData,f=Ot(a),p=l(f),d=Ss(t.domain(),2),h=d[0],y=d[1],m=n.postCalculator,g=n.children,v=n.padding,b=n.flipXScale,x=n.maintainPointsPerPixelOnResize,w=js(b),S=_s(n),k=Ms(s,S,v,w);if(!r||y>=p){var E=Ss(t.range(),2),C=E[0],P=E[1],O=Ss(k.range(),2),_=O[0],j=(O[1]-_)/(P-C)*(y.valueOf()-h.valueOf()),T=u(a,[x?y.valueOf()-j:h,y],l,k,{fallbackStart:h,fallbackEnd:{lastItem:f,lastItemX:t(p)}});i=T.plotData,k.domain(T.domain)}else if(r&&y<p){var A=t(p)-t.range()[1],D=Ss(t.range().map(function(e){return e+A}).map(function(e){return t.invert(e)}),2),M=u(a,[D[0],D[1]],l,k);i=M.plotData,k.domain(M.domain)}var N=m(i),I=Ni(Di(S,g,o),{plotData:N,xAccessor:l,displayXAccessor:c,fullData:a},k.domain());return{xScale:k,xAccessor:l,chartConfigs:I,plotData:N,fullData:a,filterData:u}}(m,c,e,g<=h&&g>=d,a)}else i=As(e);return Object.assign(Object.assign({},i),{lastProps:e,propIteration:(t.propIteration||0)+1})}}],o&&gs(r.prototype,o),i&&gs(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(t.Component);function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zs(r.key),r)}}function zs(e){var t=function(e){if("object"!=Ls(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ls(t)?t:t+""}function Vs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vs=function(){return!!e})()}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bs(e)}function Us(e,t){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Us(e,t)}Rs.defaultProps={clamp:!1,className:"react-financial-charts",defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:.01,mouseMoveEvent:!0,postCalculator:Rt,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:Rt,xExtents:[It,ki],zIndex:1,zoomAnchor:function(e){var t=e.xScale,n=e.xAccessor;return n(Ii(t,n,e.mouseXY,e.plotData))},zoomMultiplier:1.1};var Ws={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag",zoom:"zoom"},Hs=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,n){return t=Bs(t),function(e,t){if(t&&("object"==Ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vs()?Reflect.construct(t,n||[],Bs(e).constructor):t.apply(e,n))}(this,t,[e,n])).moreProps={},r.dragInProgress=!1,r.evaluationInProgress=!1,r.iSetTheCursorClass=!1,r.listener=function(e,t,n,o){void 0!==t&&r.updateMoreProps(t),r.evaluationInProgress=!0,r.evaluateType(e,o),r.evaluationInProgress=!1},r.drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getPanConditions=r.getPanConditions.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r);var o=n.generateSubscriptionId;return r.subscriberId=o(),r.state={updateCount:0},r.updateMorePropsFromContext(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Us(e,t)}(t,e),n=t,r=[{key:"updateMorePropsFromContext",value:function(e,t){var n=t.xScale,r=t.plotData,o=t.chartConfig,i=t.getMutableState;this.moreProps=Object.assign(Object.assign(Object.assign({},this.moreProps),i()),{xScale:n,plotData:r,chartConfig:o})}},{key:"updateMoreProps",value:function(e){var t=this;Object.keys(e).forEach(function(n){t.moreProps[n]=e[n]})}},{key:"shouldTypeProceed",value:function(e,t){return!0}},{key:"preEvaluate",value:function(e,t,n){}},{key:"evaluateType",value:function(e,t){var n=Ws[e]||e;if(this.props.drawOn.indexOf(n)>-1&&(this.preEvaluate(e,this.moreProps,t),this.shouldTypeProceed(e,this.moreProps)))switch(e){case"zoom":case"mouseenter":break;case"mouseleave":this.moreProps.hovering=!1,this.props.onUnHover&&this.props.onUnHover(t,this.getMoreProps());break;case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(t,this.getMoreProps()),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(t,this.getMoreProps());break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(t,this.getMoreProps());break;case"click":var r=this.props,o=r.onClick,i=r.onClickOutside,a=r.onClickWhenHover,s=this.getMoreProps();s.hovering&&void 0!==a?a(t,s):void 0!==i&&i(t,s),void 0!==o&&o(t,s);break;case"mousemove":var l=this.moreProps.hovering;this.moreProps.hovering=this.isHover(t);var c=this.context,u=c.amIOnTop,f=c.setCursorClass;this.moreProps.hovering&&!this.props.selected&&u(this.subscriberId)&&void 0!==this.props.onHover?(f("react-financial-charts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&u(this.subscriberId)?(f(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):l&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,f(null));var p=this.getMoreProps();this.moreProps.hovering&&!l&&this.props.onHover&&this.props.onHover(t,p),l&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(t,p),this.props.onMouseMove&&this.props.onMouseMove(t,p);break;case"dblclick":var d=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(t,d),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(t,d);break;case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(t,this.getMoreProps());break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(t,this.getMoreProps());break;case"dragstart":this.getPanConditions().draggable&&(0,this.context.amIOnTop)(this.subscriberId)&&(this.dragInProgress=!0,void 0!==this.props.onDragStart&&this.props.onDragStart(t,this.getMoreProps()));break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(t,this.getMoreProps());break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(t,this.getMoreProps()),this.dragInProgress=!1;break;case"dragcancel":(this.dragInProgress||this.iSetTheCursorClass)&&(0,this.context.setCursorClass)(null)}}},{key:"isHover",value:function(e){var t=this.props.isHover;return void 0!==t&&t(this.getMoreProps(),e)}},{key:"getPanConditions",value:function(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}},{key:"draw",value:function(e){var t=e.trigger,n=e.force,r=void 0!==n&&n,o=Ws[t]||t;if(this.props.drawOn.indexOf(o)>-1||this.props.selected||r)if(void 0===this.props.canvasDraw){var i=this.state.updateCount;this.setState({updateCount:i+1})}else this.drawOnCanvas()}},{key:"componentDidMount",value:function(){var e=this.context,t=e.subscribe,n=e.chartId,r=this.props,o=r.clip,i=r.edgeClip;t(this.subscriberId,{chartId:n,clip:o,edgeClip:i,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.componentDidUpdate(this.props)}},{key:"componentWillUnmount",value:function(){(0,this.context.unsubscribe)(this.subscriberId),this.iSetTheCursorClass&&(0,this.context.setCursorClass)(null)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasDraw,r=t.selected,o=t.interactiveCursorClass;if(this.updateMorePropsFromContext(this.props,this.context),e.selected!==r){var i=this.context.setCursorClass;r&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,i(o)):(this.iSetTheCursorClass=!1,i(null))}void 0===n||this.evaluationInProgress||(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfigs,o=e.morePropsDecorator,i=e.xAccessor,a=e.displayXAccessor,s=e.width,l=e.height,c=this.context,u=c.chartId,f=c.fullData,p=Object.assign({xScale:t,plotData:n,chartConfigs:r,xAccessor:i,displayXAccessor:a,width:s,height:l,chartId:u,fullData:f},this.moreProps);return(o||Rt)(p)}},{key:"preCanvasDraw",value:function(e,t){}},{key:"postCanvasDraw",value:function(e,t){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw;if(void 0!==t&&void 0!==n){var r=this.context.getCanvasContexts,o=this.getMoreProps(),i=n(r());void 0!==i&&(this.preCanvasDraw(i,o),t(i,o),this.postCanvasDraw(i,o))}}},{key:"render",value:function(){var e=this.props,t=e.canvasDraw,n=e.clip,r=e.svgDraw;if(void 0!==t||void 0===r)return null;var o=this.context.chartId,i=n?{clipPath:"url(#chart-area-clip".concat(void 0!==o?"-"+o:"",")")}:void 0;return(0,bi.jsx)("g",Object.assign({style:i},{children:r(this.getMoreProps())}))}}],r&&Fs(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);Hs.defaultProps={svgDraw:mt(null),draw:[],canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1},Hs.contextType=Os;var Ys=function(e){return e.axes},qs=function(e){return e.mouseCoord},Xs=function(e){var t=$s(e).split(",");return 1===t.length?[]:t.map(function(e){return Number(e)})},$s=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}};function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Qs=t.createContext(Object.assign(Object.assign({},Ps),{chartConfig:{},chartId:0})),Zs=t.memo(function(e){var n=e.id,r=void 0===n?0:n,o=e.onContextMenu,i=e.onDoubleClick,a=t.useContext(Os),s=a.subscribe,l=a.unsubscribe,c=a.chartConfigs,u=t.useCallback(function(e,t,n,a){switch(e){case"contextmenu":if(void 0===o)return;t.currentCharts.indexOf(r)>-1&&o(a,t);break;case"dblclick":if(void 0===i)return;t.currentCharts.indexOf(r)>-1&&i(a,t)}},[o,i,r]);t.useEffect(function(){return s("chart_".concat(r),{listener:u}),function(){return l("chart_".concat(r))}},[s,l,r,u]);var f,p,d=c.find(function(t){return t.id===e.id}),h=t.useMemo(function(){return Object.assign(Object.assign({},a),{chartId:r,chartConfig:d})},[r,d,a]),y=(f=d.origin,p=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(f,p)||function(e,t){if(e){if("string"==typeof e)return Gs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(e,t):void 0}}(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],g=y[1];return(0,bi.jsx)(Qs.Provider,Object.assign({value:h},{children:(0,bi.jsx)("g",Object.assign({transform:"translate(".concat(m,", ").concat(g,")"),id:"chart_".concat(r)},{children:e.children}))}))});function Ks(e){return Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(e)}function Js(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return el(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nl(r.key),r)}}function nl(e){var t=function(e){if("object"!=Ks(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ks(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ks(t)?t:t+""}function rl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rl=function(){return!!e})()}function ol(e,t,n,r){var o=il(al(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function il(){return il="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=al(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},il.apply(null,arguments)}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},al(e)}function sl(e,t){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sl(e,t)}Zs.displayName="Chart";var ll=["drag","dragend"],cl=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t,n){return t=al(t),function(e,t){if(t&&("object"==Ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rl()?Reflect.construct(t,n||[],al(e).constructor):t.apply(e,n))}(this,t,[e,n])).preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.shouldTypeProceed=r.shouldTypeProceed.bind(r),r.preEvaluate=r.preEvaluate.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sl(e,t)}(t,e),n=t,r=[{key:"preCanvasDraw",value:function(e,n){ol(t,"preCanvasDraw",this,3)([e,n]),e.save();var r=this.context,o=r.margin,i=r.ratio,a=n.chartConfig,s=a.width,l=a.height,c=a.origin,u=.5*i+c[0]+o.left,f=.5*i+c[1]+o.top,p=this.props,d=p.clip,h=p.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(i,i),h&&(e.beginPath(),e.rect(-1,f-10,s+o.left+o.right+1,l+20),e.clip()),e.translate(u,f),d&&(e.beginPath(),e.rect(-1,-1,s+1,l+1),e.clip())}},{key:"postCanvasDraw",value:function(e,n){ol(t,"postCanvasDraw",this,3)([e,n]),e.restore()}},{key:"updateMoreProps",value:function(e){ol(t,"updateMoreProps",this,3)([e]);var n=e.chartConfig;if(n&&Array.isArray(n)){var r=this.context.chartId,o=n.find(function(e){return e.id===r});this.moreProps.chartConfig=o}if(_t(this.moreProps.chartConfig)){var i=Js(this.moreProps.chartConfig.origin,2),a=i[0],s=i[1];if(_t(e.mouseXY)){var l=Js(e.mouseXY,2),c=l[0],u=l[1];this.moreProps.mouseXY=[c-a,u-s]}if(_t(e.startPos)){var f=Js(e.startPos,2),p=f[0],d=f[1];this.moreProps.startPos=[p-a,d-s]}}}},{key:"preEvaluate",value:function(){}},{key:"shouldTypeProceed",value:function(e,t){return!("mousemove"!==e&&"click"!==e||!this.props.disablePan)||-1!==ll.indexOf(e)||!_t(t)||!_t(t.currentCharts)||t.currentCharts.indexOf(this.context.chartId)>-1}}],r&&tl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Hs);cl.defaultProps=Hs.defaultProps,cl.contextType=Qs;const ul=Math.PI,fl=2*ul,pl=1e-6,dl=fl-pl;function hl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yl(){return new hl}hl.prototype=yl.prototype={constructor:hl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,u=a-t,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>pl)if(Math.abs(u*s-l*c)>pl&&o){var p=n-i,d=r-a,h=s*s+l*l,y=p*p+d*d,m=Math.sqrt(h),g=Math.sqrt(f),v=o*Math.tan((ul-Math.acos((h+f-y)/(2*m*g)))/2),b=v/g,x=v/m;Math.abs(b-1)>pl&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>c*d)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>pl||Math.abs(this._y1-c)>pl)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%fl+fl),f>dl?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>pl&&(this._+="A"+n+","+n+",0,"+ +(f>=ul)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const ml=yl;function gl(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function vl(e){return function(){return e}}function bl(e){this._context=e}function xl(e){return new bl(e)}function wl(e){return e[0]}function Sl(e){return e[1]}function kl(e,t){var n=vl(!0),r=null,o=xl,i=null;function a(a){var s,l,c,u=(a=gl(a)).length,f=!1;for(null==r&&(i=o(c=ml())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(l,s,a),+t(l,s,a));if(c)return i=null,c+""||null}return e="function"==typeof e?e:void 0===e?wl:vl(e),t="function"==typeof t?t:void 0===t?Sl:vl(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:vl(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:vl(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:vl(!!e),a):n},a.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),a):o},a.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),a):r},a}function El(e){return El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(e)}function Cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ol(r.key),r)}}function Ol(e){var t=function(e){if("object"!=El(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=El(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==El(t)?t:t+""}function _l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_l=function(){return!!e})()}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jl(e)}function Tl(e,t){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tl(e,t)}Array.prototype.slice,bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Al=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=jl(t),function(e,t){if(t&&("object"==El(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_l()?Reflect.construct(t,n||[],jl(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n){return function(r,o){var i=e.props,a=i.connectNulls,s=i.yAccessor,l=i.hoverStrokeWidth,c=void 0===l?t.defaultProps.hoverStrokeWidth:l,u=i.defined,f=void 0===u?t.defaultProps.defined:u,p=i.curve,d=i.canvasClip,h=i.strokeStyle,y=i.strokeWidth,m=void 0===y?t.defaultProps.strokeWidth:y,g=o.xAccessor,v=o.xScale,b=o.chartConfig,x=o.plotData,w=o.hovering;if(b){var S=b.yScale;void 0!==d&&(r.save(),d(r,o)),r.lineWidth=w?c:m,void 0!==h&&(r.strokeStyle=h),void 0!==n&&r.setLineDash(n);var k=kl().x(function(e){return Math.round(v(g(e)))}).y(function(e){return Math.round(S(s(e)))});void 0!==p&&k.curve(p),a||k.defined(function(e){return f(s(e))}),r.beginPath(),k.context(r)(x),r.stroke(),void 0!==d&&r.restore()}else console.warn("LineSeries received no chartConfig, is it inside of a Chart?")}},e.isHover=function(n){var r=e.props,o=r.highlightOnHover,i=r.yAccessor,a=r.hoverTolerance,s=void 0===a?t.defaultProps.hoverTolerance:a;if(!o)return!1;var l=n.chartConfig,c=l.yScale,u=l.origin,f=n.xAccessor,p=n.mouseXY,d=n.currentItem,h=n.xScale,y=n.plotData,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2),g=m[0],v=m[1],b=s,x=xi(y,h.invert(g),f),w=x.left,S=x.right;if(w===S){var k=c(i(d))+u[1],E=h(f(d))+u[0];return Math.pow(g-E,2)+Math.pow(v-k,2)<Math.pow(b,2)}var C=y[w],P=y[S],O=h(f(C))+u[0],_=c(i(C))+u[1],j=h(f(P))+u[0],T=(c(i(P))+u[1]-_)/(j-O),A=-1*T*O+_,D=Math.round(T*g+A);return v>=D-b&&v<=D+b},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tl(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.highlightOnHover,n=e.onClick,r=e.onContextMenu,o=e.onDoubleClick,i=e.onHover,a=e.onUnHover,s=e.strokeDasharray,l=t||i||a?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:qs}:{drawOn:["pan"],canvasToDraw:Ys},c=Xs(s);return(0,bi.jsx)(cl,Object.assign({canvasDraw:this.drawOnCanvas(c),onClickWhenHover:n,onDoubleClickWhenHover:o,onContextMenuWhenHover:r,onHover:i,onUnHover:a},l))}}])&&Pl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nl(r.key),r)}}function Nl(e){var t=function(e){if("object"!=Dl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dl(t)?t:t+""}function Il(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Il=function(){return!!e})()}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rl(e)}function Ll(e,t){return Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ll(e,t)}Al.defaultProps={connectNulls:!1,defined:function(e){return void 0!==e&&!isNaN(e)},hoverStrokeWidth:4,hoverTolerance:6,highlightOnHover:!1,strokeDasharray:"Solid",strokeStyle:"#2196f3",strokeWidth:1};var Fl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Rl(t),function(e,t){if(t&&("object"==Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Il()?Reflect.construct(t,n||[],Rl(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getCircle(n);if(void 0!==r){var o=e.props,i=o.fillStyle,a=o.r,s=o.strokeStyle,l=i instanceof Function?i(n.currentItem):i;void 0!==l&&(t.fillStyle=l);var c=s instanceof Function?s(n.currentItem):s;void 0!==c&&(t.strokeStyle=c),t.beginPath(),t.arc(r.x,r.y,a,0,2*Math.PI,!1),t.fill(),void 0!==c&&t.stroke()}},e.getCircle=function(t){var n=t.show,r=t.xScale,o=t.chartConfig.yScale,i=t.currentItem,a=t.xAccessor;if(n&&void 0!==i){var s=e.props.yAccessor,l=a(i),c=s(i);if(void 0!==c)return{x:Math.round(r(l)),y:Math.round(o(c))}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ll(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["mousemove","pan"]})}}])&&Ml(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function zl(e){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(e)}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bl(r.key),r)}}function Bl(e){var t=function(e){if("object"!=zl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zl(t)?t:t+""}function Ul(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ul=function(){return!!e})()}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(e)}function Hl(e,t){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hl(e,t)}Fl.defaultProps={fillStyle:"#2196f3",r:3};var Yl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Wl(t),function(e,t){if(t&&("object"==zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ul()?Reflect.construct(t,n||[],Wl(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n,r){var o=e.props,i=o.connectNulls,a=o.fillStyle,s=o.curve,l=o.canvasClip,c=o.yAccessor,u=o.defined,f=void 0===u?t.defaultProps.defined:u,p=o.base,d=r.xScale,h=r.chartConfig.yScale,y=r.plotData,m=r.xAccessor;void 0!==l&&(n.save(),l(n,r)),void 0!==a&&(n.fillStyle="string"==typeof a?a:a(n,r));var g=mt(p),v=function(e,t,n){var r=null,o=vl(!0),i=null,a=xl,s=null;function l(l){var c,u,f,p,d,h=(l=gl(l)).length,y=!1,m=new Array(h),g=new Array(h);for(null==i&&(s=a(d=ml())),c=0;c<=h;++c){if(!(c<h&&o(p=l[c],c,l))===y)if(y=!y)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(m[f],g[f]);s.lineEnd(),s.areaEnd()}y&&(m[c]=+e(p,c,l),g[c]=+t(p,c,l),s.point(r?+r(p,c,l):m[c],n?+n(p,c,l):g[c]))}if(d)return s=null,d+""||null}function c(){return kl().defined(o).curve(a).context(i)}return e="function"==typeof e?e:void 0===e?wl:vl(+e),t="function"==typeof t?t:vl(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Sl:vl(+n),l.x=function(t){return arguments.length?(e="function"==typeof t?t:vl(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:vl(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:vl(+e),l):r},l.y=function(e){return arguments.length?(t="function"==typeof e?e:vl(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:vl(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:vl(+e),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(e){return arguments.length?(o="function"==typeof e?e:vl(!!e),l):o},l.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),l):a},l.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),l):i},l}().x(function(e){return Math.round(d(m(e)))}).y0(function(e){return g(h,e,r)}).y1(function(e){return Math.round(h(c(e)))});void 0!==s&&v.curve(s),i||v.defined(function(e){return f(c(e))}),n.beginPath(),v.context(n)(y),n.fill(),void 0!==l&&n.restore()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{canvasDraw:this.drawOnCanvas,canvasToDraw:Ys,drawOn:["pan"]})}}])&&Vl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ql(e){return ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(e)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$l(r.key),r)}}function $l(e){var t=function(e){if("object"!=ql(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ql(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ql(t)?t:t+""}function Gl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gl=function(){return!!e})()}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ql(e)}function Zl(e,t){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zl(e,t)}Yl.defaultProps={connectNulls:!1,defined:function(e){return void 0!==e&&!isNaN(e)},base:function(e){return Pt(e.range())}};var Kl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ql(t),function(e,t){if(t&&("object"==ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gl()?Reflect.construct(t,n||[],Ql(e).constructor):t.apply(e,n))}(this,t,arguments)).yAccessorForScaledBottom=function(n,r){var o=e.props.yAccessor,i=(void 0===o?t.defaultProps.yAccessor:o)(r);if(void 0!==i)return n(i.bottom)},e.yAccessorForBottom=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.bottom},e.yAccessorForMiddle=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.middle},e.yAccessorForTop=function(n){var r=e.props.yAccessor,o=(void 0===r?t.defaultProps.yAccessor:r)(n);if(void 0!==o)return o.top},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zl(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.className,r=e.strokeStyle,o=void 0===r?t.defaultProps.strokeStyle:r,i=e.fillStyle;return(0,bi.jsxs)("g",Object.assign({className:n},{children:[(0,bi.jsx)(Al,{yAccessor:this.yAccessorForTop,strokeStyle:o.top}),(0,bi.jsx)(Al,{yAccessor:this.yAccessorForMiddle,strokeStyle:o.middle}),(0,bi.jsx)(Al,{yAccessor:this.yAccessorForBottom,strokeStyle:o.bottom}),(0,bi.jsx)(Yl,{yAccessor:this.yAccessorForTop,base:this.yAccessorForScaledBottom,fillStyle:i})]}))}}])&&Xl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Kl.defaultProps={areaClassName:"react-financial-charts-bollinger-band-series-area",fillStyle:"rgba(38, 166, 153, 0.05)",strokeStyle:{top:"#26a69a",middle:"#812828",bottom:"#26a69a"},yAccessor:function(e){return e.bb}};var tc=function(e,t){var n=e.widthRatio,r=t.xAccessor,o=t.xScale,i=t.plotData,a=Jl(o.range(),2),s=a[0],l=a[1];if(null!=o.invert){var c=Jl(o.domain(),2),u=c[0],f=c[1];return"number"==typeof u&&"number"==typeof f?Math.abs(l-s)/Math.abs(u-f)*n:(o(r(Ot(i)))-o(r(Pt(i))))/i.length*n*.7}return Math.abs(l-s)/o.domain().length*n};class nc extends Map{constructor(e,t=oc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(rc(this,e))}has(e){return super.has(rc(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}(this,e))}}function rc({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oc(e){return null!==e&&"object"==typeof e?e.valueOf():e}function ic(e){return e}function ac(e,...t){return function(e,t,n,r){return function e(o,i){if(i>=r.length)return n(o);const a=new nc,s=r[i++];let l=-1;for(const e of o){const t=s(e,++l,o),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[t,n]of a)a.set(t,e(n,i));return t(a)}(e,0)}(e,ic,ic,t)}function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cc(r.key),r)}}function cc(e){var t=function(e){if("object"!=sc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sc(t)?t:t+""}function uc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uc=function(){return!!e})()}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fc(e)}function pc(e,t){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pc(e,t)}Set;var dc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=fc(t),function(e,t){if(t&&("object"==sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uc()?Reflect.construct(t,n||[],fc(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(n,r){var o=e.props.candleStrokeWidth,i=void 0===o?t.defaultProps.candleStrokeWidth:o,a=r.xScale,s=r.chartConfig.yScale,l=r.plotData,c=r.xAccessor,u=e.getCandleData(c,a,s,l);ac(u,function(e){return e.wick.stroke}).forEach(function(e,t){n.fillStyle=t,e.forEach(function(e){var t=e.wick;n.fillRect(t.x-.5,t.y1,1,t.y2-t.y1),n.fillRect(t.x-.5,t.y3,1,t.y4-t.y3)})}),ac(u,function(e){return e.stroke},function(e){return e.fill}).forEach(function(e,t){"none"!==t&&(n.strokeStyle=t,n.lineWidth=i),e.forEach(function(e,r){n.fillStyle=r,e.forEach(function(e){e.width<=1?n.fillRect(e.x-.5,e.y,1,e.height):0===e.height?n.fillRect(e.x-.5,e.y,e.width,1):(n.fillRect(e.x-.5,e.y,e.width,e.height),"none"!==t&&n.strokeRect(e.x,e.y,e.width,e.height))})})})},e.getCandleData=function(t,n,r,o){var i=e.props,a=i.fill,s=i.stroke,l=i.yAccessor,c=i.wickStroke,u=mt(a),f=mt(s),p=mt(c),d=.5*mt(e.props.width)(e.props,{xScale:n,xAccessor:t,plotData:o});return o.filter(function(e){return void 0!==l(e)}).map(function(e){var o=l(e);if(void 0!==o){var i=t(e),a=n(i),s=Math.round(r(Math.max(o.open,o.close))),c=Math.max(1,Math.round(Math.abs(r(o.open)-r(o.close))));return{x:a-d,y:s,wick:{stroke:p(o),x:a,y1:Math.round(r(o.high)),y2:s,y3:s+c,y4:Math.round(r(o.low))},height:c,width:2*d,fill:u(o),stroke:f(o),direction:o.close-o.open}}}).filter(function(e){return void 0!==e})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,bi.jsx)(cl,{clip:e,canvasDraw:this.drawOnCanvas,canvasToDraw:Ys,drawOn:["pan"]})}}])&&lc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function hc(e){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(e)}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mc(r.key),r)}}function mc(e){var t=function(e){if("object"!=hc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hc(t)?t:t+""}function gc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gc=function(){return!!e})()}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(e)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bc(e,t)}dc.defaultProps={candleStrokeWidth:.5,clip:!0,fill:function(e){return e.close>e.open?"#26a69a":"#ef5350"},stroke:"none",wickStroke:function(e){return e.close>e.open?"#26a69a":"#ef5350"},width:tc,widthRatio:.8,yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}}};var xc=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=vc(t),function(e,t){if(t&&("object"==hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gc()?Reflect.construct(t,n||[],vc(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=n.xAccessor,o=n.xScale,i=n.chartConfig.yScale,a=n.plotData,s=e.getOHLCBars(e.props,r,o,i,a);e.drawBarDataOnCanvas(t,s)},e.getOHLCBars=function(e,t,n,r,o){var i=e.stroke,a=e.strokeWidth,s=void 0===a?1:a,l=e.yAccessor,c=mt(i),u=n(t(o[o.length-1]))-n(t(o[0])),f=Math.max(1,Math.round(u/(o.length-1)/2)-1.5),p=Math.min(f,s),d=o.filter(function(e){return void 0!==l(e).close}).map(function(e){var o=l(e),i=Math.round(n(t(e)));return{x:i,y1:r(o.high),y2:r(o.low),openX1:i-f,openX2:i+p/2,openY:r(o.open),closeX1:i-p/2,closeX2:i+f,closeY:r(o.close),stroke:c(e)}});return{barWidth:f,strokeWidth:p,bars:d}},e.drawBarDataOnCanvas=function(e,t){var n=t.strokeWidth,r=ac(t.bars,function(e){return e.stroke});e.lineWidth=n,r.forEach(function(t,n){e.strokeStyle=n,t.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.openX1,t.openY),e.lineTo(t.openX2,t.openY),e.moveTo(t.closeX1,t.closeY),e.lineTo(t.closeX2,t.closeY),e.stroke()})})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,bi.jsx)(cl,{canvasToDraw:Ys,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}])&&yc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function wc(e){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(e)}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kc(r.key),r)}}function kc(e){var t=function(e){if("object"!=wc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wc(t)?t:t+""}function Ec(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ec=function(){return!!e})()}function Cc(e){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(e)}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pc(e,t)}xc.defaultProps={yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return _t(e.absoluteChange)?e.absoluteChange>0?"up":"down":"firstbar"},stroke:function(e){return _t(e.absoluteChange)?e.absoluteChange>0?"#26a69a":"#ef5350":"#000000"},strokeWidth:1,clip:!0};var Oc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Cc(t),function(e,t){if(t&&("object"==wc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ec()?Reflect.construct(t,n||[],Cc(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.baseAt,n=e.connectNulls,r=e.strokeStyle,o=e.strokeWidth,i=e.strokeDasharray,a=e.fillStyle,s=e.curve,l=e.canvasClip,c=e.yAccessor;return(0,bi.jsxs)("g",{children:[(0,bi.jsx)(Yl,{connectNulls:n,yAccessor:c,curve:s,base:t,fillStyle:a,canvasClip:l}),(0,bi.jsx)(Al,{connectNulls:n,yAccessor:c,strokeStyle:r,strokeWidth:o,strokeDasharray:i,curve:s,canvasClip:l,highlightOnHover:!1})]})}}])&&Sc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);Oc.defaultProps={fillStyle:"rgba(33, 150, 243, 0.1)",strokeStyle:"#2196f3",strokeWidth:3,strokeDasharray:"Solid"};var _c=function(e){return e};function jc(){var e=_c;function t(){var t,r=arguments.length;if(0===r)return[];for(var o=null!==(t=It(arguments,n))&&void 0!==t?t:0,i=new Array(o),a=-1;++a<o;){for(var s=-1,l=i[a]=new Array(r);++s<r;)l[s]=arguments[s][a];i[a]=e.apply(this,i[a])}return i}function n(e){return e.length}return t.combine=function(n){return arguments.length?(e=n,t):e},t}function Tc(){var e=_c,t=!0,n=function(){},r=function(r){var o=jc().combine(function(e,r){var o=t&&void 0===r?e:n(e,r);return void 0===o?e:o});return o(r,e(r))};return r.algorithm=function(t){return void 0===t?e:(e=t,r)},r.merge=function(e){return void 0===e?n:(n=e,r)},r.skipUndefined=function(e){return void 0===e?t:(t=e,r)},r}function Ac(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=r.apply(t,o);return a===t?e:a}}function Dc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];e[s]=Ac(e,t,s)}return e}var Mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return null!=e?e:r;for(var o=0;null!=e&&o<n;)e=e[t[o++]];return o===n?e:r}},Nc={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},Ic={windowSize:13,sourcePath:"close",movingAverageType:"sma"},Rc={sourcePath:"close",windowSize:10},Lc={sourcePath:"close",windowSize:10};function Fc(){var e=Rc,t=function(t){var n,r=e,o=r.windowSize,i=r.sourcePath,a=Mc(i),s=2/(o+1),l=0,c=0;return t.map(function(e,t){var r=a(e,t);if(void 0!==n||void 0!==r){if(!(t<o+c-1)){if(t===o+c-1){var i=(l+=r)/o;return n=i,i}var u=r*s+(1-s)*n;return n=u,u}l+=r}else c++})};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},Rc),n),t)},t}const zc=Symbol("implicit");var Vc=0,Bc=function e(){var t=new Map,n=[],r=[],o=zc;function i(e){var i=e+"",a=t.get(i);if(!a){if(o!==zc)return o;t.set(i,a=n.push(e))}return r[(a-1)%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},Ho.apply(i,arguments),i}(["#F44336","#2196F3","#8BC34A","#FF5722","#3F51B5","#03A9F4","#9C27B0","#4CAF50"]);function Uc(){var e,t,n,r,o,i=Vc++,a=function(){return function(){}};return a.id=function(e){return void 0===e?i:(i=e,a)},a.accessor=function(t){return void 0===t?e:(e=t,a)},a.stroke=function(e){return void 0===e?t||(t=Bc(i)):(t=e,a)},a.fill=function(e){return void 0===e?n||(n=Bc(i)):(n=e,a)},a.echo=function(e){return void 0===e?r:(r=e,a)},a.type=function(e){return void 0===e?o:(o=e,a)},a}function Wc(){var e=Uc().type("EMA").accessor(function(e){return e.ema}),t=Fc(),n=Tc().algorithm(t).merge(function(e,t){e.ema=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat("EMA"," before calculating"));return n(r)}return t(r)};return Dc(r,e,"id","accessor","stroke","fill","echo","type"),Dc(r,t,"options","undefinedLength"),Dc(r,n,"merge","skipUndefined"),r}function Hc(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let o=-1;for(let i of e)null!=(i=t(i,++o,e))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var Yc=function(e){return"function"==typeof e?e:function(){return e}};function qc(){var e,t,n,r,o=arguments,i=this,a=10,s=function(){},l=0,c=function(c){var u=n||Mc(t),f=Yc(a).apply(i,o),p=c.slice(l,f+l).map(u),d=0,h=Yc(e);return c.map(function(e,t){return t<l+f-1?h(u(e),t,r):(t>=l+f&&(p.shift(),p.push(u(e,t))),s(p,t,d++,r))})};return c.undefinedValue=function(t){return arguments.length?(e=t,c):e},c.windowSize=function(e){return arguments.length?(a=e,c):a},c.misc=function(e){return arguments.length?(r=e,c):r},c.accumulator=function(e){return arguments.length?(s=e,c):s},c.skipInitial=function(e){return arguments.length?(l=e,c):l},c.sourcePath=function(e){return arguments.length?(t=e,c):t},c.source=function(e){return arguments.length?(n=e,c):n},c}function Xc(){var e=Uc().type("SMA").accessor(function(e){return e.sma}),t=function(){var e=Lc,t=function(t){var n=e,r=n.windowSize,o=n.sourcePath,i=qc().windowSize(r).sourcePath(o).accumulator(function(e){return Hc(e)});return i(t)};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},Lc),n),t)},t}(),n=Tc().algorithm(t).merge(function(e,t){e.sma=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat("SMA"," before calculating"));return n(r)}return t(r)};return Dc(r,e,"id","accessor","stroke","fill","echo","type"),Dc(r,t,"options","undefinedLength"),Dc(r,n,"merge","skipUndefined"),r}function $c(){var e=Nc,t=function(t){var n=e,r=n.windowSize,o=n.multiplier,i=n.movingAverageType,a=n.sourcePath,s=Mc(a),l="ema"===i?Fc().options({windowSize:r,sourcePath:a}):qc().windowSize(r).accumulator(function(e){return Hc(e)}).sourcePath(a),c=qc().windowSize(r).accumulator(function(e){var t=e[e.length-1].mean,n=function(e){const t=function(e,t){let n,r=0,o=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-o,o+=n/++r,i+=n*(t-o));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-o,o+=n/++r,i+=n*(s-o))}if(r>1)return i/(r-1)}(e,function(e){return s(e.datum)});return t?Math.sqrt(t):t}(e);if(void 0!==n)return{top:t+o*n,middle:t,bottom:t-o*n}}),u=jc().combine(function(e,t){return{datum:e,mean:t}});return c(u(t,l(t)))};return t.undefinedLength=function(){return e.windowSize-1},t.options=function(n){return void 0===n?e:(e=Object.assign(Object.assign({},Nc),n),t)},t}var Gc="BollingerBand";function Qc(e){return e.length}function Zc(){return function(e){if(!(o=e.length))return[];for(var t=-1,n=It(e,Qc),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r}(arguments)}var Kc="ElderRay";var Jc={value:()=>{}};function eu(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new tu(r)}function tu(e){this._=e}function nu(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function ru(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Jc,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}tu.prototype=eu.prototype={constructor:tu,on:function(e,t){var n,r=this._,o=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=ru(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ru(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=nu(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new tu(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const ou=eu;var iu,au,su=0,lu=0,cu=0,uu=0,fu=0,pu=0,du="object"==typeof performance&&performance.now?performance:Date,hu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yu(){return fu||(hu(mu),fu=du.now()+pu)}function mu(){fu=0}function gu(){this._call=this._time=this._next=null}function vu(e,t,n){var r=new gu;return r.restart(e,t,n),r}function bu(){fu=(uu=du.now())+pu,su=lu=0;try{!function(){yu(),++su;for(var e,t=iu;t;)(e=fu-t._time)>=0&&t._call.call(null,e),t=t._next;--su}()}finally{su=0,function(){for(var e,t,n=iu,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:iu=t);au=e,wu(r)}(),fu=0}}function xu(){var e=du.now(),t=e-uu;t>1e3&&(pu-=t,uu=e)}function wu(e){su||(lu&&(lu=clearTimeout(lu)),e-fu>24?(e<1/0&&(lu=setTimeout(bu,e-du.now()-pu)),cu&&(cu=clearInterval(cu))):(cu||(uu=du.now(),cu=setInterval(xu,1e3)),su=1,hu(bu)))}gu.prototype=vu.prototype={constructor:gu,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?yu():+n)+(null==t?0:+t),this._next||au===this||(au?au._next=this:iu=this,au=this),this._call=e,this._time=n,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};const Su=4294967296;var ku=Math.PI*(3-Math.sqrt(5));function Eu(e){return function(){return e}}function Cu(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,u,f,p,d=e._root,h={data:r},y=e._x0,m=e._y0,g=e._x1,v=e._y1;if(!d)return e._root=h,e;for(;d.length;)if((c=t>=(i=(y+g)/2))?y=i:g=i,(u=n>=(a=(m+v)/2))?m=a:v=a,o=d,!(d=d[f=u<<1|c]))return o[f]=h,e;if(s=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===s&&n===l)return h.next=d,o?o[f]=h:e._root=h,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(y+g)/2))?y=i:g=i,(u=n>=(a=(m+v)/2))?m=a:v=a}while((f=u<<1|c)==(p=(l>=a)<<1|s>=i));return o[p]=d,o[f]=h,e}function Pu(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Ou(e){return e[0]}function _u(e){return e[1]}function ju(e,t,n){var r=new Tu(null==t?Ou:t,null==n?_u:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Tu(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Au(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Du=ju.prototype=Tu.prototype;function Mu(e){return 1e-6*(e()-.5)}function Nu(e){return e.x+e.vx}function Iu(e){return e.y+e.vy}function Ru(e){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(e)}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fu(r.key),r)}}function Fu(e){var t=function(e){if("object"!=Ru(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ru(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ru(t)?t:t+""}function zu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zu=function(){return!!e})()}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vu(e)}function Bu(e,t){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bu(e,t)}Du.copy=function(){var e,t,n=new Tu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Au(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=Au(t));return n},Du.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Cu(this.cover(t,n),t,n,e)},Du.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<i;++n)Cu(this,a[n],s[n],e[n]);return this},Du.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,l=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Du.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Du.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Du.find=function(e,t,n){var r,o,i,a,s,l,c,u=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],y=this._root;for(y&&h.push(new Pu(y,u,f,p,d)),null==n?n=1/0:(u=e-n,f=t-n,p=e+n,d=t+n,n*=n);l=h.pop();)if(!(!(y=l.node)||(o=l.x0)>p||(i=l.y0)>d||(a=l.x1)<u||(s=l.y1)<f))if(y.length){var m=(o+a)/2,g=(i+s)/2;h.push(new Pu(y[3],m,g,a,s),new Pu(y[2],o,g,m,s),new Pu(y[1],m,i,a,g),new Pu(y[0],o,i,m,g)),(c=(t>=g)<<1|e>=m)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-c],h[h.length-1-c]=l)}else{var v=e-+this._x.call(null,y.data),b=t-+this._y.call(null,y.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);u=e-w,f=t-w,p=e+w,d=t+w,r=y.data}}return r},Du.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,u,f,p,d=this._root,h=this._x0,y=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(s=(h+m)/2))?h=s:m=s,(u=a>=(l=(y+g)/2))?y=l:g=l,t=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,p=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=o,this)},Du.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Du.root=function(){return this._root},Du.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Du.visit=function(e){var t,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new Pu(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var c=(r+i)/2,u=(o+a)/2;(n=l[3])&&s.push(new Pu(n,c,u,i,a)),(n=l[2])&&s.push(new Pu(n,r,u,c,a)),(n=l[1])&&s.push(new Pu(n,c,o,i,u)),(n=l[0])&&s.push(new Pu(n,r,o,c,u))}return this},Du.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Pu(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,f=(s+c)/2;(i=o[0])&&n.push(new Pu(i,a,s,u,f)),(i=o[1])&&n.push(new Pu(i,u,s,l,f)),(i=o[2])&&n.push(new Pu(i,a,f,u,c)),(i=o[3])&&n.push(new Pu(i,u,f,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Du.x=function(e){return arguments.length?(this._x=e,this):this._x},Du.y=function(e){return arguments.length?(this._y=e,this):this._y};var Uu=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=Vu(t),function(e,t){if(t&&("object"==Ru(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zu()?Reflect.construct(t,n||[],Vu(e).constructor):t.apply(e,n))}(this,n,[e])).ref=t.createRef(),r.clicked=!1,r.dragHappened=!1,r.handleDragEnd=function(e){var t=r.ref.current;if(null!==t){if(!r.dragHappened)if(r.clicked){var n=Xa(e,t),o=r.props.onDoubleClick;void 0!==o&&o(e,n)}else r.clicked=!0,setTimeout(function(){r.clicked=!1},300);Ya(gt(t)).on(xt,null).on(wt,null).on(St,null).on(kt,null),r.setState({startPosition:null})}},r.handleDrag=function(e){var t=r.ref.current;if(null!==t){r.dragHappened=!0;var n=r.props,o=n.getMouseDelta,i=n.inverted,a=void 0===i||i,s=r.state.startPosition;if(null!==s){var l=s.startScale,c=o(s.startXY,Xa(e,t)),u=Hc(l.range());if(void 0===u)return;var f=l.range().map(function(e){return a?e-yt(e-u)*c:e+yt(e-u)*c}),p=f.map(l.invert);if(yt(Ot(l.range())-Pt(l.range()))===yt(Ot(f)-Pt(f))){var d=r.props.axisZoomCallback;void 0!==d&&d(p)}}}},r.handleDragStartTouch=function(e){var t=r.ref.current;if(null!==t){r.dragHappened=!1;var n=r.props,o=(0,n.getScale)((0,n.getMoreProps)());if(1===e.touches.length&&void 0!==o.invert){Ya(gt(t)).on(St,r.handleDrag).on(kt,r.handleDragEnd);var i=Tt(Et(e.touches[0]),e);r.setState({startPosition:{startScale:o,startXY:i}})}}},r.handleDragStartMouse=function(e){e.preventDefault();var t=r.ref.current;if(null!==t){r.dragHappened=!1;var n=r.props,o=(0,n.getScale)((0,n.getMoreProps)());if(void 0!==o.invert){Ya(gt(t)).on(xt,r.handleDrag,!1).on(wt,r.handleDragEnd,!1);var i=At(e);r.setState({startPosition:{startXY:i,startScale:o}})}}},r.handleRightClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.ref.current;if(null!==t){var n=r.props.onContextMenu;if(void 0!==n){var o=At(e,t.getBoundingClientRect());Ya(gt(t)).on(xt,null).on(wt,null),r.setState({startPosition:null}),n(e,o)}}},r.state={startPosition:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bu(e,t)}(n,e),r=n,(o=[{key:"render",value:function(){var e=this.props,t=e.bg,n=e.className,r=e.zoomCursorClassName,o=null!==this.state.startPosition?r:"react-financial-charts-default-cursor";return(0,bi.jsx)("rect",{className:"react-financial-charts-enable-interaction ".concat(o," ").concat(n),ref:this.ref,x:t.x,y:t.y,opacity:0,height:t.h,width:t.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}])&&Lu(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function Wu(e){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(e)}function Hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qu(r.key),r)}}function qu(e){var t=function(e){if("object"!=Wu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wu(t)?t:t+""}function Xu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xu=function(){return!!e})()}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$u(e)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gu(e,t)}var Qu=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t,n){return t=$u(t),function(e,t){if(t&&("object"==Wu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xu()?Reflect.construct(t,n||[],$u(e).constructor):t.apply(e,n))}(this,n,arguments)).chartRef=t.createRef(),e.getMoreProps=function(){return e.chartRef.current.getMoreProps()},e.drawOnCanvas=function(t,n){var r=e.props,o=r.showDomain,i=r.showGridLines,a=r.showTickLabel,s=r.showTicks,l=r.transform,c=r.range,u=r.getScale,f=r.tickLabelFill;t.save(),t.translate(l[0],l[1]);var p=u(n),d=Zu(e.props,p);if(s&&Ju(t,d),i&&d.ticks.forEach(function(e){ef(t,e,d,n)}),a){var h=d.fontFamily,y=d.fontSize,m=d.fontWeight,g=d.textAnchor;t.font="".concat(m," ").concat(y,"px ").concat(h),void 0!==f&&(t.fillStyle=f),t.textAlign="middle"===g?"center":g,d.ticks.forEach(function(e){nf(t,e,d)})}o&&Ku(t,e.props,c),t.restore()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}(n,e),r=n,(o=[{key:"render",value:function(){var e=this.props,t=e.bg,n=e.axisZoomCallback,r=e.className,o=e.zoomCursorClassName,i=e.zoomEnabled,a=e.getScale,s=e.inverted,l=e.transform,c=e.getMouseDelta,u=e.edgeClip,f=e.onContextMenu,p=e.onDoubleClick,d=i?(0,bi.jsx)(Uu,{bg:t,getScale:a,getMoreProps:this.getMoreProps,getMouseDelta:c,axisZoomCallback:n,className:r,zoomCursorClassName:o,inverted:s,onContextMenu:f,onDoubleClick:p}):null;return(0,bi.jsxs)("g",Object.assign({transform:"translate(".concat(l[0],", ").concat(l[1],")")},{children:[d,(0,bi.jsx)(cl,{ref:this.chartRef,canvasToDraw:Ys,clip:!1,edgeClip:u,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})]}))}}])&&Yu(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);Qu.defaultProps={edgeClip:!1,zoomEnabled:!1,zoomCursorClassName:""};var Zu=function(e,t){var n,r,o,i=e.orient,a=e.innerTickSize,s=void 0===a?4:a,l=e.tickFormat,c=e.tickPadding,u=void 0===c?4:c,f=e.tickLabelFill,p=e.tickStrokeWidth,d=e.tickStrokeDasharray,h=e.fontSize,y=void 0===h?12:h,m=e.fontFamily,g=e.fontWeight,v=e.showTicks,b=e.showTickLabel,x=e.ticks,w=e.tickValues,S=e.tickStrokeStyle,k=e.tickInterval,E=e.tickIntervalFunction,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["orient","innerTickSize","tickFormat","tickPadding","tickLabelFill","tickStrokeWidth","tickStrokeDasharray","fontSize","fontFamily","fontWeight","showTicks","showTickLabel","ticks","tickValues","tickStrokeStyle","tickInterval","tickIntervalFunction"]);if(void 0!==w)n="function"==typeof w?w(t.domain()):w;else if(void 0!==k){var P=(r=t.domain(),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Hu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hu(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=P[0],_=P[1],j=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(O,_,(_-O)/k);n=E?E(O,_,k):j}else n=void 0!==t.ticks?t.ticks(x):t.domain();var T,A,D,M,N=void 0===l?t.tickFormat(x):function(e){return l(e)||""},I="top"===i||"left"===i?-1:1,R=Math.max(s,0)+u;if("bottom"===i||"top"===i){A=I<0?"0em":".71em",D=I<0?0:.71*y,M="middle";var L=I*s,F=I*R;if(T=n.map(function(e){var n=Math.round(t(e));return{value:e,x1:n,y1:0,x2:n,y2:L,labelX:n,labelY:F}}),v){for(var z=T.map(function(e){return{id:e.value,value:e.value,fy:e.y2,origX:e.x1}}),V=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=vu(f),c=ou("tick","end"),u=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Su)/Su}();function f(){p(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function p(r){var l,c,u=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,s.forEach(function(e){e(n)}),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*ku;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),d(),t={tick:p,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(u=e,s.forEach(h),t):u},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(o=t-(s=e[c]).x)*o+(i=n-s.y)*i)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}(z).force("x",function(e){var t,n,r,o=Eu(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=Eu(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"==typeof e?e:Eu(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Eu(+t),a(),i):e},i}(function(e){return e.origX}).strength(1)).force("collide",function(e){var t,n,r,o=1,i=1;function a(){for(var e,a,l,c,u,f,p,d=t.length,h=0;h<i;++h)for(a=ju(t,Nu,Iu).visitAfter(s),e=0;e<d;++e)l=t[e],f=n[l.index],p=f*f,c=l.x+l.vx,u=l.y+l.vy,a.visit(y);function y(e,t,n,i,a){var s=e.data,d=e.r,h=f+d;if(!s)return t>c+h||i<c-h||n>u+h||a<u-h;if(s.index>l.index){var y=c-s.x-s.vx,m=u-s.y-s.vy,g=y*y+m*m;g<h*h&&(0===y&&(g+=(y=Mu(r))*y),0===m&&(g+=(m=Mu(r))*m),g=(h-(g=Math.sqrt(g)))/g*o,l.vx+=(y*=g)*(h=(d*=d)/(p+d)),l.vy+=(m*=g)*h,s.vx-=y*(h=1-h),s.vy-=m*h)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=Eu(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Eu(+t),l(),a):e},a}(22)).stop(),B=0;B<100;++B)V.tick();T=Zc(T,z).map(function(e){var t=e[0],n=e[1];return Math.abs(n.x-n.origX)>.01?Object.assign(Object.assign({},t),{x2:n.x,labelX:n.x}):t})}}else T=n.map(function(e){var n=Math.round(t(e));return{value:e,x1:0,y1:n,x2:I*s,y2:n,labelX:I*R,labelY:n}}),A=".32em",D=.32*y,M=I<0?"end":"start";return Object.assign({orient:i,ticks:T,scale:t,tickStrokeStyle:S,tickLabelFill:f||S,tickStrokeWidth:p,tickStrokeDasharray:d,dy:A,canvas_dy:D,textAnchor:M,fontSize:y,fontFamily:m,fontWeight:g,format:N,showTickLabel:b},C)},Ku=function(e,t,n){var r=t.orient,o=t.outerTickSize,i=t.strokeStyle,a=t.strokeWidth,s="top"===r||"left"===r?-1:1,l="bottom"===r||"top"===r;e.lineWidth=a,e.strokeStyle=i,e.beginPath();var c=Pt(n),u=Ot(n),f=s*o;l?(e.moveTo(c,f),e.lineTo(c,0),e.lineTo(u,0),e.lineTo(u,f)):(e.moveTo(f,c),e.lineTo(0,c),e.lineTo(0,u),e.lineTo(f,u)),e.stroke()},Ju=function(e,t){var n=t.ticks,r=t.tickStrokeStyle;void 0!==r&&(e.strokeStyle=r,e.fillStyle=r),n.forEach(function(n){tf(e,n,t)})},ef=function(e,t,n,r){var o=n.orient,i=n.gridLinesStrokeWidth,a=n.gridLinesStrokeStyle,s=n.gridLinesStrokeDasharray,l=r.chartConfig,c=l.height,u=l.width;void 0!==a&&(e.strokeStyle=a),e.beginPath();var f="top"===o||"left"===o?1:-1;switch(o){case"top":case"bottom":e.moveTo(t.x1,0),e.lineTo(t.x2,f*c);break;default:e.moveTo(0,t.y1),e.lineTo(f*u,t.y2)}e.lineWidth=i;var p=Xs(s);e.setLineDash(p),e.stroke()},tf=function(e,t,n){var r=n.tickStrokeWidth,o=n.tickStrokeDasharray;e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=r;var i=Xs(o);e.setLineDash(i),e.stroke()},nf=function(e,t,n){var r=n.canvas_dy,o=(0,n.format)(t.value);e.beginPath(),e.fillText(o,t.labelX,t.labelY+r)};function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,af(r.key),r)}}function af(e){var t=function(e){if("object"!=rf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rf(t)?t:t+""}function sf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sf=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lf(e)}function cf(e,t){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cf(e,t)}var uf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ff=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=lf(t),function(e,t){if(t&&("object"==rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sf()?Reflect.construct(t,n||[],lf(e).constructor):t.apply(e,n))}(this,t,arguments)).axisZoomCallback=function(t){var n=e.context,r=n.chartId,o=n.yAxisZoom;o&&o(String(r),t)},e.helper=function(){var n,r=e.props,o=r.axisAt,i=r.ticks,a=r.yZoomWidth,s=void 0===a?t.defaultProps.yZoomWidth:a,l=r.orient,c=e.context.chartConfig,u=c.width,f=c.height,p=s,d=f;switch(o){case"left":n=0;break;case"right":n=u;break;case"middle":n=u/2;break;default:n=null!=o?o:u}var h="left"===l?-s:0;return{transform:[n,0],range:[0,f],getScale:e.getYScale,bg:{x:h,y:0,h:d,w:p},ticks:null!=i?i:e.getYTicks(f),zoomEnabled:e.context.chartConfig.yPan}},e.getYTicks=function(e){return e<300?2:e<500?6:8},e.getYScale=function(e){var t=e.chartConfig,n=t.yScale,r=t.flipYScale,o=t.height;if(n.invert){var i=r?[0,o]:[o,0],a=i.map(n.invert);return n.copy().domain(a).range(i)}return n},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.getMouseDelta,r=void 0===n?t.defaultProps.getMouseDelta:n,o=e.outerTickSize,i=void 0===o?t.defaultProps.outerTickSize:o,a=e.strokeStyle,s=void 0===a?t.defaultProps.strokeStyle:a,l=e.strokeWidth,c=void 0===l?t.defaultProps.strokeWidth:l,u=uf(e,["getMouseDelta","outerTickSize","strokeStyle","strokeWidth"]),f=this.helper(),p=f.zoomEnabled,d=uf(f,["zoomEnabled"]);return(0,bi.jsx)(Qu,Object.assign({},u,d,{edgeClip:!0,getMouseDelta:r,outerTickSize:i,strokeStyle:s,strokeWidth:c,zoomEnabled:this.props.zoomEnabled&&p,axisZoomCallback:this.axisZoomCallback}))}}])&&of(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function pf(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function df(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function hf(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function yf(e,t){return e[t]}function mf(e){const t=[];return t.key=e,t}function gf(){var e=vl([]),t=hf,n=df,r=yf;function o(o){var i,a,s=Array.from(e.apply(this,arguments),mf),l=s.length,c=-1;for(const e of o)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,o)]).data=e;for(i=0,a=gl(t(s));i<l;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:vl(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:vl(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?hf:"function"==typeof e?e:vl(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?df:e,o):n},o}function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xf(r.key),r)}}function xf(e){var t=function(e){if("object"!=vf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vf(t)?t:t+""}function wf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wf=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sf(e)}function kf(e,t){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kf(e,t)}function Ef(){var e=[];function t(t){var n=e.map(function(e,n){var r=t.map(function(t){var n=[0,t[e]];return n.data=t,n});return r.key=e,r.index=n,r});return n}return t.keys=function(n){return arguments.length?(e=n,t):e},t}function Cf(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rt,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Of,s=n.xScale,l=n.chartConfig.yScale,c=n.plotData,u=Pf(t,r,c,s,l,o,a,i);_f(t,e,u)}ff.defaultProps={axisAt:"right",className:"react-financial-charts-y-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(e,t){return e[1]-t[1]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,innerTickSize:4,outerTickSize:0,orient:"right",showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",yZoomWidth:40,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ns-resize-cursor"},ff.contextType=Qs,(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Sf(t),function(e,t){if(t&&("object"==vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wf()?Reflect.construct(t,n||[],Sf(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=n.xAccessor;Cf(t,e.props,n,r,gf)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,bi.jsx)(cl,{clip:e,canvasDraw:this.drawOnCanvas,canvasToDraw:Ys,drawOn:["pan"]})}}])&&bf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component)).defaultProps={baseAt:function(e,t){return Ct(t.range())},direction:"up",stroke:!1,fillStyle:"rgba(70, 130, 180, 0.5)",width:tc,widthRatio:.8,clip:!0,swapScales:!1};var Pf=function(e,t,n,r,o,i,a,s){var l,c=e.yAccessor,u=e.swapScales,f=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ef,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Rt,l=e.baseAt,c=e.fillStyle,u=e.stroke,f=e.spaceBetweenBar,p=void 0===f?0:f,d=mt(c),h=mt(l),y=mt(e.width)(e,{xScale:r,xAccessor:t,plotData:i}),m=Math.round(y),g=(m-p*(n.length-1))/n.length,v=1===m?0:.5*y,b=i.map(function(e){var r={appearance:{},x:t(e)};return n.forEach(function(t,n){var o="y".concat(n);r[o]=t(e);var i={stroke:u?d(e,n):"none",fillStyle:d(e,n)};r.appearance[o]=i}),r}),x=n.map(function(e,t){return"y".concat(t)}),w=a().keys(x)(b).map(function(e,t){var n=e.key;return e.map(function(e){var r=[e[0],e[1]];return r.data={x:e.data.x,i:t,appearance:e.data.appearance[n]},r})});return s(pf(w).map(function(e){var t=o(e[1]),n=h(r,o,e.data)-o(e[1]-e[0]);return n<0&&(t+=n,n=-n),Object.assign(Object.assign({},e.data.appearance),{x:Math.round(r(e.data.x)-y/2),y:t,groupOffset:Math.round(v-(e.data.i>0?(g+p)*e.data.i:0)),groupWidth:Math.round(g),offset:Math.round(v),height:n,width:m})}).filter(function(e){return!isNaN(e.y)}))}(e,u?c:t,(l=u?t:c,Array.isArray(l)?l:[l]),u?o:r,u?r:o,n,i,u?a:s);return f},Of=function(e){return e.map(function(e){return Object.assign(Object.assign({},e),{x:e.y,y:e.x,height:e.width,width:e.height})})},_f=function(e,t,n){var r=e.stroke;ac(n,function(e){return e.fillStyle}).forEach(function(e,n){Ct(e).width>1&&void 0!==n&&(t.strokeStyle=n),t.fillStyle=n,e.forEach(function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):(t.fillRect(e.x+.5,e.y+.5,e.width,e.height),r&&t.strokeRect(e.x,e.y,e.width,e.height))})})};function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Af(r.key),r)}}function Af(e){var t=function(e){if("object"!=jf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jf(t)?t:t+""}function Df(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Df=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mf(e)}function Nf(e,t){return Nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nf(e,t)}var If=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Mf(t),function(e,t){if(t&&("object"==jf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Df()?Reflect.construct(t,n||[],Mf(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){if(e.props.swapScales){var r=n.xAccessor;Cf(t,e.props,n,r,Ef)}else{var o=e.getBars(n),i=e.props.strokeStyle;ac(o,function(e){return e.fillStyle}).forEach(function(e,n){void 0!==i&&Ct(e).width>1&&(t.strokeStyle=i),t.fillStyle=n,e.forEach(function(e){e.width<=1?t.fillRect(e.x-.5,e.y,1,e.height):(t.fillRect(e.x+.5,e.y+.5,e.width,e.height),void 0!==i&&t.strokeRect(e.x,e.y,e.width,e.height))})})}},e.getBars=function(t){var n=e.props,r=n.baseAt,o=n.fillStyle,i=n.width,a=n.yAccessor,s=t.xScale,l=t.xAccessor,c=t.plotData,u=t.chartConfig.yScale,f=mt(o),p=mt(r),d=.5*mt(i)(e.props,{xScale:s,xAccessor:l,plotData:c});return c.map(function(e){var t=a(e);if(void 0!==t){var n=l(e),r=s(n)-d,o=u(t),i=p(s,u,e)-u(t);return i<0&&(o+=i,i=-i),{x:r,y:Math.round(o),height:Math.round(i),width:2*d,fillStyle:f(e)}}}).filter(function(e){return void 0!==e})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,bi.jsx)(cl,{clip:e,canvasToDraw:Ys,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}])&&Tf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Rf(e){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(e)}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ff(r.key),r)}}function Ff(e){var t=function(e){if("object"!=Rf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rf(t)?t:t+""}function zf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zf=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vf(e)}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bf(e,t)}If.defaultProps={baseAt:function(e,t){return Ct(t.range())},clip:!0,fillStyle:"rgba(70, 130, 180, 0.5)",swapScales:!1,width:tc,widthRatio:.8};var Uf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Vf(t),function(e,t){if(t&&("object"==Rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zf()?Reflect.construct(t,n||[],Vf(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]);return(0,bi.jsx)("text",Object.assign({},n,{children:t}))}}],r&&Lf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.PureComponent);function Wf(e){return Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(e)}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yf(r.key),r)}}function Yf(e){var t=function(e){if("object"!=Wf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wf(t)?t:t+""}function qf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qf=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xf(e)}function $f(e,t){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$f(e,t)}Uf.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11};var Gf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Xf(t),function(e,t){if(t&&("object"==Wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qf()?Reflect.construct(t,n||[],Xf(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$f(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]);return(0,bi.jsx)("tspan",Object.assign({},n,{children:t}))}}],r&&Hf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.PureComponent);function Qf(e){return Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(e)}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jf(r.key),r)}}function Jf(e){var t=function(e){if("object"!=Qf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qf(t)?t:t+""}function ep(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ep=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tp(e)}function np(e,t){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},np(e,t)}Gf.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"};var rp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=tp(t),function(e,t){if(t&&("object"==Qf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ep()?Reflect.construct(t,n||[],tp(e).constructor):t.apply(e,n))}(this,t,arguments)).renderSVG=function(n){var r,o=e.props,i=o.onClick,a=o.fontFamily,s=o.fontSize,l=o.fontWeight,c=o.labelFill,u=o.labelFontWeight,f=o.valueFill,p=o.className,d=o.displayValuesFor,h=void 0===d?t.defaultProps.displayValuesFor:d,y=o.origin,m=o.xDisplayFormat,g=void 0===m?t.defaultProps.xDisplayFormat:m,v=o.yDisplayFormat,b=void 0===v?t.defaultProps.yDisplayFormat:v,x=o.xLabel,w=o.yLabel,S=o.xAccessor,k=void 0===S?t.defaultProps.xAccessor:S,E=o.yAccessor,C=void 0===E?t.defaultProps.yAccessor:E,P=o.xInitDisplay,O=o.yInitDisplay,_=n.chartConfig,j=_.width,T=_.height,A=n.fullData,D=null!==(r=h(e.props,n))&&void 0!==r?r:Ot(A),M=P,N=O;if(void 0!==D){var I=k(D);void 0!==I&&(M=g(I));var R=C(D);void 0!==R&&(N=b(R))}var L=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(mt(y)(j,T),2),F=L[0],z=L[1];return(0,bi.jsx)("g",Object.assign({className:p,transform:"translate(".concat(F,", ").concat(z,")"),onClick:i},{children:(0,bi.jsxs)(Uf,Object.assign({x:0,y:0,fontFamily:a,fontSize:s,fontWeight:l},{children:[x?(0,bi.jsx)(Gf,Object.assign({x:0,dy:"5",fill:c},{children:"".concat(x,": ")})):null,x?(0,bi.jsx)("tspan",Object.assign({fill:f},{children:"".concat(M," ")})):null,(0,bi.jsx)(Gf,Object.assign({fill:c,fontWeight:u},{children:"".concat(w," ")})),(0,bi.jsx)("tspan",Object.assign({fill:f},{children:N}))]}))}))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&np(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])&&Kf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ap(r.key),r)}}function ap(e){var t=function(e){if("object"!=op(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=op(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==op(t)?t:t+""}function sp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sp=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(e)}function cp(e,t){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cp(e,t)}rp.defaultProps={className:"react-financial-charts-tooltip",displayValuesFor:function(e,t){return t.currentItem},labelFill:"#4682B4",origin:[0,0],valueFill:"#000000",xAccessor:Nt,xDisplayFormat:Rt,xInitDisplay:"n/a",yAccessor:Rt,yDisplayFormat:ti(".2f"),yInitDisplay:"n/a"};var up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=lp(t),function(e,t){if(t&&("object"==op(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sp()?Reflect.construct(t,n||[],lp(e).constructor):t.apply(e,n))}(this,t,arguments)).axisZoomCallback=function(t){var n=e.context.xAxisZoom;n&&n(t)},e.helper=function(){var n,r=e.props,o=r.axisAt,i=r.xZoomHeight,a=void 0===i?t.defaultProps.xZoomHeight:i,s=r.orient,l=r.ticks,c=e.context.chartConfig,u=c.width,f=c.height,p=u,d=a;switch(o){case"top":n=0;break;case"bottom":n=f;break;case"middle":n=f/2;break;default:n=null!=o?o:f}var h="top"===s?-a:0;return{transform:[0,n],range:[0,u],getScale:e.getXScale,bg:{x:0,y:h,h:d,w:p},ticks:null!=l?l:e.getXTicks(u)}},e.getXTicks=function(e){return e<400?2:e<500?6:8},e.getXScale=function(e){var t=e.xScale,n=e.width;if(t.invert){var r=[0,n],o=r.map(t.invert);return t.copy().domain(o).range(r)}return t},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.getMouseDelta,r=void 0===n?t.defaultProps.getMouseDelta:n,o=e.outerTickSize,i=void 0===o?t.defaultProps.outerTickSize:o,a=e.showTicks,s=e.strokeStyle,l=void 0===s?t.defaultProps.strokeStyle:s,c=e.strokeWidth,u=void 0===c?t.defaultProps.strokeWidth:c,f=e.zoomEnabled,p=up(e,["getMouseDelta","outerTickSize","showTicks","strokeStyle","strokeWidth","zoomEnabled"]),d=up(this.helper(),[]);return(0,bi.jsx)(Qu,Object.assign({},p,d,{getMouseDelta:r,outerTickSize:i,showTicks:a,strokeStyle:l,strokeWidth:u,zoomEnabled:f&&a,axisZoomCallback:this.axisZoomCallback}))}}])&&ip(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function pp(e,t,n,r){return _t(e)&&e.index===t?e[n]:r}function dp(){this.setState({current:null,override:null})}function hp(e){var t=this;return function(n){_t(t.nodes)?jt(n)&&_t(t.nodes[e])?delete t.nodes[e]:t.nodes[e]=n:t.nodes=[]}}function yp(e){return function(t){if(_t(this.nodes)){var n=this.nodes.map(function(e){return e.isHover(t)});return this.props[e].map(function(e,t){return Object.assign(Object.assign({},e),{selected:n[t]})})}}}function mp(e){return Mt(this.nodes,function(t){return t.isHover(e)}).reduce(function(e,t){return e||t})}function gp(e){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(e)}function vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wp(r.key),r)}}function wp(e){var t=function(e){if("object"!=gp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gp(t)?t:t+""}function Sp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sp=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kp(e)}function Ep(e,t){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ep(e,t)}fp.defaultProps={axisAt:"bottom",className:"react-financial-charts-x-axis",domainClassName:"react-financial-charts-axis-domain",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,getMouseDelta:function(e,t){return e[0]-t[0]},gridLinesStrokeStyle:"#E2E4EC",gridLinesStrokeWidth:1,orient:"bottom",outerTickSize:0,innerTickSize:4,showDomain:!0,showGridLines:!1,showTicks:!0,showTickLabel:!0,strokeStyle:"#000000",strokeWidth:1,tickPadding:4,tickLabelFill:"#000000",tickStrokeStyle:"#000000",xZoomHeight:25,zoomEnabled:!0,zoomCursorClassName:"react-financial-charts-ew-resize-cursor"},fp.contextType=Qs;var Cp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=kp(t),function(e,t){if(t&&("object"==gp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sp()?Reflect.construct(t,n||[],kp(e).constructor):t.apply(e,n))}(this,t,arguments)).isHover=function(t){var n=e.props,r=n.tolerance;if(void 0!==n.onHover){var o=e.props,i=o.x1Value,a=o.x2Value,s=o.y1Value,l=o.y2Value,c=o.type,u=function(e){var t=e.mouseXY,n=e.tolerance,r=e.xScale,o=e.yScale,i=_p({type:e.type,start:[e.x1Value,e.y1Value],end:[e.x2Value,e.y2Value],xScale:r,yScale:o}),a=[r(i.x1),o(i.y1)],s=[r(i.x2),o(i.y2)],l=Pp(a,s),c=vp(t,2),u=c[0],f=c[1];if(void 0!==l){var p=l*u+Op(l,s);return f<p+n&&f>p-n&&u>Math.min(a[0],s[0])-n&&u<Math.max(a[0],s[0])+n}return f>=Math.min(a[1],s[1])&&f<=Math.max(a[1],s[1])&&u<a[0]+n&&u>a[0]-n}({x1Value:i,y1Value:s,x2Value:a,y2Value:l,mouseXY:t.mouseXY,type:c,tolerance:r,xScale:t.xScale,yScale:t.chartConfig.yScale});return u}return!1},e.drawOnCanvas=function(n,r){var o=e.props,i=o.strokeWidth,a=void 0===i?t.defaultProps.strokeWidth:i,s=o.strokeDasharray,l=o.strokeStyle,c=function(e,t){var n=e.x1Value,r=e.x2Value,o=e.y1Value,i=e.y2Value,a=e.type,s=t.xScale,l=t.chartConfig.yScale,c=_p({type:a,start:[n,o],end:[r,i],xScale:s,yScale:l});return{x1:s(c.x1),y1:l(c.y1),x2:s(c.x2),y2:l(c.y2)}}(e.props,r),u=c.x1,f=c.y1,p=c.x2,d=c.y2;n.lineWidth=a,n.strokeStyle=l;var h=Xs(s);n.setLineDash(h),n.beginPath(),n.moveTo(u,f),n.lineTo(p,d),n.stroke()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ep(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.interactiveCursorClass,r=this.props,o=r.onDragStart,i=r.onDrag,a=r.onDragComplete,s=r.onHover,l=r.onUnHover,c=r.onClick;return(0,bi.jsx)(cl,{isHover:this.isHover,canvasToDraw:qs,canvasDraw:this.drawOnCanvas,interactiveCursorClass:n,selected:t,onDragStart:o,onDrag:i,onDragComplete:a,onHover:s,onUnHover:l,onClick:c,drawOn:["mousemove","pan","drag"]})}}])&&xp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Pp(e,t){return t[0]===e[0]?void 0:(t[1]-e[1])/(t[0]-e[0])}function Op(e,t){return-1*e*t[0]+t[1]}function _p(e){var t=e.type,n=e.start,r=e.end,o=e.xScale,i=e.yScale,a=Pp(n,r),s=Op(a,n);switch(t){case"XLINE":return function(e){var t=e.start,n=e.end,r=e.yScale,o=e.m,i=e.b,a=vp(e.xScale.domain(),2),s=a[0],l=a[1],c=vp(r.domain(),2),u=c[0],f=c[1];if(n[0]===t[0])return{x1:n[0],y1:u,x2:n[0],y2:f};var p=vp(n[0]>t[0]?[s,l]:[l,s],2),d=p[0],h=p[1];return{x1:d,y1:o*d+i,x2:h,y2:o*h+i}}({start:n,end:r,xScale:o,yScale:i,m:a,b:s});case"RAY":return function(e){var t=e.start,n=e.end,r=e.yScale,o=e.m,i=e.b,a=vp(e.xScale.domain(),2),s=a[0],l=a[1],c=vp(r.domain(),2),u=c[0],f=c[1],p=t[0];if(n[0]===t[0])return{x1:p,y1:t[1],x2:p,y2:n[1]>t[1]?f:u};var d=n[0]>t[0]?l:s;return{x1:p,y1:o*p+i,x2:d,y2:o*d+i}}({start:n,end:r,xScale:o,yScale:i,m:a,b:s});default:return function(e){var t=e.start,n=e.end,r=vp(t,2),o=r[0],i=r[1],a=vp(n,2),s=a[0],l=a[1];return n[0]===t[0]?{x1:o,y1:t[1],x2:o,y2:n[1]}:{x1:o,y1:i,x2:s,y2:l}}({start:n,end:r})}}function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ap(r.key),r)}}function Ap(e){var t=function(e){if("object"!=jp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jp(t)?t:t+""}function Dp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dp=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(e)}function Np(e,t){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Np(e,t)}Cp.defaultProps={onEdge1Drag:Nt,onEdge2Drag:Nt,edgeStrokeWidth:3,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:10,withEdge:!1,strokeWidth:1,strokeDasharray:"Solid",children:Nt,tolerance:7,selected:!1};var Ip=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Mp(t),function(e,t){if(t&&("object"==jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dp()?Reflect.construct(t,n||[],Mp(e).constructor):t.apply(e,n))}(this,t,arguments)).mutableState={},e.xy=function(t,n){var r,o,i,a=n.xAccessor,s=n.plotData,l=n.mouseXY,c=n.currentItem,u=n.xScale,f=n.chartConfig.yScale,p=e.props,d=p.enabled,h=p.snap,y=p.shouldDisableSnap,m=p.snapTo;if(d&&_t(c)&&_t(t)){var g=h&&!y(t)?a(c):Ri(u,a,l,s),v=h&&void 0!==m&&!y(t)?(r=m(c),o=f.invert(l[1]),i=(Array.isArray(r)?r:[r]).map(function(e){return e-o}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t}),o+i):f.invert(l[1]);return{xValue:g,yValue:v,x:u(g),y:f(v)}}},e.handleClick=function(t,n){var r=e.xy(t,n);if(void 0!==r&&_t(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onClick(t,[o,i],n)}},e.handleMouseDown=function(t,n){var r=e.xy(t,n);if(void 0!==r&&_t(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onMouseDown(t,[o,i],n)}},e.handleMousePosChange=function(t,n){if(!Ei(n.mousXY,n.prevMouseXY)){var r=e.xy(t,n);if(void 0!==r&&_t(r)){var o=r.xValue,i=r.yValue,a=r.x,s=r.y;e.mutableState={x:a,y:s},e.props.onMouseMove(t,[o,i],n)}}},e.drawOnCanvas=function(t,n){var r=e.props,o=r.enabled,i=r.r,a=r.stroke,s=r.strokeWidth,l=e.mutableState,c=l.x,u=l.y,f=n.show;o&&f&&_t(c)&&(t.lineWidth=s,t.strokeStyle=a,t.moveTo(c,u),t.beginPath(),t.arc(c,u,i,0,2*Math.PI,!1),t.stroke())},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Np(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.enabled,n=e.disablePan;return(0,bi.jsx)(cl,{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseMove:this.handleMousePosChange,onPan:this.handleMousePosChange,disablePan:t&&n,canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["mousemove","pan"]})}}])&&Tp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zp(r.key),r)}}function zp(e){var t=function(e){if("object"!=Rp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rp(t)?t:t+""}function Vp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vp=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bp(e)}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Up(e,t)}Ip.defaultProps={onMouseMove:Nt,onMouseDown:Nt,onClick:Nt,shouldDisableSnap:mt(!1),stroke:"#000000",strokeWidth:1,opacity:1,disablePan:!0};var Wp=10,Hp=function(e){function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,t,n){return t=Bp(t),function(e,t){if(t&&("object"==Rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vp()?Reflect.construct(t,n||[],Bp(e).constructor):t.apply(e,n))}(this,n,[e])).textNode=t.createRef(),r.renderSVG=function(e){var t=r.props,n=t.fontFamily,o=t.fontSize,i=t.fill,a=t.bgFill,s=t.bgOpacity,l=function(e,t){var n=e.show,r=e.bgWidth,o=e.bgHeight,i=t.mouseXY,a=t.chartConfig,s=a.height,l=a.width,c=t.show;if(n&&c){var u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,2),f=u[0],p=u[1],d=f<l/2?f+Wp:f-r-Wp,h=p<s/2?p+Wp:p-o-Wp;return{rect:{x:d,y:h,width:r,height:o},text:{text:e.text,x:d+5,y:h+o/2}}}}(Object.assign(Object.assign({},r.props),{bgWidth:r.getBgWidth(),bgHeight:r.getBgHeight()}),e);if(void 0!==l&&_t(l)){var c=l.rect,u=l.text;return(0,bi.jsxs)("g",{children:[(0,bi.jsx)("rect",Object.assign({fill:a,fillOpacity:s,stroke:a},c)),(0,bi.jsx)("text",Object.assign({ref:r.textNode,fontSize:o,fontFamily:n,textAnchor:"start",alignmentBaseline:"central",fill:i,x:u.x,y:u.y},{children:u.text}))]})}return null},r.getBgHeight=function(){var e=r.props.bgHeight,t=r.state.textHeight;return"auto"!==e?e:void 0!==t?t+Wp:10},r.getBgWidth=function(){var e=r.props.bgWidth,t=r.state.textWidth;return"auto"!==e?e:void 0!==t?t+Wp:10},r.updateTextSize=function(){var e=r.props,t=e.bgWidth,n=e.bgHeight;if("auto"===t||"auto"===n){var o=r.textNode.current;if(null!==o){var i=o.getBBox(),a=i.width,s=i.height;r.state.textWidth===a&&r.state.textHeight===s||r.setState({textWidth:a,textHeight:s})}}},r.state={textWidth:void 0,textHeight:void 0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}(n,e),r=n,(o=[{key:"componentDidMount",value:function(){this.updateTextSize()}},{key:"componentDidUpdate",value:function(){this.updateTextSize()}},{key:"render",value:function(){return this.props.text?(0,bi.jsx)(cl,{svgDraw:this.renderSVG,drawOn:["mousemove"]}):null}}])&&Fp(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component);function Yp(e){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(e)}function qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gp(r.key),r)}}function Gp(e){var t=function(e){if("object"!=Yp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yp(t)?t:t+""}function Qp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qp=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(e)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kp(e,t)}Hp.defaultProps={fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fill:"#000000",bgFill:"#FA9325",bgOpacity:.5};var Jp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Zp(t),function(e,t){if(t&&("object"==Yp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qp()?Reflect.construct(t,n||[],Zp(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.props,o=r.strokeStyle,i=r.strokeWidth,a=r.fillStyle,s=r.r;t.lineWidth=i,t.fillStyle=a,t.strokeStyle=o;var l=qp(e.helper(n),2),c=l[0],u=l[1];t.beginPath(),t.arc(c,u,s,0,2*Math.PI,!1),t.fill(),t.stroke()},e.isHover=function(t){var n=t.mouseXY,r=e.props.r+7,o=qp(e.helper(t),2),i=o[0],a=o[1],s=qp(n,2),l=s[0],c=s[1];return i-r<l&&l<i+r&&a-r<c&&c<a+r},e.helper=function(t){var n=e.props,r=n.xyProvider,o=n.cx,i=n.cy;if(void 0!==r)return r(t);var a=t.xScale,s=t.chartConfig.yScale;return[a(o),s(i)]},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.interactiveCursorClass,n=e.onDragStart,r=e.onDrag,o=e.onDragComplete;return e.show?(0,bi.jsx)(cl,{interactiveCursorClass:t,selected:!0,isHover:this.isHover,onDragStart:n,onDrag:r,onDragComplete:o,canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["pan","mousemove","drag"]}):null}}])&&$p(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function ed(e){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(e)}function td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,od(r.key),r)}}function od(e){var t=function(e){if("object"!=ed(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ed(t)?t:t+""}function id(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(id=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ad(e)}function sd(e,t){return sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sd(e,t)}Jp.defaultProps={className:"react-financial-charts-interactive-line-edge",show:!1};var ld=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=ad(t),function(e,t){if(t&&("object"==ed(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,id()?Reflect.construct(t,n||[],ad(e).constructor):t.apply(e,n))}(this,t,[e])).handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.x1Value,s=r.y1Value,l=r.x2Value,c=r.y2Value,u=(r.type,n.checkIfHovered(t));console.log(" EachTrendLine clicked, index:",o,"isActuallyHovered:",u,"coords:",{start:[a,s],end:[l,c]}),i&&u&&i(e,[{index:o,start:[a,s],end:[l,c],x1Value:a,y1Value:s,x2Value:l,y2Value:c,selected:!0,type:n.props.type}],t)},n.handleEdge2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1Value,s=r.y1Value,l=td(cd(t),2);i(e,o,{x1Value:a,y1Value:s,x2Value:l[0],y2Value:l[1]})},n.handleEdge1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x2Value,s=r.y2Value,l=td(cd(t),2);i(e,o,{x1Value:l[0],y1Value:l[1],x2Value:a,y2Value:s})},n.handleDragComplete=function(e,t){console.log(" EachTrendLine handleDragComplete called"),n.setState({anchor:void 0});var r=n.props,o=r.onDragComplete,i=r.onSelect,a=r.index,s=r.x1Value,l=r.y1Value,c=r.x2Value,u=r.y2Value,f=r.type;if(void 0!==o&&o(e,t),void 0!==i){console.log("   Selecting line after drag, index:",a);var p=[{index:a,start:[s,l],end:[c,u],x1Value:s,y1Value:l,x2Value:c,y2Value:u,selected:!0,type:f}];setTimeout(function(){i(e,p,t)},50)}},n.handleEdge2DragStart=function(){n.setState({anchor:"edge1"})},n.handleEdge1DragStart=function(){n.setState({anchor:"edge2"})},n.handleLineDrag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.x1Value,l=a.y1Value,c=a.x2Value,u=a.y2Value,f=t.xScale,p=t.chartConfig.yScale,d=t.xAccessor,h=t.fullData,y=t.startPos,m=t.mouseXY,g=f(s),v=p(l),b=f(c),x=p(u),w=y[0]-m[0],S=y[1]-m[1];i(e,o,{x1Value:Ri(f,d,[g-w,v-S],h),y1Value:p.invert(v-S),x2Value:Ri(f,d,[b-w,x-S],h),y2Value:p.invert(x-S)})},n.handleLineDragStart=function(){var e=n.props,t=e.x1Value,r=e.y1Value,o=e.x2Value,i=e.y2Value;n.dragStart={x1Value:t,y1Value:r,x2Value:o,y2Value:i}},n.checkIfHovered=function(e){var t,r,o=n.props,i=o.x1Value,a=o.x2Value,s=o.y1Value,l=o.y2Value,c=(o.type,o.index),u=e.mouseXY,f=e.xScale,p=e.chartConfig.yScale,d=f(i),h=f(a),y=p(s),m=p(l),g=td(u,2),v=g[0],b=g[1],x=h-d,w=m-y,S=x*x+w*w,k=-1;0!==S&&(k=((v-d)*x+(b-y)*w)/S),k<0?(t=d,r=y):k>1?(t=h,r=m):(t=d+k*x,r=y+k*w);var E=v-t,C=b-r,P=Math.sqrt(E*E+C*C),O=P<=50;return console.log(" Line hover check:",{index:c,mouseXY:[v,b],lineScreenCoords:[[d,y],[h,m]],closestPoint:[t,r],distance:P.toFixed(1),tolerance:50,result:O}),O},n.isHover=mp.bind(n),n.saveNodeType=hp.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.x1Value,n=e.y1Value,r=e.x2Value,o=e.y2Value,i=e.type,a=e.strokeStyle,s=e.strokeWidth,l=e.strokeDasharray,c=e.r,u=e.edgeStrokeWidth,f=e.edgeFill,p=e.edgeStroke,d=e.edgeInteractiveCursor,h=e.lineInteractiveCursor,y=e.hoverText,m=e.selected,g=(e.onDragComplete,y.enable),v=y.selectedText,b=y.text,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(y,["enable","selectedText","text"]),w=this.state,S=w.hover,k=w.anchor;return(0,bi.jsxs)("g",{children:[(0,bi.jsx)(Cp,{ref:this.saveNodeType("line"),selected:m||S,onHover:this.handleHover,onUnHover:this.handleHover,onClick:this.handleClick,x1Value:t,y1Value:n,x2Value:r,y2Value:o,type:i,strokeStyle:a,strokeWidth:S||m?s+1:s,strokeDasharray:l,interactiveCursorClass:h,onDragStart:this.handleLineDragStart,onDrag:this.handleLineDrag,onDragComplete:this.handleDragComplete}),(0,bi.jsx)(Jp,{ref:this.saveNodeType("edge1"),show:m||S,cx:t,cy:n,r:c,fillStyle:f,strokeStyle:"edge1"===k?a:p,strokeWidth:u,interactiveCursorClass:d,onDragStart:this.handleEdge1DragStart,onDrag:this.handleEdge1Drag,onDragComplete:this.handleDragComplete}),(0,bi.jsx)(Jp,{ref:this.saveNodeType("edge2"),show:m||S,cx:r,cy:o,r:c,fillStyle:f,strokeStyle:"edge2"===k?a:p,strokeWidth:u,interactiveCursorClass:d,onDragStart:this.handleEdge2DragStart,onDrag:this.handleEdge2Drag,onDragComplete:this.handleDragComplete}),(0,bi.jsx)(Hp,Object.assign({show:g&&S},x,{text:m?v:b}))]})}}])&&rd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function cd(e){var t=e.xScale,n=e.chartConfig.yScale,r=e.xAccessor,o=e.plotData,i=e.mouseXY,a=i[1],s=Ri(t,r,i,o),l=td(n.domain().slice().sort(Lr),2),c=l[0],u=l[1],f=n.invert(a);return[s,Math.min(Math.max(f,c),u)]}function ud(e){return ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(e)}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dd(r.key),r)}}function dd(e){var t=function(e){if("object"!=ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ud(t)?t:t+""}function hd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hd=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yd(e)}function md(e,t){return md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},md(e,t)}ld.defaultProps={onDrag:Nt,onEdge1Drag:Nt,onEdge2Drag:Nt,onSelect:Nt,selected:!1,edgeStroke:"#000000",edgeFill:"#FFFFFF",edgeStrokeWidth:2,r:5,strokeWidth:1,strokeDasharray:"Solid",hoverText:{enable:!1}};var gd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=yd(t),function(e,t){if(t&&("object"==ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hd()?Reflect.construct(t,n||[],yd(e).constructor):t.apply(e,n))}(this,t,[e])).handleEnd=function(e,t,r){var o=n.state.current,i=n.props,a=i.trends,s=i.appearance,l=i.type;if(console.log(" TrendLine handleEnd called",{current:o,xyValue:t,mouseMoved:n.mouseMoved}),_t(o)&&_t(o.start)){var c=o.start[0],u=o.start[1],f=t[0],p=t[1],d=Math.abs(c-f)>1||Math.abs(u-p)>1;if(console.log("   Distance check:",{startX:c,startY:u,endX:f,endY:p,differentPosition:d,mouseMoved:n.mouseMoved}),n.mouseMoved||d){console.log("   Completing trendline!");var h=[].concat(function(e){return function(e){if(Array.isArray(e))return fd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[{start:o.start,end:t,selected:!0,appearance:s,type:l}]);n.setState({current:null,trends:h},function(){var t=n.props.onComplete;void 0!==t&&t(e,h,r)})}else console.log("   Not completing - no movement detected")}else console.log("   Not completing - no current state or start point")},n.handleStart=function(e,t,r){var o=n.state.current;console.log(" TrendLine handleStart called, current:",o),jt(o)||jt(o.start)?(console.log("   Setting mouseMoved = false (resetting)"),n.mouseMoved=!1,n.setState({current:{start:t,end:null}},function(){var t=n.props.onStart;void 0!==t&&t(e,r)})):console.log("   handleStart condition not met, NOT resetting mouseMoved (current value:",n.mouseMoved,")")},n.handleDrawLine=function(e,t){var r=n.state.current;_t(r)&&_t(r.start)&&(n.mouseMoved=!0,n.setState({current:{start:r.start,end:t}}))},n.handleDragLineComplete=function(e,t){console.log(" handleDragLineComplete called");var r=n.state.override;if(console.log("  Override state:",r),_t(r)){var o=n.props.trends.map(function(e,t){return t===r.index?Object.assign(Object.assign({},e),{start:[r.x1Value,r.y1Value],end:[r.x2Value,r.y2Value],selected:!0}):Object.assign(Object.assign({},e),{selected:!1})});console.log("   Setting dragged line as selected, index:",r.index),n.setState({override:null},function(){var r=n.props.onComplete;void 0!==r&&r(e,o,t)})}},n.handleDragLine=function(e,t,r){console.log(" handleDragLine called, index:",t,"new position:",r),n.setState({override:Object.assign({index:t},r)})},n.terminate=dp.bind(n),n.saveNodeType=hp.bind(n),n.getSelectionState=yp("trends").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&md(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.currentPositionstrokeOpacity,i=n.currentPositionRadius,a=void 0===i?t.defaultProps.currentPositionRadius:i,s=n.currentPositionStroke,l=n.currentPositionStrokeWidth,c=n.enabled,u=n.hoverText,f=n.shouldDisableSnap,p=n.snap,d=n.snapTo,h=n.trends,y=n.type,m=this.state,g=m.current,v=m.override,b=_t(g)&&_t(g.end)?(0,bi.jsx)(Cp,{type:y,x1Value:g.start[0],y1Value:g.start[1],x2Value:g.end[0],y2Value:g.end[1],strokeStyle:r.strokeStyle,strokeWidth:r.strokeWidth}):null;return(0,bi.jsxs)("g",{children:[h.map(function(n,o){var i=_t(n.appearance)?Object.assign(Object.assign({},r),n.appearance):r,a=Object.assign(Object.assign({},t.defaultProps.hoverText),u);return(0,bi.jsx)(ld,{ref:e.saveNodeType(o),index:o,type:n.type,selected:n.selected,x1Value:pp(v,o,"x1Value",n.start[0]),y1Value:pp(v,o,"y1Value",n.start[1]),x2Value:pp(v,o,"x2Value",n.end[0]),y2Value:pp(v,o,"y2Value",n.end[1]),strokeStyle:i.strokeStyle,strokeWidth:i.strokeWidth,strokeOpacity:i.strokeOpacity,strokeDasharray:i.strokeDasharray,edgeStroke:i.edgeStroke,edgeFill:i.edgeFill,edgeStrokeWidth:i.edgeStrokeWidth,r:i.r,hoverText:a,onSelect:e.props.onSelect,onDrag:e.handleDragLine,onDragComplete:e.handleDragLineComplete,edgeInteractiveCursor:"react-financial-charts-move-cursor",lineInteractiveCursor:"react-financial-charts-move-cursor"},o)}),b,c&&(0,bi.jsx)(Ip,{enabled:c,snap:p,shouldDisableSnap:f,snapTo:d,r:a,stroke:s,opacity:o,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawLine})]})}}])&&pd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function vd(e){return vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(e)}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wd(r.key),r)}}function wd(e){var t=function(e){if("object"!=vd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vd(t)?t:t+""}function Sd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sd=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kd(e)}function Ed(e,t){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ed(e,t)}gd.defaultProps={type:"XLINE",onStart:Nt,onSelect:Nt,currentPositionStroke:"#000000",currentPositionstrokeOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:0,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},hoverText:Object.assign(Object.assign({},Hp.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),trends:[],appearance:{strokeStyle:"#000000",strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var Cd=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=kd(t),function(e,t){if(t&&("object"==vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sd()?Reflect.construct(t,n||[],kd(e).constructor):t.apply(e,n))}(this,t,arguments)).isHover=function(){return!1},e.drawOnCanvas=function(t,n){var r=e.props,o=r.xyProvider,i=r.fontFamily,a=r.fontSize,s=r.fillStyle,l=r.children,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o(n),2),u=c[0],f=c[1];t.font="".concat(a,"px ").concat(i),t.fillStyle=s,t.beginPath(),t.fillText(l,u,f)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ed(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.selected;return(0,bi.jsx)(cl,{isHover:this.isHover,selected:e,canvasToDraw:qs,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan","drag"]})}}])&&xd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Pd(e){return Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(e)}function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Td(r.key),r)}}function Td(e){var t=function(e){if("object"!=Pd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pd(t)?t:t+""}function Ad(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ad=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dd(e)}function Md(e,t){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Md(e,t)}Cd.defaultProps={selected:!1};var Nd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Dd(t),function(e,t){if(t&&("object"==Pd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ad()?Reflect.construct(t,n||[],Dd(e).constructor):t.apply(e,n))}(this,t,[e])).handleEdge2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1,s=r.y1,l=r.y2;i(e,o,{x1:a,y1:s,x2:Od(cd(t),1)[0],y2:l})},n.handleEdge1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.y1,s=r.x2,l=r.y2;i(e,o,{x1:Od(cd(t),1)[0],y1:a,x2:s,y2:l})},n.handleLineNSResizeBottom=function(e,t){var r=n.props,o=r.index;(0,r.onDrag)(e,o,{x1:r.x1,y1:r.y1,x2:r.x2,y2:Od(cd(t),2)[1]})},n.handleLineNSResizeTop=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.x1,s=r.x2,l=r.y2;i(e,o,{x1:a,y1:Od(cd(t),2)[1],x2:s,y2:l})},n.handleLineMove=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=n.dragStart,s=a.x1,l=a.y1,c=a.x2,u=a.y2,f=t.xScale,p=t.chartConfig.yScale,d=t.xAccessor,h=t.fullData,y=t.startPos,m=t.mouseXY,g=f(s),v=p(l),b=f(c),x=p(u),w=y[0]-m[0],S=y[1]-m[1];i(e,o,{x1:Ri(f,d,[g-w,v-S],h),y1:p.invert(v-S),x2:Ri(f,d,[b-w,x-S],h),y2:p.invert(x-S)})},n.handleLineDragStart=function(){var e=n.props,t=e.x1,r=e.y1,o=e.x2,i=e.y2;n.dragStart={x1:t,y1:r,x2:o,y2:i}},n.handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleClick=function(e,t){console.log(" FIBONACCI CLICK HANDLER CALLED!",n.props.index),e.stopPropagation(),e.preventDefault();var r=n.props,o=r.index,i=r.onSelect,a=r.x1,s=r.x2,l=r.y1,c=r.y2;i&&i(e,[{index:o,x1:a,y1:l,x2:s,y2:c,selected:!0,type:n.props.type,appearance:n.props.appearance}],t)},n.isHover=mp.bind(n),n.saveNodeType=hp.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.x1,r=t.x2,o=t.y1,i=t.y2,a=this.props,s=a.interactive,l=a.yDisplayFormat,c=a.type,u=a.appearance,f=u.strokeStyle,p=u.strokeWidth,d=u.fontFamily,h=u.fontSize,y=u.fontFill,m=u.edgeStroke,g=u.edgeFill,v=u.nsEdgeFill,b=u.edgeStrokeWidth,x=u.r,w=this.props,S=w.hoverText,k=w.selected,E=this.state.hover,C=this.props.onDragComplete,P=function(e){var t=e.x1,n=e.x2,r=e.y2,o=r-e.y1;return[100,61.8,50,38.2,23.6,0].map(function(e){return{percent:e,x1:t,x2:n,y:r-e/100*o}})}({x1:n,x2:r,y1:o,y2:i}),O=S.enable,_=S.selectedText,j=S.text,T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(S,["enable","selectedText","text"]),A="EXTEND"===c?"XLINE":"BOUND"===c?"LINE":"RAY",D=Ct(P).y1>Ot(P).y1?3:-1.3;return(0,bi.jsxs)("g",{children:[P.map(function(t,n){var r="".concat(l(t.y)," (").concat(t.percent.toFixed(2),"%)"),o=0===n||n===P.length-1,i=o?"react-financial-charts-ns-resize-cursor":"react-financial-charts-move-cursor",a=o?"react-financial-charts-ns-resize-cursor":"react-financial-charts-ew-resize-cursor",c=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleLineMove,u=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge1Drag,w=0===n?e.handleLineNSResizeTop:n===P.length-1?e.handleLineNSResizeBottom:e.handleEdge2Drag,S=s?{onHover:e.handleHover,onUnHover:e.handleHover}:{};return(0,bi.jsxs)("g",{children:[(0,bi.jsx)(Cp,Object.assign({ref:e.saveNodeType("line_".concat(n)),selected:k||E},S,{onClick:e.handleClick,type:A,x1Value:t.x1,y1Value:t.y,x2Value:t.x2,y2Value:t.y,strokeStyle:f,strokeWidth:E||k?p+1:p,interactiveCursorClass:i,onDragStart:e.handleLineDragStart,onDrag:c,onDragComplete:C})),(0,bi.jsx)(Cd,Object.assign({selected:k,xyProvider:function(e){var n=e.xScale,r=e.chartConfig.yScale,o=_p({type:A,start:[t.x1,t.y],end:[t.x2,t.y],xScale:n,yScale:r}),i=o.x1,a=o.y1,s=o.x2;return[n(Math.min(i,s))+10,r(a)+4*D]},fontFamily:d,fontSize:h,fillStyle:y},{children:r})),(0,bi.jsx)(Jp,{ref:e.saveNodeType("edge1"),show:k||E,cx:t.x1,cy:t.y,r:x,fillStyle:o?v:g,strokeStyle:m,strokeWidth:b,interactiveCursorClass:a,onDrag:u,onDragComplete:C}),(0,bi.jsx)(Jp,{ref:e.saveNodeType("edge2"),show:k||E,cx:t.x2,cy:t.y,r:x,fillStyle:o?v:g,strokeStyle:m,strokeWidth:b,interactiveCursorClass:a,onDrag:w,onDragComplete:C})]},n)}),(0,bi.jsx)(Hp,Object.assign({show:O&&E},T,{text:k?_:j}))]})}}],r&&jd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Id(e){return Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(e)}function Rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ld(r.key),r)}}function Ld(e){var t=function(e){if("object"!=Id(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Id(t)?t:t+""}function Fd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fd=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zd(e)}function Vd(e,t){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vd(e,t)}Nd.defaultProps={yDisplayFormat:function(e){return e.toFixed(2)},interactive:!0,appearance:{strokeStyle:"#000000",strokeWidth:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:10,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5},selected:!1,onDrag:Nt,onSelect:Nt,hoverText:{enable:!1}};var Bd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=zd(t),function(e,t){if(t&&("object"==Id(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fd()?Reflect.construct(t,n||[],zd(e).constructor):t.apply(e,n))}(this,t,[e])).handleDrawRetracement=function(e,t){var r=n.state.current;_t(r)&&_t(r.x1)&&(n.mouseMoved=!0,n.setState({current:Object.assign(Object.assign({},r),{x2:t[0],y2:t[1]})}))},n.handleEdge1Drag=function(e,t,r,o){var i=n.props.retracements,a=t.index,s=o.x1Value-r.x1Value;n.setState({override:{index:a,x1:i[a].x1-s,y1:i[a].y1,x2:i[a].x2,y2:i[a].y2}})},n.handleDrag=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.handleEdge2Drag=function(e,t,r,o){var i=n.props.retracements,a=t.index,s=o.x2Value-r.x2Value;n.setState({override:{index:a,x1:i[a].x1,y1:i[a].y1,x2:i[a].x2-s,y2:i[a].y2}})},n.handleDragComplete=function(e,t){var r=n.props.retracements,o=n.state.override;if(_t(o)){var i=o.index,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["index"]),s=r.map(function(e,t){return t===i?Object.assign(Object.assign(Object.assign({},e),a),{selected:!0}):e});n.setState({override:null},function(){var r=n.props.onComplete;void 0!==r&&r(e,s,t)})}},n.handleStart=function(e,t,r){var o=n.state.current;(jt(o)||jt(o.x1))&&(n.mouseMoved=!1,n.setState({current:{x1:t[0],y1:t[1],x2:null,y2:null}},function(){var e=n.props.onStart;void 0!==e&&e(r)}))},n.handleEnd=function(e,t,r){var o=n.props,i=o.retracements,a=o.appearance,s=o.type,l=n.state.current;if(_t(l)&&_t(l.x1)){var c=l.x1,u=l.y1,f=t[0],p=t[1],d=Math.abs(c-f)>1||Math.abs(u-p)>1;if(n.mouseMoved||d){var h=i.concat(Object.assign(Object.assign({},l),{x2:t[0],y2:t[1],selected:!0,appearance:a,type:s}));n.setState({current:null},function(){var t=n.props.onComplete;void 0!==t&&t(e,h,r)})}}},n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.terminate=dp.bind(n),n.getSelectionState=yp("retracements").bind(n),n.saveNodeType=hp.bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,n=this.state,r=n.current,o=n.override,i=this.props,a=i.appearance,s=i.currentPositionStroke,l=i.currentPositionOpacity,c=i.currentPositionStrokeWidth,u=i.currentPositionRadius,f=void 0===u?t.defaultProps.currentPositionRadius:u,p=i.retracements,d=i.type,h=this.props,y=h.enabled,m=h.hoverText,g=_t(o)?o.index:null,v=Object.assign(Object.assign({},t.defaultProps.hoverText),m),b=_t(r)&&_t(r.x2)?(0,bi.jsx)(Nd,Object.assign({interactive:!1,type:d,appearance:a,hoverText:v},r)):null;return(0,bi.jsxs)("g",{children:[p.map(function(t,n){var r=_t(t.appearance)?Object.assign(Object.assign({},a),t.appearance):a,i=_t(t.hoverText)?Object.assign(Object.assign({},v),t.hoverText):v;return(0,bi.jsx)(Nd,Object.assign({ref:e.saveNodeType(n),index:n,type:t.type,selected:t.selected},n===g?o:t,{hoverText:i,appearance:r,onSelect:e.props.onSelect,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete}),n)}),b,(0,bi.jsx)(Ip,{enabled:y,snap:!1,r:f,stroke:s,opacity:l,strokeWidth:c,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawRetracement})]})}}])&&Rd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Ud(e){return Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(e)}function Wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qd(r.key),r)}}function qd(e){var t=function(e){if("object"!=Ud(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ud(t)?t:t+""}function Xd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xd=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(e)}function Gd(e,t){return Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gd(e,t)}Bd.defaultProps={enabled:!0,type:"RAY",retracements:[],onSelect:Nt,hoverText:Object.assign(Object.assign({},Hp.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select object",selectedText:""}),currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,appearance:{strokeStyle:"#000000",strokeWidth:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11,fontFill:"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:"#000000",edgeStrokeWidth:1,r:5}};var Qd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=$d(t),function(e,t){if(t&&("object"==Ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xd()?Reflect.construct(t,n||[],$d(e).constructor):t.apply(e,n))}(this,t,[e])).drawTriangleOnCanvas=function(e,t){var r=n.props,o=r.point1,i=r.point2,a=r.point3,s=r.strokeStyle,l=r.strokeWidth,c=r.fillStyle,u=r.fillOpacity,f=r.selected,p=n.state.hover;if(_t(o)&&_t(i)&&_t(a)){var d=t.xScale,h=t.chartConfig.yScale,y=d(o[0]),m=h(o[1]),g=d(i[0]),v=h(i[1]),b=d(a[0]),x=h(a[1]);e.fillStyle=c,e.globalAlpha=f||p?u+.1:u,e.beginPath(),e.moveTo(y,m),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.fill(),e.globalAlpha=1,e.strokeStyle=s,e.lineWidth=p||f?l+1:l,e.beginPath(),e.moveTo(y,m),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.stroke()}},n.handleClick=function(e,t){var r=n.props,o=r.index,i=r.onSelect,a=r.point1,s=r.point2,l=r.point3,c=n.checkIfHovered(t);console.log(" EachTrianglePattern clicked, index:",o,"isActuallyHovered:",c,"coords:",{point1:a,point2:s,point3:l}),i&&c&&i(e,[{index:o,point1:a,point2:s,point3:l,selected:!0,type:"triangle"}],t)},n.handleHover=function(e,t){n.state.hover!==t.hovering&&n.setState({hover:t.hovering})},n.handleDragComplete=function(e,t){n.setState({anchor:void 0});var r=n.props.onDragComplete;r&&r(e,t)},n.handlePoint1DragStart=function(){n.setState({anchor:"point1"})},n.handlePoint2DragStart=function(){n.setState({anchor:"point2"})},n.handlePoint3DragStart=function(){n.setState({anchor:"point3"})},n.handlePoint1Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point2,s=r.point3,l=Wd(cd(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:[c,u],point2:a,point3:s})},n.handlePoint2Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point1,s=r.point3,l=Wd(cd(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:a,point2:[c,u],point3:s})},n.handlePoint3Drag=function(e,t){var r=n.props,o=r.index,i=r.onDrag,a=r.point1,s=r.point2,l=Wd(cd(t),2),c=l[0],u=l[1];i&&i(e,o,{point1:a,point2:s,point3:[c,u]})},n.checkIfHovered=function(e){var t=n.props,r=t.point1,o=t.point2,i=t.point3,a=e.mouseXY,s=e.xScale,l=e.chartConfig.yScale;if(!r||!o||!i)return!1;var c=Wd(a,2),u=c[0],f=c[1],p=s(r[0]),d=l(r[1]),h=s(o[0]),y=l(o[1]),m=s(i[0]),g=l(i[1]),v=(y-g)*(p-m)+(m-h)*(d-g);if(Math.abs(v)<1e-10)return!1;var b=((y-g)*(u-m)+(m-h)*(f-g))/v,x=((g-d)*(u-m)+(p-m)*(f-g))/v,w=1-b-x,S=b>=0&&x>=0&&w>=0&&b<=1&&x<=1&&w<=1,k=n.pointToLineDistance(u,f,p,d,h,y),E=n.pointToLineDistance(u,f,h,y,m,g),C=n.pointToLineDistance(u,f,m,g,p,d),P=k<=20||E<=20||C<=20,O=S||P;return console.log(" Triangle hover check:",{mouseXY:[u,f],triangleScreenCoords:[[p,d],[h,y],[m,g]],isInside:S,nearEdge:P,edgeDistances:[k,E,C],tolerance:20,result:O}),O},n.pointToLineDistance=function(e,t,n,r,o,i){var a=e-n,s=t-r,l=o-n,c=i-r,u=a*l+s*c,f=l*l+c*c;if(0===f)return Math.sqrt(a*a+s*s);var p=u/f,d=e-(n+(p=Math.max(0,Math.min(1,p)))*l),h=t-(r+p*c);return Math.sqrt(d*d+h*h)},n.saveNodeType=hp.bind(n),n.isHover=n.checkIfHovered.bind(n),n.state={hover:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.point1,n=e.point2,r=e.point3,o=e.strokeStyle,i=(e.strokeWidth,e.fillStyle,e.fillOpacity,e.edgeStroke),a=e.edgeFill,s=e.edgeStrokeWidth,l=e.r,c=e.selected,u=e.hoverText,f=this.state,p=f.hover,d=f.anchor;if(!_t(t)||!_t(n)||!_t(r))return null;var h=_t(u)&&u.enable,y=_t(u)&&u.text,m=_t(u)&&u.selectedText;return(0,bi.jsxs)("g",{children:[(0,bi.jsx)(cl,{canvasToDraw:qs,canvasDraw:this.drawTriangleOnCanvas,isHover:this.isHover,onClick:this.handleClick,onHover:this.handleHover,onUnHover:this.handleHover,drawOn:["mousemove","pan","drag"]}),(c||p)&&(0,bi.jsxs)(bi.Fragment,{children:[(0,bi.jsx)(Jp,{show:!0,cx:t[0],cy:t[1],r:l,fillStyle:"point1"===d?o:a,strokeStyle:i,strokeWidth:s,onDragStart:this.handlePoint1DragStart,onDrag:this.handlePoint1Drag,onDragComplete:this.handleDragComplete}),(0,bi.jsx)(Jp,{show:!0,cx:n[0],cy:n[1],r:l,fillStyle:"point2"===d?o:a,strokeStyle:i,strokeWidth:s,onDragStart:this.handlePoint2DragStart,onDrag:this.handlePoint2Drag,onDragComplete:this.handleDragComplete}),(0,bi.jsx)(Jp,{show:!0,cx:r[0],cy:r[1],r:l,fillStyle:"point3"===d?o:a,strokeStyle:i,strokeWidth:s,onDragStart:this.handlePoint3DragStart,onDrag:this.handlePoint3Drag,onDragComplete:this.handleDragComplete})]}),(0,bi.jsx)(Hp,Object.assign({show:h&&p},u,{text:c?m:y}))]})}}])&&Yd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Zd(e){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(e)}function Kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}function eh(e){var t=function(e){if("object"!=Zd(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zd(t)?t:t+""}function th(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(th=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(e)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rh(e,t)}var oh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=nh(t),function(e,t){if(t&&("object"==Zd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,th()?Reflect.construct(t,n||[],nh(e).constructor):t.apply(e,n))}(this,t,[e])).drawCurrentTriangleOnCanvas=function(e,t,n,r){var o=n.point1,i=n.point2,a=n.point3,s=n.tempPoint2,l=n.tempPoint3;if(_t(o)){var c=t.xScale,u=t.chartConfig.yScale,f=c(o[0]),p=u(o[1]);if(jt(i)&&jt(s))return e.fillStyle=r.strokeStyle,e.globalAlpha=.7,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),void e.fill();var d=_t(i)?i:s;if(_t(d)&&jt(a)&&jt(l)){var h=c(d[0]),y=u(d[1]);return e.strokeStyle=r.strokeStyle,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(h,y),e.stroke(),e.setLineDash([]),e.fillStyle=r.strokeStyle,e.beginPath(),e.arc(f,p,4,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(h,y,4,0,2*Math.PI),void e.fill()}var m=_t(a)?a:l;if(_t(d)&&_t(m)){var g=c(d[0]),v=u(d[1]),b=c(m[0]),x=u(m[1]);e.fillStyle=r.fillStyle,e.globalAlpha=.5*r.fillOpacity,e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.fill(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.strokeWidth,e.setLineDash([5,5]),e.globalAlpha=.7,e.beginPath(),e.moveTo(f,p),e.lineTo(g,v),e.lineTo(b,x),e.closePath(),e.stroke(),e.setLineDash([]),e.fillStyle=r.strokeStyle,e.globalAlpha=.7,[f,g,b].forEach(function(t,n){var r=[p,v,x][n];e.beginPath(),e.arc(t,r,4,0,2*Math.PI),e.fill()})}}},n.handleEnd=function(e,t,r){var o=n.state.current,i=n.props,a=i.triangles,s=i.appearance;if(console.log(" Triangle handleEnd called",{current:o,xyValue:t,mouseMoved:n.mouseMoved}),_t(o))if(jt(o.point2)){var l=o.point1[0],c=o.point1[1],u=t[0],f=t[1],p=Math.abs(l-u)>1||Math.abs(c-f)>1;console.log("   Point2 check:",{startX:l,startY:c,endX:u,endY:f,differentPosition:p,mouseMoved:n.mouseMoved}),n.mouseMoved||p?(console.log("   Setting point2"),n.setState({current:Object.assign(Object.assign({},o),{point2:t})})):console.log("   Not setting point2 - no movement detected")}else if(jt(o.point3)){var d=o.point2[0],h=o.point2[1],y=t[0],m=t[1],g=Math.abs(d-y)>1||Math.abs(h-m)>1;if(console.log("   Point3 check:",{startX:d,startY:h,endX:y,endY:m,differentPosition:g,mouseMoved:n.mouseMoved}),n.mouseMoved||g){console.log("   Completing triangle with point3");var v=[].concat(function(e){return function(e){if(Array.isArray(e))return Kd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.map(function(e){return Object.assign(Object.assign({},e),{selected:!1})})),[{point1:o.point1,point2:o.point2,point3:t,selected:!0,appearance:s}]);n.setState({current:null},function(){var t=n.props.onComplete;void 0!==t&&t(e,v,r)})}else console.log("   Not completing triangle - no movement detected")}},n.handleStart=function(e,t,r){var o=n.state.current;console.log(" Triangle handleStart called",{current:o,xyValue:t,moreProps:r?"exists":"missing"}),console.log("   Raw xyValue coordinates:",t),console.log("   MoreProps keys:",r?Object.keys(r):"N/A"),(jt(o)||jt(o.point1))&&(console.log("   Setting point1"),n.mouseMoved=!1,n.setState({current:{point1:t,point2:null,point3:null}},function(){var e=n.props.onStart;void 0!==e&&e(r)}))},n.handleDrawTriangle=function(e,t){var r=n.state.current;_t(r)&&(n.mouseMoved=!0,_t(r.point1)&&jt(r.point2)?n.setState({current:Object.assign(Object.assign({},r),{tempPoint2:t})}):_t(r.point2)&&jt(r.point3)&&n.setState({current:Object.assign(Object.assign({},r),{tempPoint3:t})}))},n.handleDragTriangleComplete=function(e,t){var r=n.state.override;if(_t(r)){var o=n.props.triangles.map(function(e,t){return t===r.index?Object.assign(Object.assign({},e),{point1:r.point1,point2:r.point2,point3:r.point3,selected:!0}):Object.assign(Object.assign({},e),{selected:!1})});n.setState({override:null},function(){var r=n.props.onComplete;void 0!==r&&r(e,o,t)})}},n.handleDragTriangle=function(e,t,r){n.setState({override:Object.assign({index:t},r)})},n.terminate=dp.bind(n),n.saveNodeType=hp.bind(n),n.getSelectionState=yp("triangles").bind(n),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,n=this.props,r=n.appearance,o=n.currentPositionOpacity,i=n.currentPositionRadius,a=void 0===i?t.defaultProps.currentPositionRadius:i,s=n.currentPositionStroke,l=n.currentPositionStrokeWidth,c=n.enabled,u=n.hoverText,f=n.triangles,p=this.state,d=p.current;return p.override,(0,bi.jsxs)("g",{children:[f.map(function(n,o){var i=_t(n.appearance)?Object.assign(Object.assign({},r),n.appearance):r,a=Object.assign(Object.assign({},t.defaultProps.hoverText),u);return(0,bi.jsx)(Qd,{ref:e.saveNodeType(o),index:o,selected:n.selected,point1:n.point1,point2:n.point2,point3:n.point3,strokeStyle:i.strokeStyle,strokeWidth:i.strokeWidth,fillStyle:i.fillStyle,fillOpacity:i.fillOpacity,edgeStroke:i.edgeStroke,edgeFill:i.edgeFill,edgeStrokeWidth:i.edgeStrokeWidth,r:i.r,hoverText:a,onSelect:e.props.onSelect,onDrag:e.handleDragTriangle,onDragComplete:e.handleDragTriangleComplete},o)}),_t(d)&&(0,bi.jsx)(cl,{canvasToDraw:qs,canvasDraw:function(t,n){return e.drawCurrentTriangleOnCanvas(t,n,d,r)},drawOn:["mousemove","pan","drag"]}),c&&(0,bi.jsx)(Ip,{enabled:c,snap:!1,r:a,stroke:s,opacity:o,strokeWidth:l,onMouseDown:this.handleStart,onClick:this.handleEnd,onMouseMove:this.handleDrawTriangle})]})}}])&&Jd(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);oh.defaultProps={onStart:Nt,onSelect:Nt,currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,hoverText:Object.assign(Object.assign({},Hp.defaultProps),{enable:!0,bgHeight:"auto",bgWidth:"auto",text:"Click to select pattern",selectedText:""}),triangles:[],appearance:{strokeStyle:"#1f77b4",strokeWidth:2,fillStyle:"#1f77b4",fillOpacity:.1,edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}};var ih=function(e,t){var n=t.coordinate,r=t.fitToText,o=t.fontSize,i=t.fontFamily,a=t.rectWidth;e.font="".concat(o,"px ").concat(i),e.textBaseline="middle";var s=a;r&&(s=Math.round(e.measureText(n).width+10));var l=function(e){var t,n,r=e.coordinate,o=e.show,i=e.type,a=e.orient,s=e.edgeAt,l=e.hideLine,c=e.lineStrokeDasharray,u=e.fill,f=e.fontFamily,p=e.fontSize,d=e.textFill,h=e.lineStroke,y=e.stroke,m=e.strokeWidth,g=e.arrowWidth,v=e.rectWidth,b=e.rectHeight,x=e.rectRadius,w=e.x1,S=e.y1,k=e.x2,E=e.y2,C=e.dx;if(!o)return null;if(void 0!==r){var P,O,_,j;if("horizontal"===i)P=C+("right"===a?s+1:s-v-1),O=S-b/2-m,_=C+("right"===a?s+v/2:s-v/2),j=S;else{var T="bottom"===a?m-1:1-m;P=w-v/2,O=("bottom"===a?s:s-b)+T,_=w,j=("bottom"===a?s+b/2:s-b/2)+T}t={edgeXRect:P,edgeYRect:O,rectHeight:b+m,rectWidth:v,rectRadius:x,fill:u,arrowWidth:g,stroke:y,strokeWidth:m},n={edgeXText:_,edgeYText:j,textAnchor:"middle",fontFamily:f,fontSize:p,textFill:d,displayCoordinate:r}}return{coordinateBase:t,coordinate:n,line:l?void 0:{stroke:h,strokeDasharray:c,x1:w,y1:S,x2:k,y2:E},orient:a}}(Object.assign(Object.assign({},t),{rectWidth:s}));if(null!==l){if(void 0!==l.line&&_t(l.line)){var c=Xs(l.line.strokeDasharray);e.setLineDash(c),e.strokeStyle=l.line.stroke,e.lineWidth=1,e.beginPath(),e.moveTo(l.line.x1,l.line.y1),e.lineTo(l.line.x2,l.line.y2),e.stroke()}if(e.setLineDash([]),void 0!==l.coordinateBase){var u=l.coordinateBase,f=u.arrowWidth,p=u.rectWidth,d=u.rectHeight,h=u.rectRadius;e.fillStyle=l.coordinateBase.fill,void 0!==l.coordinateBase.stroke&&(e.strokeStyle=l.coordinateBase.stroke,e.lineWidth=l.coordinateBase.strokeWidth);var y=l.coordinateBase.edgeXRect,m=l.coordinateBase.edgeYRect,g=d/2;e.beginPath(),f>0&&"right"===l.orient?(y-=f,e.moveTo(y,m+g),e.lineTo(y+f,m),e.lineTo(y+p+f,m),e.lineTo(y+p+f,m+d),e.lineTo(y+f,m+d),e.closePath()):f>0&&"left"===l.orient?(e.moveTo(y,m),e.lineTo(y+p,m),e.lineTo(y+p+f,m+g),e.lineTo(y+p,m+d),e.lineTo(y,m+d),e.closePath()):h?ah(e,y-.5,m-.5,p,d,3):e.rect(y-.5,m,p,d),e.fill(),void 0!==l.coordinateBase.stroke&&e.stroke(),void 0!==l.coordinate&&(e.fillStyle=l.coordinate.textFill,e.textAlign="middle"===l.coordinate.textAnchor?"center":l.coordinate.textAnchor,e.fillText(l.coordinate.displayCoordinate,l.coordinate.edgeXText,l.coordinate.edgeYText))}}},ah=function(e,t,n,r,o,i){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath()};function sh(e){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(e)}function lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ch(r.key),r)}}function ch(e){var t=function(e){if("object"!=sh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sh(t)?t:t+""}function uh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uh=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(e)}function ph(e,t){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ph(e,t)}var dh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=fh(t),function(e,t){if(t&&("object"==sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uh()?Reflect.construct(t,n||[],fh(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);void 0!==r&&ih(t,r)},e.helper=function(e,t){var n=t.chartConfig.yScale,r=t.chartId,o=t.currentItem,i=t.currentCharts,a=t.mouseXY;if(t.show&&!(jt(a)||i.indexOf(r)<0)){var s=e.displayFormat,l=e.yAccessor;if(!l||o){var c=l?n(l(o)):a[1];return function(e,t,n,r){var o=r.width,i=n.orient,a=n.at,s=n.rectWidth,l=n.rectHeight,c=n.dx,u=n.stroke,f=n.strokeOpacity,p=n.strokeWidth,d=n.fill,h=n.opacity;return{coordinate:t,show:!0,fitToText:n.fitToText,type:"horizontal",orient:i,edgeAt:"right"===a?o:0,hideLine:!0,fill:d,opacity:h,fontFamily:n.fontFamily,fontSize:n.fontSize,textFill:n.textFill,stroke:u,strokeOpacity:f,strokeWidth:p,rectWidth:s,rectHeight:l,arrowWidth:n.arrowWidth,dx:c,x1:0,x2:o,y1:e,y2:e}}(c,s(n.invert(c)),e,t)}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ph(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["mousemove","pan","drag"]})}}])&&lh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mh(r.key),r)}}function mh(e){var t=function(e){if("object"!=hh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hh(t)?t:t+""}function gh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gh=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(e)}function bh(e,t){return bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bh(e,t)}dh.defaultProps={arrowWidth:0,at:"right",dx:0,fill:"#4C525E",fitToText:!1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"right",rectWidth:50,rectHeight:20,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var xh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=vh(t),function(e,t){if(t&&("object"==hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gh()?Reflect.construct(t,n||[],vh(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);if(void 0!==r){var o=Object.assign(Object.assign({},e.props),r);ih(t,o)}},e.helper=function(t,n){var r=t.itemType,o=t.yAccessor,i=n.plotData,a="first"===r?Pt(i,o):Ot(i,o);return void 0!==a?e.getEdge(n,a):void 0},e.getEdge=function(n,r){var o=e.props,i=o.fontFamily,a=o.fontSize,s=o.type,l=o.displayFormat,c=void 0===l?t.defaultProps.displayFormat:l,u=o.edgeAt,f=o.yAxisPad,p=void 0===f?t.defaultProps.yAxisPad:f,d=o.orient,h=o.lineStroke,y=o.yAccessor,m=o.fill,g=o.fullWidth,v=o.textFill,b=o.rectHeight,x=o.rectWidth,w=o.arrowWidth,S=o.stroke,k=n.xScale,E=n.chartConfig.yScale,C=n.xAccessor,P=n.width,O=y(r);if(void 0!==O){var _=C(r),j=g?0:Math.round(k(_)),T=Math.round(E(O)),A=P,D="left"===u?0-p:A+p;return{coordinate:c(O),show:!0,type:s,orient:d,edgeAt:D,fill:mt(m)(r),lineStroke:mt(h)(r),stroke:mt(S)(r),fontFamily:i,fontSize:a,textFill:mt(v)(r),rectHeight:b,rectWidth:x,arrowWidth:w,x1:j,y1:T,x2:A,y2:T}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{edgeClip:!0,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:Ys,drawOn:["pan"]})}}])&&yh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}function Sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ch(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oh(r.key),r)}}function Ph(e,t,n){return t&&Ch(e.prototype,t),n&&Ch(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oh(e){var t=function(e){if("object"!=wh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wh(t)?t:t+""}function _h(e,t,n){return t=Th(t),function(e,t){if(t&&("object"==wh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jh()?Reflect.construct(t,n||[],Th(e).constructor):t.apply(e,n))}function jh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jh=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(e)}function Ah(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dh(e,t)}function Dh(e,t){return Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dh(e,t)}xh.defaultProps={fitToText:!1,lineStroke:"#000000",lineOpacity:1,lineStrokeDasharray:"ShortDot",orient:"right",displayFormat:ti(".2f"),edgeAt:"right",yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,stroke:Nt,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",type:"horizontal"};var Mh=function(e){function t(){var e;return Eh(this,t),(e=_h(this,t,arguments)).onClick=function(t){var n=e.props,r=n.onClick,o=n.forChart,i=n.options;void 0!==r&&r(t,Object.assign({chartId:o},i))},e}return Ah(t,e),Ph(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.displayName,r=e.fontSize,o=e.fontFamily,i=e.fontWeight,a=e.textFill,s=e.labelFill,l=e.labelFontWeight,c=e.value,u="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return(0,bi.jsxs)("g",Object.assign({transform:u},{children:[(0,bi.jsx)("line",{x1:0,y1:2,x2:0,y2:28,stroke:t,strokeWidth:4}),(0,bi.jsxs)(Uf,Object.assign({x:5,y:11,fontFamily:o,fontSize:r,fontWeight:i},{children:[(0,bi.jsx)(Gf,Object.assign({fill:s,fontWeight:l},{children:n})),(0,bi.jsx)("tspan",Object.assign({x:5,dy:15,fill:a},{children:c}))]})),(0,bi.jsx)("rect",{x:0,y:0,width:55,height:30,onClick:this.onClick,fill:"none",stroke:"none"})]}))}}])}(t.Component),Nh=function(e){function t(){var e;return Eh(this,t),(e=_h(this,t,arguments)).renderSVG=function(n){var r,o=n.chartId,i=n.chartConfig,a=n.chartConfig,s=(void 0===a?{}:a).height,l=void 0===s?0:s,c=n.fullData,u=e.props,f=u.className,p=u.displayInit,d=void 0===p?t.defaultProps.displayInit:p,h=u.onClick,y=u.width,m=void 0===y?65:y,g=u.fontFamily,v=u.fontSize,b=u.fontWeight,x=u.textFill,w=u.labelFill,S=u.origin,k=u.displayFormat,E=u.displayValuesFor,C=void 0===E?t.defaultProps.displayValuesFor:E,P=u.options,O=null!==(r=C(e.props,n))&&void 0!==r?r:Ot(c),_=i,j=Sh(mt(S)(m,l),2),T=j[0],A=j[1],D=Sh(_.origin,2),M=D[0],N=D[1];return(0,bi.jsx)("g",Object.assign({transform:"translate(".concat(M+T,", ").concat(N+A,")"),className:f},{children:P.map(function(e,t){var n=O&&e.yAccessor(O),r="".concat(e.type," (").concat(e.windowSize,")"),i=n?k(n):d;return(0,bi.jsx)(Mh,{origin:[m*t,0],color:e.stroke,displayName:r,value:i,options:e,forChart:o,onClick:h,fontFamily:g,fontSize:v,fontWeight:b,textFill:x,labelFill:w},t)})}))},e}return Ah(t,e),Ph(t,[{key:"render",value:function(){return(0,bi.jsx)(cl,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])}(t.Component);function Ih(e){return Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(e)}function Rh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zh(r.key),r)}}function zh(e){var t=function(e){if("object"!=Ih(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ih(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ih(t)?t:t+""}function Vh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vh=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bh(e)}function Uh(e,t){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uh(e,t)}Nh.defaultProps={className:"react-financial-charts-tooltip react-financial-charts-moving-average-tooltip",displayFormat:ti(".2f"),displayInit:"n/a",displayValuesFor:function(e,t){return t.currentItem},origin:[0,10],width:65};var Wh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Bh(t),function(e,t){if(t&&("object"==Ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vh()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}(this,t,arguments)).handleZoomIn=function(){e.interval||e.zoom(-1)},e.handleZoomOut=function(){e.interval||e.zoom(1)},e.zoom=function(t){var n=e.context,r=n.xAxisZoom,o=n.xScale,i=n.plotData,a=n.xAccessor;if(r){var s=o;if(s.domain&&s.range&&s.invert){var l=s(a(Ot(i))),c=e.props.zoomMultiplier,u=t>0?1*c:1/c,f=Rh(s.domain(),2),p=f[0],d=f[1],h=Rh(s.range().map(function(e){return l+(e-l)*u}).map(s.invert),2),y=h[0],m=h[1],g=To(p,y),v=To(d,m),b=[.25,.3,.5,.6,.75,1].map(function(e){return[g(e),v(e)]});e.interval=window.setInterval(function(){var t=b.shift();t&&r(t),0===b.length&&(clearInterval(e.interval),delete e.interval)},10)}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.context.chartConfig,t=e.width,n=e.height,r=this.props,o=r.heightFromBase,i=r.r,a=r.fill,s=r.fillOpacity,l=r.onReset,c=r.stroke,u=r.strokeWidth,f=r.textFill,p=Math.round(t/2),d=n-o,h=p-16-2*i,y=p-8,m=p+16+2*i;return(0,bi.jsxs)("g",Object.assign({className:"react-financial-charts-zoom-buttons"},{children:[(0,bi.jsx)("circle",{className:"react-financial-charts-button",cx:h-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,bi.jsx)("g",Object.assign({transform:"translate (".concat(h-20,", ").concat(d-8+i/4,")")},{children:(0,bi.jsx)("path",{d:"M19,13H5V11H19V13Z",fill:f})})),(0,bi.jsx)("circle",{className:"react-financial-charts-button",cx:y-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,bi.jsx)("g",Object.assign({transform:"translate (".concat(y-20,", ").concat(d-8+i/4,")")},{children:(0,bi.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z",fill:f})})),(0,bi.jsx)("circle",{className:"react-financial-charts-button",cx:m-i/2,cy:d+i/2,fill:a,fillOpacity:s,stroke:c,strokeWidth:u,r:i}),(0,bi.jsx)("g",Object.assign({transform:"translate (".concat(m-i,", ").concat(d-4+i/4,")")},{children:(0,bi.jsx)("path",{d:"M2.35 2.35A7.958 7.958 0 018 0a8 8 0 110 16c-3.73 0-6.84-2.55-7.73-6h2.08c.82 2.33 3.04 4 5.65 4A6 6 0 108 2c-1.66 0-3.14.69-4.22 1.78L7 7H0V0l2.35 2.35z",fill:f})})),(0,bi.jsx)("circle",{className:"react-financial-charts-enable-interaction out",onClick:this.handleZoomOut,cx:h-i/2,cy:d+i/2,r:i,fill:"none"}),(0,bi.jsx)("circle",{className:"react-financial-charts-enable-interaction in",onClick:this.handleZoomIn,cx:y-i/2,cy:d+i/2,r:i,fill:"none"}),(0,bi.jsx)("circle",{className:"react-financial-charts-enable-interaction reset",onClick:l,cx:m-i/2,cy:d+i/2,r:i,fill:"none"})]}))}}])&&Fh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Hh(e){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(e)}function Yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xh(r.key),r)}}function Xh(e){var t=function(e){if("object"!=Hh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hh(t)?t:t+""}function $h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($h=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gh(e)}function Qh(e,t){return Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qh(e,t)}Wh.defaultProps={fill:"#ffffff",fillOpacity:.75,heightFromBase:32,r:16,stroke:"#e0e3eb",strokeWidth:1,textFill:"#000000",zoomMultiplier:1.5},Wh.contextType=Qs;var Zh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Gh(t),function(e,t){if(t&&("object"==Hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$h()?Reflect.construct(t,n||[],Gh(e).constructor):t.apply(e,n))}(this,t,arguments)).renderSVG=function(n){var r,o=e.props,i=o.accessor,a=o.changeFormat,s=void 0===a?t.defaultProps.changeFormat:a,l=o.className,c=o.displayTexts,u=void 0===c?t.defaultProps.displayTexts:c,f=o.displayValuesFor,p=void 0===f?t.defaultProps.displayValuesFor:f,d=o.fontFamily,h=o.fontSize,y=o.fontWeight,m=o.labelFill,g=o.labelFontWeight,v=o.ohlcFormat,b=void 0===v?t.defaultProps.ohlcFormat:v,x=o.onClick,w=o.percentFormat,S=void 0===w?t.defaultProps.percentFormat:w,k=o.textFill,E=n.chartConfig,C=E.width,P=E.height,O=n.fullData,_=null!==(r=p(e.props,n))&&void 0!==r?r:Ot(O),j=u.na,T=u.na,A=u.na,D=u.na,M=u.na;if(void 0!==_&&void 0!==i){var N=i(_);void 0!==N&&(j=b(N.open),T=b(N.high),A=b(N.low),D=b(N.close),M="".concat(s(N.close-N.open)," (").concat(S((N.close-N.open)/N.open),")"))}var I=e.props.origin,R=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(mt(I)(C,P),2),L=R[0],F=R[1],z=mt(k)(_);return(0,bi.jsx)("g",Object.assign({className:l,transform:"translate(".concat(L,", ").concat(F,")"),onClick:x},{children:(0,bi.jsxs)(Uf,Object.assign({x:0,y:0,fontFamily:d,fontSize:h,fontWeight:y},{children:[(0,bi.jsx)(Gf,Object.assign({fill:m,fontWeight:g},{children:u.o}),"label_O"),(0,bi.jsx)("tspan",Object.assign({fill:z},{children:j}),"value_O"),(0,bi.jsx)(Gf,Object.assign({fill:m,fontWeight:g},{children:u.h}),"label_H"),(0,bi.jsx)("tspan",Object.assign({fill:z},{children:T}),"value_H"),(0,bi.jsx)(Gf,Object.assign({fill:m,fontWeight:g},{children:u.l}),"label_L"),(0,bi.jsx)("tspan",Object.assign({fill:z},{children:A}),"value_L"),(0,bi.jsx)(Gf,Object.assign({fill:m,fontWeight:g},{children:u.c}),"label_C"),(0,bi.jsx)("tspan",Object.assign({fill:z},{children:D}),"value_C"),(0,bi.jsx)("tspan",Object.assign({fill:z},{children:" ".concat(M)}),"value_Change")]}))}))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qh(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}])&&qh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Kh(e){return Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(e)}function Jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ey(r.key),r)}}function ey(e){var t=function(e){if("object"!=Kh(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kh(t)?t:t+""}function ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ty=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ny(e)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ry(e,t)}Zh.defaultProps={accessor:function(e){return e},changeFormat:ti("+.2f"),className:"react-financial-charts-tooltip-hover",displayTexts:{o:"O: ",h:" H: ",l:" L: ",c:" C: ",na:"n/a"},displayValuesFor:function(e,t){return t.currentItem},fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",ohlcFormat:ti(".2f"),origin:[0,0],percentFormat:ti("+.2%")};var oy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=ny(t),function(e,t){if(t&&("object"==Kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ty()?Reflect.construct(t,n||[],ny(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.helper(e.props,n);null!==r&&ih(t,r)},e.helper=function(e,t){var n=t.show,r=t.currentItem,o=t.chartConfig.height;if(jt(r))return null;var i=e.customX,a=e.orient,s=e.at,l=e.rectRadius,c=e.rectWidth,u=e.rectHeight,f=e.stroke,p=e.strokeOpacity,d=e.strokeWidth,h=e.fill,y=e.opacity,m=e.fitToText,g=e.fontFamily,v=e.fontSize,b=e.textFill,x="bottom"===s?o:0,w=i(e,t),S=w.x;return{coordinate:w.coordinate,fitToText:m,show:n,type:"vertical",orient:a,edgeAt:x,hideLine:!0,fill:h,opacity:y,fontFamily:g,fontSize:v,textFill:b,stroke:f,strokeOpacity:p,strokeWidth:d,rectWidth:c,rectHeight:u,rectRadius:l,arrowWidth:0,x1:S,x2:S,y1:0,y2:o}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["mousemove","pan","drag"]})}}])&&Jh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sy(r.key),r)}}function sy(e){var t=function(e){if("object"!=iy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==iy(t)?t:t+""}function ly(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ly=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cy(e)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uy(e,t)}oy.defaultProps={at:"bottom",customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,i=t.mouseXY,a=e.snapX,s=a?n(r(o)):i[0],l=t.displayXAccessor;return{x:s,coordinate:(0,e.displayFormat)(a?l(o):n.invert(s))}},fill:"#4C525E",fitToText:!0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"bottom",rectWidth:80,rectHeight:20,snapX:!0,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0};var fy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=cy(t),function(e,t){if(t&&("object"==iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ly()?Reflect.construct(t,n||[],cy(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getBars(n);_f(e.props,t,r)},e.getBars=function(t){var n=t.xScale,r=t.xAccessor,o=t.chartConfig.yScale,i=t.plotData,a=e.props,s=a.baseAt,l=a.fillStyle,c=a.stroke,u=a.yAccessor,f=mt(l),p=mt(s),d=mt(e.props.width)(e.props,t),h=Math.floor(.5*d),y=i.map(function(e){for(var t,i=u.map(function(t,i){var a=t(e);if(void 0!==a){var s=r(e),l=Math.round(n(s))-h,u=o(a);return{height:0,width:2*h,x:l,y:u,stroke:c?f(e,i):"none",fillStyle:f(e,i),i}}}).filter(function(e){return void 0!==e}),a=p(n,o,e),s=i.length-1;s>=0;s--)(t=a-i[s].y)<0&&(i[s].y=a,t*=-1),i[s].height=t,a=i[s].y;return i});return pf(y)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.clip;return(0,bi.jsx)(cl,{canvasToDraw:Ys,canvasDraw:this.drawOnCanvas,clip:e,drawOn:["pan"]})}}])&&ay(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function py(e){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(e)}function dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hy(r.key),r)}}function hy(e){var t=function(e){if("object"!=py(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==py(t)?t:t+""}function yy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yy=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},my(e)}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gy(e,t)}fy.defaultProps={baseAt:function(e,t){return Pt(t.range())},clip:!0,direction:"up",stroke:!1,fillStyle:"#4682B4",widthRatio:.5,width:tc};var vy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=my(t),function(e,t){if(t&&("object"==py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yy()?Reflect.construct(t,n||[],my(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.props,o=r.type,i=r.strokeStyle,a=r.lineWidth,s=r.lineDash,l=r.yValue,c=r.xValue,u=n.xScale,f=n.chartConfig,p=f.yScale,d=f.width,h=f.height;t.beginPath(),void 0!==i&&(t.strokeStyle=i),void 0!==a&&(t.lineWidth=a),void 0!==s&&("string"==typeof s?t.setLineDash(Xs(s)):t.setLineDash(s));var y=e.getLineCoordinates(o,u,p,c,l,d,h),m=y.x1,g=y.y1,v=y.x2,b=y.y2;t.moveTo(m,g),t.lineTo(v,b),t.stroke()},e.getLineCoordinates=function(e,t,n,r,o,i,a){return"horizontal"===e?{x1:0,y1:Math.round(n(o)),x2:i,y2:Math.round(n(o))}:{x1:Math.round(t(r)),y1:0,x2:Math.round(t(r)),y2:a}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(cl,{canvasDraw:this.drawOnCanvas,canvasToDraw:Ys,drawOn:["pan"]})}}])&&dy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wy(r.key),r)}}function wy(e){var t=function(e){if("object"!=by(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=by(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==by(t)?t:t+""}function Sy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sy=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ky(e)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ey(e,t)}vy.defaultProps={lineWidth:1,lineDash:"Solid",strokeStyle:"rgba(0, 0, 0, 0.5)",type:"horizontal"};var Cy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=ky(t),function(e,t){if(t&&("object"==by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sy()?Reflect.construct(t,n||[],ky(e).constructor):t.apply(e,n))}(this,t,arguments)).yAccessorBullTop=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower>0?n(t).bullPower:void 0)},e.yAccessorBearTop=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bearPower>0?n(t).bearPower:void 0)},e.yAccessorBullBottom=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower<0?0:void 0)},e.yAccessorBearBottom=function(t){var n=e.props.yAccessor;return n(t)&&(n(t).bullPower<0||n(t).bullPower*n(t).bearPower<0?Math.min(0,n(t).bullPower):void 0)},e.yAccessorForBarBase=function(t,n,r){var o=e.props.yAccessor;return n(o(r)&&Math.min(o(r).bearPower,0))},e.fillForEachBar=function(t,n){var r=e.props.fillStyle;return n%2==0?r.bullPower:r.bearPower},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.clip,r=e.stroke,o=e.straightLineStrokeStyle,i=e.straightLineStrokeDasharray,a=e.widthRatio;return(0,bi.jsxs)("g",Object.assign({className:t},{children:[(0,bi.jsx)(fy,{baseAt:this.yAccessorForBarBase,stroke:r,fillStyle:this.fillForEachBar,widthRatio:a,clip:n,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),(0,bi.jsx)(vy,{yValue:0,strokeStyle:o,lineDash:i})]}))}}])&&xy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);function Py(e){return Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(e)}function Oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_y(r.key),r)}}function _y(e){var t=function(e){if("object"!=Py(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Py(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Py(t)?t:t+""}function jy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jy=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ty(e)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ay(e,t)}Cy.defaultProps={fillStyle:{bearPower:"rgba(239, 83, 80, 0.7)",bullPower:"rgba(38, 166, 153, 0.7)"},className:"react-financial-charts-elderray-series",clip:!0,stroke:!0,straightLineStrokeStyle:"rgba(0, 0, 0, 0.7)",straightLineStrokeDasharray:"Dash",widthRatio:.8};var Dy=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Ty(t),function(e,t){if(t&&("object"==Py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jy()?Reflect.construct(t,n||[],Ty(e).constructor):t.apply(e,n))}(this,t,arguments)).drawOnCanvas=function(t,n){var r=e.getLines(e.props,n);if(void 0!==r){var o=e.context,i=o.margin,a=o.ratio,s=.5*a+i.left,l=.5*a+i.top;t.save(),t.setTransform(1,0,0,1,0,0),t.scale(a,a),t.translate(s,l),r.forEach(function(e){var n=Xs(e.strokeDasharray);t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash(n),t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()}),t.restore()}},e.getLines=function(e,n){var r=n.mouseXY,o=n.currentItem,i=n.show,a=n.height,s=n.width,l=e.customX,c=void 0===l?t.defaultProps.customX:l,u=e.strokeStyle,f=void 0===u?t.defaultProps.strokeStyle:u,p=e.strokeDasharray,d=e.strokeWidth,h=void 0===d?t.defaultProps.strokeWidth:d;if(i&&void 0!==o){var y={x1:0,x2:s,y1:r[1]+.5,y2:r[1]+.5,strokeStyle:f,strokeDasharray:p,strokeWidth:h},m=c(e,n);return[y,{x1:m,x2:m,y1:0,y2:a,strokeStyle:f,strokeDasharray:p,strokeWidth:h}]}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return(0,bi.jsx)(Hs,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:qs,drawOn:["mousemove","pan","drag"]})}}])&&Oy(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(t.Component);let My;Dy.defaultProps={customX:function(e,t){var n=t.xScale,r=t.xAccessor,o=t.currentItem,i=t.mouseXY;return e.snapX?Math.round(n(r(o))):i[0]+.5},snapX:!0,strokeStyle:"rgba(55, 71, 79, 0.8)",strokeDasharray:"Dash",strokeWidth:1},Dy.contextType=Os,My="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;let Ny=null,Iy=null;const Ry=My.clearTimeout,Ly=My.setTimeout,Fy=My.cancelAnimationFrame||My.mozCancelAnimationFrame||My.webkitCancelAnimationFrame,zy=My.requestAnimationFrame||My.mozRequestAnimationFrame||My.webkitRequestAnimationFrame;null==Fy||null==zy?(Ny=Ry,Iy=function(e){return Ly(e,20)}):(Ny=function([e,t]){Fy(e),Ry(t)},Iy=function(e){const t=zy(function(){Ry(n),e()}),n=Ly(function(){Fy(t),e()},20);return[t,n]});class Vy extends t.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},o=parseFloat(r.paddingLeft||"0"),i=parseFloat(r.paddingRight||"0"),a=parseFloat(r.paddingTop||"0"),s=parseFloat(r.paddingBottom||"0"),l=this._parentNode.getBoundingClientRect(),c=l.height-a-s,u=l.width-o-i;if(!e&&this.state.height!==c||!t&&this.state.width!==u){this.setState({height:c,width:u});const e=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};"function"==typeof n&&n({height:c,width:u,get scaledHeight(){return e(),c},get scaledWidth(){return e(),u}})}}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const n=t.ownerDocument.defaultView.ResizeObserver;null!=n?(this._resizeObserver=new n(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=function(e){let t,n,r,o,i,a,s;const l="undefined"!=typeof document&&document.attachEvent;if(!l){a=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;a(this),this.__resizeRAF__&&Ny(this.__resizeRAF__),this.__resizeRAF__=Iy(function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})};let e=!1,l="";r="animationstart";const c="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<c.length;n++)if(void 0!==t.style[c[n]+"AnimationName"]){f=c[n],l="-"+f.toLowerCase()+"-",r=u[n],e=!0;break}}n="resizeanim",t="@"+l+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",o=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(i,c){if(l)i.attachEvent("onresize",c);else{if(!i.__resizeTriggers__){const l=i.ownerDocument,c=My.getComputedStyle(i);c&&"static"===c.position&&(i.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),i.appendChild(a)}}(l),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const u=l.createElement("div");u.className="expand-trigger",u.appendChild(l.createElement("div"));const f=l.createElement("div");f.className="contract-trigger",i.__resizeTriggers__.appendChild(u),i.__resizeTriggers__.appendChild(f),i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",s,!0),r&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(i)},i.__resizeTriggers__.addEventListener(r,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:o=!1,disableWidth:i=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:s,onResize:l,style:c={},tagName:u="div",...f}=this.props,{height:p,width:d}=this.state,h={overflow:"visible"},y={};let m=!1;return o||(0===p&&(m=!0),h.height=0,y.height=p,y.scaledHeight=p),i||(0===d&&(m=!0),h.width=0,y.width=d,y.scaledWidth=d),a&&(m=!1),(0,t.createElement)(u,{ref:this._setRef,style:{...h,...c},...f},!m&&e(y))}}function By(e){return By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(e)}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wy(r.key),r)}}function Wy(e){var t=function(e){if("object"!=By(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=By(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==By(t)?t:t+""}function Hy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Hy=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(e)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qy(e,t)}function Xy(e){return Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(e)}function $y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gy(r.key),r)}}function Gy(e){var t=function(e){if("object"!=Xy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xy(t)?t:t+""}function Qy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qy=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zy(e)}function Ky(e,t){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ky(e,t)}function Jy(e){return Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(e)}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(t){lm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cm(r.key),r)}}function im(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(im=function(){return!!e})()}function am(e){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},am(e)}function sm(e,t){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sm(e,t)}function lm(e,t,n){return(t=cm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cm(e){var t=function(e){if("object"!=Jy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jy(t)?t:t+""}var um,fm,pm=function(e){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return lm(e=function(e,t,n){return t=am(t),function(e,t){if(t&&("object"==Jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,im()?Reflect.construct(t,n||[],am(e).constructor):t.apply(e,n))}(this,n,[].concat(o)),"margin",{left:50,right:120,top:20,bottom:24}),lm(e,"pricesDisplayFormat",d(".2f")),lm(e,"preciseDisplayFormat",function(e){return e.toFixed(2)}),lm(e,"xScaleProvider",vi().inputDateAccessor(function(e){return e.date})),lm(e,"cachedCalculatedData",null),lm(e,"cachedIndicators",{}),lm(e,"lastDataLength",0),lm(e,"lastEnabledIndicators",""),lm(e,"lastDataTimestamp",0),lm(e,"barChartExtents",function(e){return e.volume}),lm(e,"candleChartExtents",function(e){return[e.high,e.low]}),lm(e,"yEdgeIndicator",function(e){return e.close}),lm(e,"volumeColor",function(e){return e.close>e.open?"rgba(8, 153, 129, 0.3)":"rgba(242, 54, 69, 0.3)"}),lm(e,"volumeSeries",function(e){return e.volume}),lm(e,"openCloseColor",function(e){return e.close>e.open?"#089981":"#f23645"}),lm(e,"getFibonacciColor",function(e){var t=["#787b86","#f23645","#ff9800","#ffeb3b","#4caf50","#00bcd4","#9c27b0","#2196f3","#3f51b5"];return t[e%t.length]||"#ff9800"}),lm(e,"getFibonacciColorByLevel",function(e){return e&&e.y1&&e.y2?(Math.abs(e.y2-e.y1),"#ff9800"):"#ff9800"}),lm(e,"formatReplayTimestamp",function(e,t){if(!t||e<=0||e>t.length)return"N/A";var n=t[e-1];return n&&n.date?new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:n.date.getHours?"2-digit":void 0,minute:n.date.getMinutes?"2-digit":void 0}).replace(/,/g,""):"N/A"}),lm(e,"getReplayLineX",function(e,t,n,r){if(!t||e<=0||e>t.length)return 0;var o=t[e-1];if(!o)return 0;try{return n(r(o))||0}catch(e){return console.warn("Error calculating replay line x-coordinate:",e),0}}),lm(e,"renderIndicatorLines",function(e,n,r){var o=[],i={ema10:"#ff6b6b",ema12:"#ff9800",ema26:"#2196f3",ema50:"#9c27b0",ema200:"#4caf50",sma10:"#e91e63",sma50:"#795548",sma200:"#607d8b"};return Object.entries(n).forEach(function(n){var a=nm(n,2),s=a[0];if(a[1]&&e[s]&&"bollingerBands"!==s){var l=i[s]||r.text;o.push(t.createElement(Al,{key:"line-".concat(s),yAccessor:e[s].accessor(),strokeStyle:l,strokeWidth:2})),o.push(t.createElement(Fl,{key:"coord-".concat(s),yAccessor:e[s].accessor(),fillStyle:l}))}}),n.bollingerBands&&e.bollingerBands&&o.push(t.createElement(Kl,{key:"bollinger-bands",yAccessor:e.bollingerBands.accessor(),strokeStyle:{top:"#8884d8",middle:"#82ca9d",bottom:"#8884d8"},fillStyle:"rgba(136, 132, 216, 0.1)"})),o}),lm(e,"renderChartSeries",function(e,n){var r=n.green,o=n.red;switch(e){case"candlestick":default:return t.createElement(dc,{fill:function(e){return e.close>e.open?r:o},stroke:function(e){return e.close>e.open?r:o},wickStroke:function(e){return e.close>e.open?r:o},candleStrokeWidth:1});case"ohlc":return t.createElement(xc,{stroke:function(e){return e.close>e.open?r:o},strokeWidth:1});case"line":return t.createElement(Al,{yAccessor:function(e){return e.close},strokeStyle:n.blue,strokeWidth:2});case"area":return t.createElement(Oc,{yAccessor:function(e){return e.close},strokeStyle:n.blue,fillStyle:"rgba(33, 150, 243, 0.1)",strokeWidth:2})}}),lm(e,"getTooltipOptions",function(e,t){var n=[],r={ema10:"#ff6b6b",ema12:"#ff9800",ema26:"#2196f3",ema50:"#9c27b0",ema200:"#4caf50",sma10:"#e91e63",sma50:"#795548",sma200:"#607d8b"};return Object.entries(t).forEach(function(t){var o=nm(t,2),i=o[0];if(o[1]&&e[i]&&"bollingerBands"!==i){var a=r[i],s=i.startsWith("ema")?"EMA":"SMA",l=e[i].options().windowSize;n.push({yAccessor:e[i].accessor(),type:s,stroke:a,windowSize:l})}}),n}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sm(e,t)}(n,e),r=n,o=[{key:"shouldRecalculateIndicators",value:function(e,t){var n=JSON.stringify(t),r=e.length,o=e.length>0?e[e.length-1].date.getTime():0,i=null===this.cachedCalculatedData||r!==this.lastDataLength||n!==this.lastEnabledIndicators||o!==this.lastDataTimestamp;return i&&(this.lastDataLength=r,this.lastEnabledIndicators=n,this.lastDataTimestamp=o),i}},{key:"calculateIndicators",value:function(e,t){var n=e,r={},o=1;if(t.ema10&&(r.ema10=Wc().id(o++).options({windowSize:10}).merge(function(e,t){e.ema10=t}).accessor(function(e){return e.ema10}),n=r.ema10(n)),t.ema12&&(r.ema12=Wc().id(o++).options({windowSize:12}).merge(function(e,t){e.ema12=t}).accessor(function(e){return e.ema12}),n=r.ema12(n)),t.ema26&&(r.ema26=Wc().id(o++).options({windowSize:26}).merge(function(e,t){e.ema26=t}).accessor(function(e){return e.ema26}),n=r.ema26(n)),t.ema50&&(r.ema50=Wc().id(o++).options({windowSize:50}).merge(function(e,t){e.ema50=t}).accessor(function(e){return e.ema50}),n=r.ema50(n)),t.ema200&&(r.ema200=Wc().id(o++).options({windowSize:200}).merge(function(e,t){e.ema200=t}).accessor(function(e){return e.ema200}),n=r.ema200(n)),t.sma10&&(r.sma10=Xc().id(o++).options({windowSize:10}).merge(function(e,t){e.sma10=t}).accessor(function(e){return e.sma10}),n=r.sma10(n)),t.sma50&&(r.sma50=Xc().id(o++).options({windowSize:50}).merge(function(e,t){e.sma50=t}).accessor(function(e){return e.sma50}),n=r.sma50(n)),t.sma200&&(r.sma200=Xc().id(o++).options({windowSize:200}).merge(function(e,t){e.sma200=t}).accessor(function(e){return e.sma200}),n=r.sma200(n)),t.bollingerBands&&(r.bollingerBands=function(){var e=Uc().type(Gc),t=$c(),n=Tc().algorithm(t).merge(function(e,t){e.bollingerBand=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat(Gc," before calculating"));return n(r)}return t(r)};return Dc(r,e,"id","accessor","stroke","fill","echo","type"),Dc(r,t,"options"),Dc(r,n,"merge","skipUndefined"),r}().merge(function(e,t){e.bb=t}).accessor(function(e){return e.bb}),n=r.bollingerBands(n)),t.elderRay){var i=function(){var e=Uc().type(Kc).accessor(function(e){return e.elderRay}),t=function(){var e=Ic,t=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},n=function(n){var r=e,o=r.windowSize,i=r.sourcePath,a="ema"===r.movingAverageType?Fc().options({windowSize:o,sourcePath:i}):qc().windowSize(o).accumulator(function(e){return Hc(e)}).sourcePath(i);return Zc(n,a(n)).map(function(e){var n=e[0],r=e[1];return{bullPower:void 0!==r?t(n).high-r:void 0,bearPower:void 0!==r?t(n).low-r:void 0}})};return n.undefinedLength=function(){return e.windowSize-1},n.ohlc=function(e){return void 0===e?t:(t=e,n)},n.options=function(t){return void 0===t?e:(e=Object.assign(Object.assign({},Ic),t),n)},n}(),n=Tc().algorithm(t).merge(function(e,t){e.elderRay=t}),r=function(r){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{merge:!0}).merge){if(!e.accessor())throw new Error("Set an accessor to ".concat(Kc," before calculating"));return n(r)}return t(r)};return Dc(r,e,"id","accessor","stroke","fill","echo","type"),Dc(r,t,"options"),Dc(r,n,"merge","skipUndefined"),r}();n=i(n),r.elder=i}return{calculatedData:n,indicators:r}}},{key:"render",value:function(){var e,n,r=this,o=this.props,i=o.data,a=o.dateTimeFormat,s=void 0===a?"%d %b":a,l=o.height,c=o.ratio,u=o.width,f=o.enableTrendLine,p=void 0!==f&&f,h=o.enableFibonacci,y=void 0!==h&&h,m=o.enablePatterns,g=void 0!==m&&m,v=o.trendLines,b=void 0===v?[]:v,x=o.fibonacciRetracements,w=void 0===x?[]:x,S=o.trianglePatterns,k=void 0===S?[]:S,E=o.selectedTrendLines,C=void 0===E?[]:E,P=o.selectedFibs,O=void 0===P?[]:P,_=o.selectedTriangles,j=void 0===_?[]:_,T=o.onTrendLineComplete,A=o.onFibonacciComplete,D=o.onTriangleComplete,M=o.onTrendLineSelect,N=o.onFibonacciSelect,I=o.onTriangleSelect,R=o.enabledIndicators,L=void 0===R?{ema10:!1,ema12:!0,ema26:!0,ema50:!1,ema200:!1,sma10:!1,sma50:!1,sma200:!1,bollingerBands:!1,elderRay:!0,volume:!0}:R,F=o.chartType,z=void 0===F?"candlestick":F,V=o.zoomMultiplier,B=void 0===V?1.05:V,U=o.elderRayHeight,W=void 0===U?100:U,H=o.volumeHeight,Y=void 0===H?150:H;if(this.shouldRecalculateIndicators(i,L)){var q=this.calculateIndicators(i,L);e=q.calculatedData,n=q.indicators,this.cachedCalculatedData=e,this.cachedIndicators=n}else e=this.cachedCalculatedData,n=this.cachedIndicators;var X=this.margin,$=(0,this.xScaleProvider)(e),Q=$.data,Z=$.xScale,K=$.xAccessor,J=$.displayXAccessor,ee=K(Q[Q.length-1]),te=[K(Q[Math.max(0,Q.length-200)]),ee+10],ne=l-X.top-X.bottom,re=L.elderRay?W:0,oe=L.volume?Y:0,ie=0;L.volume&&(ie+=10),L.elderRay&&(ie+=10);var ae=ne-re-oe-ie,se=function(e,t){return[0,t-re]},le=function(e,t){return[0,t-oe-re-(L.elderRay?10:0)]},ce=n.elder,ue=G(s),fe={background:"#131722",grid:"#2a2e39",text:"#d1d4dc",green:"#089981",red:"#f23645",blue:"#2962ff",orange:"#ff9800"};return t.createElement("div",{style:{background:fe.background,width:"100%",height:"100%",position:"relative"}},t.createElement(Rs,{height:l,ratio:c,width:u,margin:X,data:Q,displayXAccessor:J,seriesName:"Data",xScale:Z,xAccessor:K,xExtents:te,zoomAnchor:Li,zoomMultiplier:B,onClick:function(e,t){if(g)console.log(" Patterns mode active - clicked at:",t);else{if(M&&C.length>0){var n=tm(tm({},e),{},{target:tm(tm({},e.target),{},{tagName:"svg"})});M(n,[])}if(N&&O.length>0){var r=tm(tm({},e),{},{target:tm(tm({},e.target),{},{tagName:"svg"})});N(r,[])}}}},L.volume&&t.createElement(Zs,{id:2,height:oe,origin:le,yExtents:this.barChartExtents},t.createElement(ff,{axisAt:"right",orient:"right",ticks:5,tickFormat:function(e){return d(".2s")(e)},showDomain:!1,showTicks:!0,showTickLabel:!0,tickLabelFill:fe.text,tickStroke:fe.grid,stroke:fe.grid,fontSize:10,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",tickLabelProps:function(){return{fontSize:10,fontWeight:400,fill:fe.text,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",textAnchor:"start",dx:8}}}),t.createElement(If,{fillStyle:this.volumeColor,yAccessor:this.volumeSeries}),t.createElement(rp,{yAccessor:this.volumeSeries,yLabel:"Volume",yDisplayFormat:function(e){return d(".2s")(e)},origin:[8,16],textFill:fe.text,labelFill:fe.text,valueFill:fe.text})),t.createElement(Zs,{id:3,height:ae,yExtents:this.candleChartExtents},t.createElement(fp,{showGridLines:!0,showTicks:!1,showTickLabel:!L.elderRay,stroke:fe.grid,tickStroke:fe.text,tickLabelFill:fe.text,gridLinesStrokeStyle:fe.grid}),t.createElement(ff,{showGridLines:!0,tickFormat:this.preciseDisplayFormat,stroke:fe.grid,tickStroke:fe.text,gridLinesStrokeStyle:fe.grid}),t.createElement(ff,{axisAt:"right",orient:"right",ticks:8,tickFormat:this.preciseDisplayFormat,showDomain:!1,showTicks:!0,showTickLabel:!0,tickLabelFill:"#ffffff",tickStroke:fe.grid,strokeWidth:1,stroke:fe.grid,fontSize:12,fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",tickLabelProps:function(){return{fontSize:12,fontWeight:500,fill:"#ffffff",fontFamily:"'Roboto Mono', 'Monaco', 'Consolas', monospace",textAnchor:"start",dx:12}}}),this.renderChartSeries(z,fe),this.renderIndicatorLines(n,L,fe),t.createElement(gd,{enabled:p,type:"LINE",snap:!1,snapTo:function(e){return[e.high,e.low]},onStart:function(){},onComplete:function(e,t,n){T&&T(t)},onDragStart:function(e,t,n){M&&t.length>0&&M(e,t)},onDragComplete:function(e,t,n){console.log(" TrendLine onDragComplete:",t),console.log("  Current trendLines state:",b.length),t.length>0&&(T&&T(t),M&&M(e,t))},onSelect:M,trends:b.map(function(e,t){return tm(tm({},e),{},{selected:C.includes(t)})}),appearance:{strokeStyle:fe.blue,strokeWidth:2,strokeDasharray:"Solid",edgeStrokeWidth:2,edgeFill:fe.blue,edgeStroke:fe.blue},hoverText:{enable:!1},currentPositionStroke:fe.blue,currentPositionStrokeWidth:3,currentPositionRadius:4}),t.createElement(Bd,{enabled:y,type:"BOUND",onStart:function(){},onComplete:function(e,t,n){A&&A(t)},onDragStart:function(e,t,n){N&&t.length>0&&N(e,t)},onDragComplete:function(e,t,n){N&&t.length>0&&N(e,t)},onSelect:N,retracements:w.map(function(e,t){return tm(tm({},e),{},{selected:O.includes(t)})}),appearance:{strokeStyle:"#ff9800",strokeWidth:1,fontFamily:"-apple-system, BlinkMacSystemFont, 'Trebuchet MS', sans-serif",fontSize:11,fontFill:fe.text,edgeStroke:"#ff9800",edgeFill:"#ff9800",nsEdgeFill:fe.background,edgeStrokeWidth:1,r:3},hoverText:{enable:!1},currentPositionStroke:"#ff9800",currentPositionStrokeWidth:2,currentPositionRadius:4}),t.createElement(oh,{enabled:g,onStart:function(){},onComplete:function(e,t,n){D&&D(t)},onSelect:I,triangles:k.map(function(e,t){return tm(tm({},e),{},{selected:j.includes(t)})}),appearance:{strokeStyle:"#9c27b0",strokeWidth:2,fillStyle:"#9c27b0",fillOpacity:.05,edgeStrokeWidth:1,edgeFill:"#9c27b0",edgeStroke:"#9c27b0",r:4},hoverText:{enable:!1},currentPositionStroke:"#9c27b0",currentPositionStrokeWidth:2,currentPositionRadius:4}),t.createElement(dh,{rectWidth:80,displayFormat:this.preciseDisplayFormat,fill:fe.background,stroke:fe.grid,textFill:fe.text}),t.createElement(xh,{itemType:"last",rectWidth:80,fill:this.openCloseColor,lineStroke:this.openCloseColor,displayFormat:this.preciseDisplayFormat,yAccessor:this.yEdgeIndicator,textFill:"#ffffff"}),t.createElement(Nh,{origin:[8,24],textFill:fe.text,options:this.getTooltipOptions(n,L)}),t.createElement(Wh,{fill:fe.background,stroke:fe.grid,textFill:fe.text,onReset:this.props.onRefresh}),t.createElement(Zh,{origin:[8,16],textFill:fe.text}),this.props.isReplayMode&&this.props.replayPosition&&this.props.fullData&&this.props.fullData.length>0&&t.createElement("g",{className:"replay-timestamp-indicator"},t.createElement("rect",{x:8,y:l-re-50,width:200,height:24,fill:"rgba(41, 98, 255, 0.9)",rx:4,ry:4}),t.createElement("text",{x:18,y:l-re-32,fill:"#ffffff",fontSize:"12",fontFamily:"'Roboto Mono', Monaco, Consolas, monospace",fontWeight:"600"}," Replay: ",this.formatReplayTimestamp(this.props.replayPosition,this.props.fullData))),this.props.isReplayMode&&this.props.replayPosition&&Q.length>0&&t.createElement("g",{className:"replay-progress-line"},t.createElement("line",{x1:this.getReplayLineX(this.props.replayPosition,Q,Z,J),y1:0,x2:this.getReplayLineX(this.props.replayPosition,Q,Z,J),y2:ae,stroke:"rgba(41, 98, 255, 0.8)",strokeWidth:"2",strokeDasharray:"5,5"}),t.createElement("circle",{cx:this.getReplayLineX(this.props.replayPosition,Q,Z,J),cy:10,r:"4",fill:"rgba(41, 98, 255, 1)",stroke:"#ffffff",strokeWidth:"1"}))),L.elderRay&&ce&&t.createElement(Zs,{id:4,height:re,yExtents:[0,ce.accessor()],origin:se,padding:{top:8,bottom:8}},t.createElement(fp,{showGridLines:!0,gridLinesStrokeStyle:fe.grid,stroke:fe.grid,tickStroke:fe.text,tickLabelFill:fe.text}),t.createElement(ff,{ticks:4,tickFormat:this.preciseDisplayFormat,stroke:fe.grid,tickStroke:fe.text,tickLabelFill:fe.text}),t.createElement(oy,{displayFormat:ue,fill:fe.background,stroke:fe.grid,textFill:fe.text}),t.createElement(dh,{rectWidth:80,displayFormat:this.preciseDisplayFormat,fill:fe.background,stroke:fe.grid,textFill:fe.text}),t.createElement(Cy,{yAccessor:ce.accessor(),fillStyle:{bearPower:fe.red,bullPower:fe.green},strokeStyle:{bearPower:fe.red,bullPower:fe.green}}),t.createElement(rp,{yAccessor:ce.accessor(),yLabel:"Elder Ray",yDisplayFormat:function(e){return"".concat(r.pricesDisplayFormat(e.bullPower),", ").concat(r.pricesDisplayFormat(e.bearPower))},origin:[8,16],textFill:fe.text,labelFill:fe.text,valueFill:fe.text,backgroundFill:"rgba(0, 0, 0, 0)",backgroundStroke:"transparent"})),t.createElement(Dy,{stroke:fe.grid})),L.volume&&t.createElement("div",{className:"volume-resize-handle",style:{position:"absolute",top:"".concat(X.top+le(0,l-X.top-X.bottom)[1]-2,"px"),left:"".concat(X.left,"px"),width:"".concat(u-X.left-X.right,"px"),height:"4px",backgroundColor:"transparent",border:"none",zIndex:1001,cursor:"ns-resize",transition:"all 0.2s ease"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="rgba(74, 144, 226, 0.3)",e.currentTarget.style.height="6px"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.height="4px"},onMouseDown:function(e){console.log("Volume resize started"),e.preventDefault();var t=e.clientY,n=Y,o=function(e){var o=e.clientY-t,i=Math.max(50,Math.min(300,n-o));r.props.onVolumeHeightChange&&r.props.onVolumeHeightChange(i)},i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),console.log("Volume resize ended")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}}),L.elderRay&&L.volume&&t.createElement("div",{className:"elderray-resize-handle",style:{position:"absolute",top:"".concat(X.top+se(0,l-X.top-X.bottom)[1]-2,"px"),left:"".concat(X.left,"px"),width:"".concat(u-X.left-X.right,"px"),height:"4px",cursor:"ns-resize",zIndex:1001,backgroundColor:"transparent",border:"none",transition:"all 0.2s ease"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="rgba(144, 226, 74, 0.3)",e.currentTarget.style.height="6px"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.height="4px"},onMouseDown:function(e){console.log("Elder Ray resize started"),e.preventDefault();var t=e.clientY,n=W,o=function(e){var o=e.clientY-t,i=Math.max(50,Math.min(200,n-o));r.props.onElderRayHeightChange&&r.props.onElderRayHeightChange(i)},i=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),console.log(" Elder Ray resize ended")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}}))}}],o&&om(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component),dm=(um={style:{minHeight:600}},function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){return t=Yy(t),function(e,t){if(t&&("object"==By(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hy()?Reflect.construct(t,n||[],Yy(e).constructor):t.apply(e,n))}(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=this;return(0,bi.jsx)(Vy,Object.assign({},um,{children:function(n){var r=n.height,o=n.width;return(0,bi.jsx)(e,Object.assign({},t.props,{height:r,width:o}))}}))}}])&&Uy(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component)})(t.memo(pm)),hm=(fm=dm,function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t,n){return t=Zy(t),function(e,t){if(t&&("object"==Xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qy()?Reflect.construct(t,n||[],Zy(e).constructor):t.apply(e,n))}(this,n,arguments)).ref=t.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ky(e,t)}(n,e),r=n,(o=[{key:"componentDidMount",value:function(){var e,t,n,r,o,i=this.ref.current;if(null!==i){var a=i.getContext("2d"),s=window.devicePixelRatio,l=null!==(o=null!==(r=null!==(n=null!==(t=null!==(e=a.webkitBackingStorePixelRatio)&&void 0!==e?e:a.mozBackingStorePixelRatio)&&void 0!==t?t:a.msBackingStorePixelRatio)&&void 0!==n?n:a.oBackingStorePixelRatio)&&void 0!==r?r:a.backingStorePixelRatio)&&void 0!==o?o:1;this.setState({ratio:s/l})}else this.setState({ratio:1})}},{key:"render",value:function(){var e=this.state;return null!==e?(0,bi.jsx)(fm,Object.assign({},this.props,{ratio:e.ratio})):(0,bi.jsx)("canvas",{ref:this.ref})}}])&&$y(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(t.Component));const ym=t.memo(hm);var mm=n(72),gm=n.n(mm),vm=n(825),bm=n.n(vm),xm=n(659),wm=n.n(xm),Sm=n(56),km=n.n(Sm),Em=n(159),Cm=n.n(Em),Pm=n(113),Om=n.n(Pm),_m=n(384),jm={};jm.styleTagTransform=Om(),jm.setAttributes=km(),jm.insert=wm().bind(null,"head"),jm.domAPI=bm(),jm.insertStyleElement=Cm(),gm()(_m.A,jm),_m.A&&_m.A.locals&&_m.A.locals;var Tm=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("path",{d:"M2 2l4.5 10.5L8 9l3.5 1.5L2 2z",stroke:"currentColor",strokeWidth:"1.2",fill:"currentColor",fillOpacity:"0.8"}))},Am=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"3",y1:"12",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"3",cy:"12",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"4",r:"1.5",fill:"currentColor"}))},Dm=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("line",{x1:"2",y1:"3",x2:"14",y2:"3",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("line",{x1:"2",y1:"5.5",x2:"14",y2:"5.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.8"}),t.createElement("line",{x1:"2",y1:"7.5",x2:"14",y2:"7.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.7"}),t.createElement("line",{x1:"2",y1:"9.5",x2:"14",y2:"9.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.6"}),t.createElement("line",{x1:"2",y1:"11.5",x2:"14",y2:"11.5",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"}),t.createElement("line",{x1:"2",y1:"13",x2:"14",y2:"13",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("circle",{cx:"2",cy:"3",r:"1",fill:"currentColor"}),t.createElement("circle",{cx:"14",cy:"13",r:"1",fill:"currentColor"}))},Mm=function(){return t.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t.createElement("path",{d:"M3 12L8 4L13 12L3 12z",stroke:"currentColor",strokeWidth:"1.3",fill:"none"}),t.createElement("circle",{cx:"3",cy:"12",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"8",cy:"4",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"12",r:"1.5",fill:"currentColor"}))};const Nm=function(e){var n=e.currentTool,r=e.onToolSelect,o=[{id:"cursor",icon:t.createElement(Tm,null),title:"Selection Tool - Select and move objects"},{id:"trendline",icon:t.createElement(Am,null),title:"Trend Line - Draw trend lines between two points"},{id:"fibonacci",icon:t.createElement(Dm,null),title:"Fibonacci Retracement - Draw Fibonacci retracement levels"},{id:"patterns",icon:t.createElement(Mm,null),title:"Triangle Pattern - Draw triangle chart patterns"}];return t.createElement("div",{className:"drawing-toolbar"},o.map(function(e){return t.createElement("button",{key:e.id,className:"tool-button ".concat("cursor"===e.id&&null===n||n===e.id?"active":""),onClick:function(){return r("cursor"===e.id?null:e.id)},title:e.title},t.createElement("span",{className:"tool-icon"},e.icon))}))};var Im=n(383),Rm={};function Lm(e,t){return function(){return e.apply(t,arguments)}}Rm.styleTagTransform=Om(),Rm.setAttributes=km(),Rm.insert=wm().bind(null,"head"),Rm.domAPI=bm(),Rm.insertStyleElement=Cm(),gm()(Im.A,Rm),Im.A&&Im.A.locals&&Im.A.locals;const{toString:Fm}=Object.prototype,{getPrototypeOf:zm}=Object,{iterator:Vm,toStringTag:Bm}=Symbol,Um=(Wm=Object.create(null),e=>{const t=Fm.call(e);return Wm[t]||(Wm[t]=t.slice(8,-1).toLowerCase())});var Wm;const Hm=e=>(e=e.toLowerCase(),t=>Um(t)===e),Ym=e=>t=>typeof t===e,{isArray:qm}=Array,Xm=Ym("undefined");function $m(e){return null!==e&&!Xm(e)&&null!==e.constructor&&!Xm(e.constructor)&&Zm(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gm=Hm("ArrayBuffer"),Qm=Ym("string"),Zm=Ym("function"),Km=Ym("number"),Jm=e=>null!==e&&"object"==typeof e,eg=e=>{if("object"!==Um(e))return!1;const t=zm(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Bm in e||Vm in e)},tg=Hm("Date"),ng=Hm("File"),rg=Hm("Blob"),og=Hm("FileList"),ig=Hm("URLSearchParams"),[ag,sg,lg,cg]=["ReadableStream","Request","Response","Headers"].map(Hm);function ug(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),qm(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if($m(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function fg(e,t){if($m(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const pg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,dg=e=>!Xm(e)&&e!==pg,hg=(yg="undefined"!=typeof Uint8Array&&zm(Uint8Array),e=>yg&&e instanceof yg);var yg;const mg=Hm("HTMLFormElement"),gg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),vg=Hm("RegExp"),bg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ug(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},xg=Hm("AsyncFunction"),wg=(Sg="function"==typeof setImmediate,kg=Zm(pg.postMessage),Sg?setImmediate:kg?(Eg=`axios@${Math.random()}`,Cg=[],pg.addEventListener("message",({source:e,data:t})=>{e===pg&&t===Eg&&Cg.length&&Cg.shift()()},!1),e=>{Cg.push(e),pg.postMessage(Eg,"*")}):e=>setTimeout(e));var Sg,kg,Eg,Cg;const Pg="undefined"!=typeof queueMicrotask?queueMicrotask.bind(pg):"undefined"!=typeof process&&process.nextTick||wg,Og={isArray:qm,isArrayBuffer:Gm,isBuffer:$m,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Zm(e.append)&&("formdata"===(t=Um(e))||"object"===t&&Zm(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gm(e.buffer),t},isString:Qm,isNumber:Km,isBoolean:e=>!0===e||!1===e,isObject:Jm,isPlainObject:eg,isEmptyObject:e=>{if(!Jm(e)||$m(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:ag,isRequest:sg,isResponse:lg,isHeaders:cg,isUndefined:Xm,isDate:tg,isFile:ng,isBlob:rg,isRegExp:vg,isFunction:Zm,isStream:e=>Jm(e)&&Zm(e.pipe),isURLSearchParams:ig,isTypedArray:hg,isFileList:og,forEach:ug,merge:function e(){const{caseless:t}=dg(this)&&this||{},n={},r=(r,o)=>{const i=t&&fg(n,o)||o;eg(n[i])&&eg(r)?n[i]=e(n[i],r):eg(r)?n[i]=e({},r):qm(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ug(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(ug(t,(t,r)=>{n&&Zm(t)?e[r]=Lm(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&zm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Um,kindOfTest:Hm,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(qm(e))return e;let t=e.length;if(!Km(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Vm]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:mg,hasOwnProperty:gg,hasOwnProp:gg,reduceDescriptors:bg,freezeMethods:e=>{bg(e,(t,n)=>{if(Zm(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Zm(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return qm(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:fg,global:pg,isContextDefined:dg,isSpecCompliantForm:function(e){return!!(e&&Zm(e.append)&&"FormData"===e[Bm]&&e[Vm])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Jm(e)){if(t.indexOf(e)>=0)return;if($m(e))return e;if(!("toJSON"in e)){t[r]=e;const o=qm(e)?[]:{};return ug(e,(e,t)=>{const i=n(e,r+1);!Xm(i)&&(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:xg,isThenable:e=>e&&(Jm(e)||Zm(e))&&Zm(e.then)&&Zm(e.catch),setImmediate:wg,asap:Pg,isIterable:e=>null!=e&&Zm(e[Vm])};function _g(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Og.inherits(_g,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Og.toJSONObject(this.config),code:this.code,status:this.status}}});const jg=_g.prototype,Tg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tg[e]={value:e}}),Object.defineProperties(_g,Tg),Object.defineProperty(jg,"isAxiosError",{value:!0}),_g.from=(e,t,n,r,o,i)=>{const a=Object.create(jg);return Og.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),_g.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Ag=_g;function Dg(e){return Og.isPlainObject(e)||Og.isArray(e)}function Mg(e){return Og.endsWith(e,"[]")?e.slice(0,-2):e}function Ng(e,t,n){return e?e.concat(t).map(function(e,t){return e=Mg(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ig=Og.toFlatObject(Og,{},null,function(e){return/^is[A-Z]/.test(e)}),Rg=function(e,t,n){if(!Og.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Og.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Og.isUndefined(t[e])})).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Og.isSpecCompliantForm(t);if(!Og.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Og.isDate(e))return e.toISOString();if(Og.isBoolean(e))return e.toString();if(!s&&Og.isBlob(e))throw new Ag("Blob is not supported. Use a Buffer instead.");return Og.isArrayBuffer(e)||Og.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(Og.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Og.isArray(e)&&function(e){return Og.isArray(e)&&!e.some(Dg)}(e)||(Og.isFileList(e)||Og.endsWith(n,"[]"))&&(s=Og.toArray(e)))return n=Mg(n),s.forEach(function(e,r){!Og.isUndefined(e)&&null!==e&&t.append(!0===a?Ng([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!Dg(e)||(t.append(Ng(o,n,i),l(e)),!1)}const u=[],f=Object.assign(Ig,{defaultVisitor:c,convertValue:l,isVisitable:Dg});if(!Og.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Og.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Og.forEach(n,function(n,i){!0===(!(Og.isUndefined(n)||null===n)&&o.call(t,n,Og.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function Lg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Fg(e,t){this._pairs=[],e&&Rg(e,this,t)}const zg=Fg.prototype;zg.append=function(e,t){this._pairs.push([e,t])},zg.toString=function(e){const t=e?function(t){return e.call(this,t,Lg)}:Lg;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Vg=Fg;function Bg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ug(e,t,n){if(!t)return e;const r=n&&n.encode||Bg;Og.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):Og.isURLSearchParams(t)?t.toString():new Vg(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Wg=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Og.forEach(this.handlers,function(t){null!==t&&e(t)})}},Hg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yg={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Vg,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qg="undefined"!=typeof window&&"undefined"!=typeof document,Xg="object"==typeof navigator&&navigator||void 0,$g=qg&&(!Xg||["ReactNative","NativeScript","NS"].indexOf(Xg.product)<0),Gg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Qg=qg&&window.location.href||"http://localhost",Zg={...e,...Yg},Kg=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&Og.isArray(r)?r.length:i,s?(Og.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&Og.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&Og.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(Og.isFormData(e)&&Og.isFunction(e.entries)){const n={};return Og.forEachEntry(e,(e,r)=>{t(function(e){return Og.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null},Jg={transitional:Hg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Og.isObject(e);if(o&&Og.isHTMLForm(e)&&(e=new FormData(e)),Og.isFormData(e))return r?JSON.stringify(Kg(e)):e;if(Og.isArrayBuffer(e)||Og.isBuffer(e)||Og.isStream(e)||Og.isFile(e)||Og.isBlob(e)||Og.isReadableStream(e))return e;if(Og.isArrayBufferView(e))return e.buffer;if(Og.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Rg(e,new Zg.classes.URLSearchParams,{visitor:function(e,t,n,r){return Zg.isNode&&Og.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((i=Og.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Rg(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(Og.isString(e))try{return(0,JSON.parse)(e),Og.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jg.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Og.isResponse(e)||Og.isReadableStream(e))return e;if(e&&Og.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Ag.from(e,Ag.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zg.classes.FormData,Blob:Zg.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Og.forEach(["delete","get","head","post","put","patch"],e=>{Jg.headers[e]={}});const ev=Jg,tv=Og.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nv=Symbol("internals");function rv(e){return e&&String(e).trim().toLowerCase()}function ov(e){return!1===e||null==e?e:Og.isArray(e)?e.map(ov):String(e)}function iv(e,t,n,r,o){return Og.isFunction(r)?r.call(this,t,n):(o&&(t=n),Og.isString(t)?Og.isString(r)?-1!==t.indexOf(r):Og.isRegExp(r)?r.test(t):void 0:void 0)}class av{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=rv(t);if(!o)throw new Error("header name must be a non-empty string");const i=Og.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ov(e))}const i=(e,t)=>Og.forEach(e,(e,n)=>o(e,n,t));if(Og.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Og.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&tv[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Og.isObject(e)&&Og.isIterable(e)){let n,r,o={};for(const t of e){if(!Og.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?Og.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=rv(e)){const n=Og.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Og.isFunction(t))return t.call(this,e,n);if(Og.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rv(e)){const n=Og.findKey(this,e);return!(!n||void 0===this[n]||t&&!iv(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=rv(e)){const o=Og.findKey(n,e);!o||t&&!iv(0,n[o],o,t)||(delete n[o],r=!0)}}return Og.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!iv(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Og.forEach(this,(r,o)=>{const i=Og.findKey(n,o);if(i)return t[i]=ov(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();a!==o&&delete t[o],t[a]=ov(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Og.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Og.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[nv]=this[nv]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=rv(e);t[r]||(function(e,t){const n=Og.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return Og.isArray(e)?e.forEach(r):r(e),this}}av.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Og.reduceDescriptors(av.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Og.freezeMethods(av);const sv=av;function lv(e,t){const n=this||ev,r=t||n,o=sv.from(r.headers);let i=r.data;return Og.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function cv(e){return!(!e||!e.__CANCEL__)}function uv(e,t,n){Ag.call(this,null==e?"canceled":e,Ag.ERR_CANCELED,t,n),this.name="CanceledError"}Og.inherits(uv,Ag,{__CANCEL__:!0});const fv=uv;function pv(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ag("Request failed with status code "+n.status,[Ag.ERR_BAD_REQUEST,Ag.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dv=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,f=0;for(;u!==i;)f+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*f/p):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},i-s)))},()=>n&&a(n)]}(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},hv=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},yv=e=>(...t)=>Og.asap(()=>e(...t)),mv=Zg.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Zg.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Zg.origin),Zg.navigator&&/(msie|trident)/i.test(Zg.navigator.userAgent)):()=>!0,gv=Zg.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Og.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Og.isString(r)&&a.push("path="+r),Og.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vv(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bv=e=>e instanceof sv?{...e}:e;function xv(e,t){t=t||{};const n={};function r(e,t,n,r){return Og.isPlainObject(e)&&Og.isPlainObject(t)?Og.merge.call({caseless:r},e,t):Og.isPlainObject(t)?Og.merge({},t):Og.isArray(t)?t.slice():t}function o(e,t,n,o){return Og.isUndefined(t)?Og.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!Og.isUndefined(t))return r(void 0,t)}function a(e,t){return Og.isUndefined(t)?Og.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(bv(e),bv(t),0,!0)};return Og.forEach(Object.keys({...e,...t}),function(r){const i=l[r]||o,a=i(e[r],t[r],r);Og.isUndefined(a)&&i!==s||(n[r]=a)}),n}const wv=e=>{const t=xv({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=sv.from(s),t.url=Ug(vv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Og.isFormData(r))if(Zg.hasStandardBrowserEnv||Zg.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Zg.hasStandardBrowserEnv&&(o&&Og.isFunction(o)&&(o=o(t)),o||!1!==o&&mv(t.url))){const e=i&&a&&gv.read(a);e&&s.set(i,e)}return t},Sv="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=wv(e);let o=r.data;const i=sv.from(r.headers).normalize();let a,s,l,c,u,{responseType:f,onUploadProgress:p,onDownloadProgress:d}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let y=new XMLHttpRequest;function m(){if(!y)return;const r=sv.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());pv(function(e){t(e),h()},function(e){n(e),h()},{data:f&&"text"!==f&&"json"!==f?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout,"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(m)},y.onabort=function(){y&&(n(new Ag("Request aborted",Ag.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new Ag("Network Error",Ag.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Hg;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ag(t,o.clarifyTimeoutError?Ag.ETIMEDOUT:Ag.ECONNABORTED,e,y)),y=null},void 0===o&&i.setContentType(null),"setRequestHeader"in y&&Og.forEach(i.toJSON(),function(e,t){y.setRequestHeader(t,e)}),Og.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),f&&"json"!==f&&(y.responseType=r.responseType),d&&([l,u]=dv(d,!0),y.addEventListener("progress",l)),p&&y.upload&&([s,c]=dv(p),y.upload.addEventListener("progress",s),y.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{y&&(n(!t||t.type?new fv(null,e,y):t),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Zg.protocols.indexOf(g)?n(new Ag("Unsupported protocol "+g+":",Ag.ERR_BAD_REQUEST,e)):y.send(o||null)})},kv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ag?t:new fv(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,o(new Ag(`timeout ${t} of ms exceeded`,Ag.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>Og.asap(a),s}},Ev=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Cv=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Ev(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Pv="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ov=Pv&&"function"==typeof ReadableStream,_v=Pv&&("function"==typeof TextEncoder?(jv=new TextEncoder,e=>jv.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var jv;const Tv=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Av=Ov&&Tv(()=>{let e=!1;const t=new Request(Zg.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Dv=Ov&&Tv(()=>Og.isReadableStream(new Response("").body)),Mv={stream:Dv&&(e=>e.body)};var Nv;Pv&&(Nv=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Mv[e]&&(Mv[e]=Og.isFunction(Nv[e])?t=>t[e]():(t,n)=>{throw new Ag(`Response type '${e}' is not supported`,Ag.ERR_NOT_SUPPORT,n)})}));const Iv=Pv&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=wv(e);c=c?(c+"").toLowerCase():"text";let d,h=kv([o,i&&i.toAbortSignal()],a);const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(l&&Av&&"get"!==n&&"head"!==n&&0!==(m=await(async(e,t)=>{const n=Og.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Og.isBlob(e))return e.size;if(Og.isSpecCompliantForm(e)){const t=new Request(Zg.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Og.isArrayBufferView(e)||Og.isArrayBuffer(e)?e.byteLength:(Og.isURLSearchParams(e)&&(e+=""),Og.isString(e)?(await _v(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Og.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=hv(m,dv(yv(l)));r=Cv(n.body,65536,e,t)}}Og.isString(f)||(f=f?"include":"omit");const o="credentials"in Request.prototype;d=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?f:void 0});let i=await fetch(d,p);const a=Dv&&("stream"===c||"response"===c);if(Dv&&(s||a&&y)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=Og.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&hv(t,dv(yv(s),!0))||[];i=new Response(Cv(i.body,65536,n,()=>{r&&r(),y&&y()}),e)}c=c||"text";let g=await Mv[Og.findKey(Mv,c)||"text"](i,e);return!a&&y&&y(),await new Promise((t,n)=>{pv(t,n,{data:g,headers:sv.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:d})})}catch(t){if(y&&y(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new Ag("Network Error",Ag.ERR_NETWORK,e,d),{cause:t.cause||t});throw Ag.from(t,t&&t.code,e,d)}}),Rv={http:null,xhr:Sv,fetch:Iv};Og.forEach(Rv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const Lv=e=>`- ${e}`,Fv=e=>Og.isFunction(e)||null===e||!1===e,zv=e=>{e=Og.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Fv(n)&&(r=Rv[(t=String(n)).toLowerCase()],void 0===r))throw new Ag(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let n=t?e.length>1?"since :\n"+e.map(Lv).join("\n"):" "+Lv(e[0]):"as no adapter specified";throw new Ag("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Vv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fv(null,e)}function Bv(e){return Vv(e),e.headers=sv.from(e.headers),e.data=lv.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zv(e.adapter||ev.adapter)(e).then(function(t){return Vv(e),t.data=lv.call(e,e.transformResponse,t),t.headers=sv.from(t.headers),t},function(t){return cv(t)||(Vv(e),t&&t.response&&(t.response.data=lv.call(e,e.transformResponse,t.response),t.response.headers=sv.from(t.response.headers))),Promise.reject(t)})}const Uv="1.11.0",Wv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Hv={};Wv.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Uv+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Ag(r(o," has been removed"+(t?" in "+t:"")),Ag.ERR_DEPRECATED);return t&&!Hv[o]&&(Hv[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},Wv.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Yv={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Ag("options must be an object",Ag.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Ag("option "+i+" must be "+n,Ag.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ag("Unknown option "+i,Ag.ERR_BAD_OPTION)}},validators:Wv},qv=Yv.validators;class Xv{constructor(e){this.defaults=e||{},this.interceptors={request:new Wg,response:new Wg}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=xv(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Yv.assertOptions(n,{silentJSONParsing:qv.transitional(qv.boolean),forcedJSONParsing:qv.transitional(qv.boolean),clarifyTimeoutError:qv.transitional(qv.boolean)},!1),null!=r&&(Og.isFunction(r)?t.paramsSerializer={serialize:r}:Yv.assertOptions(r,{encode:qv.function,serialize:qv.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yv.assertOptions(t,{baseUrl:qv.spelling("baseURL"),withXsrfToken:qv.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Og.merge(o.common,o[t.method]);o&&Og.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=sv.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,f=0;if(!s){const e=[Bv.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);f<u;)c=c.then(e[f++],e[f++]);return c}u=a.length;let p=t;for(f=0;f<u;){const e=a[f++],t=a[f++];try{p=e(p)}catch(e){t.call(this,e);break}}try{c=Bv.call(this,p)}catch(e){return Promise.reject(e)}for(f=0,u=l.length;f<u;)c=c.then(l[f++],l[f++]);return c}getUri(e){return Ug(vv((e=xv(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Og.forEach(["delete","get","head","options"],function(e){Xv.prototype[e]=function(t,n){return this.request(xv(n||{},{method:e,url:t,data:(n||{}).data}))}}),Og.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(xv(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Xv.prototype[e]=t(),Xv.prototype[e+"Form"]=t(!0)});const $v=Xv;class Gv{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new fv(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Gv(function(t){e=t}),cancel:e}}}const Qv=Gv,Zv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zv).forEach(([e,t])=>{Zv[t]=e});const Kv=Zv,Jv=function e(t){const n=new $v(t),r=Lm($v.prototype.request,n);return Og.extend(r,$v.prototype,n,{allOwnKeys:!0}),Og.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xv(t,n))},r}(ev);Jv.Axios=$v,Jv.CanceledError=fv,Jv.CancelToken=Qv,Jv.isCancel=cv,Jv.VERSION=Uv,Jv.toFormData=Rg,Jv.AxiosError=Ag,Jv.Cancel=Jv.CanceledError,Jv.all=function(e){return Promise.all(e)},Jv.spread=function(e){return function(t){return e.apply(null,t)}},Jv.isAxiosError=function(e){return Og.isObject(e)&&!0===e.isAxiosError},Jv.mergeConfig=xv,Jv.AxiosHeaders=sv,Jv.formToJSON=e=>Kg(Og.isHTMLForm(e)?new FormData(e):e),Jv.getAdapter=zv,Jv.HttpStatusCode=Kv,Jv.default=Jv;const eb=Jv;function tb(e){return function(e){if(Array.isArray(e))return nb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return ob(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ob(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ob(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,ob(f,"constructor",c),ob(c,"constructor",l),l.displayName="GeneratorFunction",ob(c,o,"GeneratorFunction"),ob(f),ob(f,o,"Generator"),ob(f,r,function(){return this}),ob(f,"toString",function(){return"[object Generator]"}),(rb=function(){return{w:i,m:p}})()}function ob(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ob=function(e,t,n,r){function i(t,n){ob(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ob(e,t,n,r)}function ib(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ab(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ib(i,r,o,a,s,"next",e)}function s(e){ib(i,r,o,a,s,"throw",e)}a(void 0)})}}var sb="http://localhost:3001/api",lb=!0,cb=function(){var e=ab(rb().m(function e(){return rb().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,eb.get("http://localhost:3001/health");case 1:return lb=!0,e.a(2,!0);case 2:return e.p=2,e.v,lb=!1,e.a(2,!1)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ub=function(){var e=ab(rb().m(function e(t){var n,r,o,i,a,s,l=arguments;return rb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"1day",e.p=1,console.log(" Fetching ".concat(t,"@").concat(n," from backend cache...")),!(a=!lb)){e.n=3;break}return e.n=2,cb();case 2:a=!e.v;case 3:if(!a){e.n=4;break}throw new Error("Backend service unavailable");case 4:return e.n=5,eb.get("".concat(sb,"/data/").concat(t,"/").concat(n));case 5:if(!((r=e.v).data&&r.data.data&&r.data.data.length>0)){e.n=6;break}return o=r.data.data,i=r.data.metadata,console.log(" Loaded ".concat(o.length," points for ").concat(t,"@").concat(n," from cache")),console.log(" Data age: ".concat(i.ageMinutes||"unknown"," minutes old")),console.log(" Price range: $".concat(Math.min.apply(Math,tb(o.map(function(e){return e.low}))).toFixed(2)," - $").concat(Math.max.apply(Math,tb(o.map(function(e){return e.high}))).toFixed(2))),e.a(2,o.map(function(e){return{date:new Date(e.date),open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}}));case 6:throw new Error("No cached data available for ".concat(t,"@").concat(n));case 7:e.n=9;break;case 8:throw e.p=8,s=e.v,console.error(" Backend API error for ".concat(t,"@").concat(n,":"),s.message),(s.message.includes("Network Error")||s.message.includes("ECONNREFUSED"))&&(console.error(" Backend server is not running! Please start it:"),console.error("   cd backend && npm start"),lb=!1),new Error("Failed to fetch ".concat(t,"@").concat(n,": ").concat(s.message));case 9:return e.a(2)}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),fb=function(){var e=ab(rb().m(function e(t){var n,r,o;return rb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,console.log(" Searching '".concat(t,"' via backend...")),!(r=!lb)){e.n=2;break}return e.n=1,cb();case 1:r=!e.v;case 2:if(!r){e.n=3;break}throw new Error("Backend service unavailable for search");case 3:return e.n=4,eb.get("".concat(sb,"/search/").concat(encodeURIComponent(t)));case 4:if(!(n=e.v).data||!Array.isArray(n.data)){e.n=5;break}return console.log(" Found ".concat(n.data.length," symbols matching '").concat(t,"'")),e.a(2,n.data);case 5:return e.a(2,[]);case 6:e.n=8;break;case 7:return e.p=7,o=e.v,console.error(" Search error for '".concat(t,"':"),o.message),e.a(2,[]);case 8:return e.a(2)}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();function pb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return db(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(db(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,db(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,db(f,"constructor",c),db(c,"constructor",l),l.displayName="GeneratorFunction",db(c,o,"GeneratorFunction"),db(f),db(f,o,"Generator"),db(f,r,function(){return this}),db(f,"toString",function(){return"[object Generator]"}),(pb=function(){return{w:i,m:p}})()}function db(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}db=function(e,t,n,r){function i(t,n){db(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},db(e,t,n,r)}function hb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function yb(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){hb(i,r,o,a,s,"next",e)}function s(e){hb(i,r,o,a,s,"throw",e)}a(void 0)})}}function mb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vb=[{symbol:"AAPL",shortName:"Apple Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"GOOGL",shortName:"Alphabet Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"MSFT",shortName:"Microsoft Corporation",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"AMZN",shortName:"Amazon.com Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"TSLA",shortName:"Tesla Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"SNOW",shortName:"Snowflake Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"WDAY",shortName:"Workday Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"META",shortName:"Meta Platforms Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"NVDA",shortName:"NVIDIA Corporation",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"JPM",shortName:"JPMorgan Chase & Co.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"V",shortName:"Visa Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"WMT",shortName:"Walmart Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"DIS",shortName:"The Walt Disney Company",typeDisp:"Stock",exchange:"NYSE"},{symbol:"NFLX",shortName:"Netflix Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"AMD",shortName:"Advanced Micro Devices",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"BA",shortName:"Boeing Company",typeDisp:"Stock",exchange:"NYSE"},{symbol:"CRM",shortName:"Salesforce Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"UBER",shortName:"Uber Technologies Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"ABNB",shortName:"Airbnb Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"SHOP",shortName:"Shopify Inc.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"SPOT",shortName:"Spotify Technology S.A.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"COIN",shortName:"Coinbase Global Inc.",typeDisp:"Stock",exchange:"NASDAQ"},{symbol:"GME",shortName:"GameStop Corp.",typeDisp:"Stock",exchange:"NYSE"},{symbol:"AMC",shortName:"AMC Entertainment Holdings",typeDisp:"Stock",exchange:"NYSE"},{symbol:"PLTR",shortName:"Palantir Technologies Inc.",typeDisp:"Stock",exchange:"NYSE"}];const bb=function(e){var n=e.currentSymbol,r=e.onSymbolChange,o=e.currentInterval,i=e.onIntervalChange,a=e.onUndo,s=e.onRedo,l=e.onReplay,c=e.onIndicatorsClick,u=e.onChartTypeClick,f=e.onSettingsClick,p=e.onPineScriptImport,d=mb((0,t.useState)(!1),2),h=d[0],y=d[1],m=mb((0,t.useState)(""),2),g=m[0],v=m[1],b=mb((0,t.useState)(vb),2),x=b[0],w=b[1],S=mb((0,t.useState)(!1),2),k=S[0],E=S[1],C=(0,t.useRef)(null),P=(0,t.useRef)(null);(0,t.useEffect)(function(){var e=function(e){C.current&&!C.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(function(){return P.current&&clearTimeout(P.current),g.trim()?(E(!0),P.current=setTimeout(yb(pb().m(function e(){var t,n,r;return pb().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fb(g.trim());case 1:t=e.v,w(t),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Search failed:",r),n=vb.filter(function(e){return e.symbol.toLowerCase().includes(g.toLowerCase())||e.shortName.toLowerCase().includes(g.toLowerCase())}),w(n);case 3:return e.p=3,E(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])})),100)):(w(vb),E(!1)),function(){P.current&&clearTimeout(P.current)}},[g]);var O=function(e){r(e),y(!1),v("")};return t.createElement("div",{className:"header-toolbar"},t.createElement("div",{className:"header-left"},t.createElement("div",{className:"symbol-search-area",ref:C},t.createElement("button",{className:"search-button",onClick:function(){return y(!h)},title:"Search symbols"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("circle",{cx:"7",cy:"7",r:"5.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M11 11L16 16",stroke:"currentColor",strokeWidth:"1.5"}))),t.createElement("div",{className:"symbol-display"},t.createElement("span",{className:"current-symbol"},n)),h&&t.createElement("div",{className:"symbol-search-dropdown"},t.createElement("div",{className:"search-input-wrapper"},t.createElement("input",{type:"text",className:"symbol-search-input",placeholder:"Search symbol...",value:g,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(x.length>0?O(x[0].symbol):g.trim()&&O(g.trim().toUpperCase())),"Escape"===e.key&&y(!1)},autoFocus:!0})),t.createElement("div",{className:"symbol-results"},k?t.createElement("div",{className:"loading-message"},"Searching..."):t.createElement(t.Fragment,null,x.length>0?x.map(function(e){return t.createElement("div",{key:e.symbol,className:"symbol-result-item",onClick:function(){return O(e.symbol)}},t.createElement("div",{className:"symbol-info"},t.createElement("span",{className:"symbol-ticker"},e.symbol),t.createElement("span",{className:"symbol-exchange"},e.exchange||""),t.createElement("span",{className:"symbol-type"},e.typeDisp)),t.createElement("div",{className:"symbol-name"},e.shortName))}):g.trim()?t.createElement("div",{className:"symbol-result-item",onClick:function(){return O(g.trim().toUpperCase())}},t.createElement("div",{className:"symbol-info"},t.createElement("span",{className:"symbol-ticker"},g.trim().toUpperCase()),t.createElement("span",{className:"symbol-type"},"Enter to select")),t.createElement("div",{className:"symbol-name"},"Load ",g.trim().toUpperCase()," data")):t.createElement("div",{className:"no-results"},"Popular symbols"))))),t.createElement("div",{className:"toolbar-separator"}),t.createElement("div",{className:"time-interval-dropdown"},t.createElement("select",{className:"interval-select",value:o,onChange:function(e){return i(e.target.value)}},t.createElement("optgroup",{label:"Intraday (Last 30 days)"},t.createElement("option",{value:"1min"},"1m"),t.createElement("option",{value:"5min"},"5m"),t.createElement("option",{value:"15min"},"15m"),t.createElement("option",{value:"30min"},"30m"),t.createElement("option",{value:"60min"},"1h")),t.createElement("optgroup",{label:"Daily & Weekly (20+ years)"},t.createElement("option",{value:"1day"},"1D"),t.createElement("option",{value:"1week"},"1W"),t.createElement("option",{value:"1month"},"1M")))),t.createElement("div",{className:"toolbar-separator"}),t.createElement("button",{className:"chart-type-button",title:"Chart type",onClick:u,"data-testid":"chart-type-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("rect",{x:"4",y:"12",width:"2",height:"4",fill:"currentColor"}),t.createElement("rect",{x:"8",y:"8",width:"2",height:"8",fill:"currentColor"}),t.createElement("rect",{x:"12",y:"10",width:"2",height:"6",fill:"currentColor"}))),t.createElement("button",{className:"indicators-button",title:"Indicators",onClick:c,"data-testid":"indicators-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M3 9L7 5L11 9L15 3",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("circle",{cx:"15",cy:"3",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"11",cy:"9",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"7",cy:"5",r:"1.5",fill:"currentColor"}),t.createElement("circle",{cx:"3",cy:"9",r:"1.5",fill:"currentColor"})),t.createElement("span",null,"Indicators")),t.createElement("button",{className:"pinescript-button",title:"Import PineScript",onClick:p,"data-testid":"pinescript-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M2 2h14v14H2V2z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M6 6h6M6 9h4M6 12h5",stroke:"currentColor",strokeWidth:"1"})),t.createElement("span",null,"PineScript"))),t.createElement("div",{className:"header-right"},t.createElement("button",{className:"header-icon-button",title:"Bar replay",onClick:l,"data-testid":"replay-button"},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M3 9L3 5L7 5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M15 9C15 12.314 12.314 15 9 15C6.5 15 4.5 13.5 3.5 11.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M3 9C3 5.686 5.686 3 9 3C11.5 3 13.5 4.5 14.5 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})),t.createElement("span",null,"Replay")),t.createElement("button",{className:"header-icon-button",title:"Undo (Z)",onClick:a},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M4 8H12C14 8 15 9 15 11C15 13 14 14 12 14H8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M6 6L4 8L6 10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}))),t.createElement("button",{className:"header-icon-button",title:"Redo (Z)",onClick:s},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M14 8H6C4 8 3 9 3 11C3 13 4 14 6 14H10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M12 6L14 8L12 10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}))),t.createElement("button",{className:"header-icon-button",title:"Settings",onClick:f},t.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},t.createElement("path",{d:"M9 11.5C10.38 11.5 11.5 10.38 11.5 9C11.5 7.62 10.38 6.5 9 6.5C7.62 6.5 6.5 7.62 6.5 9C6.5 10.38 7.62 11.5 9 11.5Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),t.createElement("path",{d:"M14.5 9C14.5 9.3 14.48 9.59 14.44 9.87L16.07 11.13C16.21 11.24 16.25 11.44 16.16 11.6L14.66 14.4C14.57 14.56 14.37 14.62 14.2 14.56L12.27 13.77C11.87 14.06 11.44 14.3 10.97 14.48L10.69 16.54C10.66 16.72 10.51 16.85 10.32 16.85H7.32C7.13 16.85 6.98 16.72 6.95 16.54L6.67 14.48C6.2 14.3 5.77 14.07 5.37 13.77L3.44 14.56C3.27 14.63 3.07 14.56 2.98 14.4L1.48 11.6C1.39 11.44 1.43 11.24 1.57 11.13L3.2 9.87C3.16 9.59 3.14 9.29 3.14 9C3.14 8.71 3.16 8.41 3.2 8.13L1.57 6.87C1.43 6.76 1.39 6.56 1.48 6.4L2.98 3.6C3.07 3.44 3.27 3.38 3.44 3.44L5.37 4.23C5.77 3.94 6.2 3.7 6.67 3.52L6.95 1.46C6.98 1.28 7.13 1.15 7.32 1.15H10.32C10.51 1.15 10.66 1.28 10.69 1.46L10.97 3.52C11.44 3.7 11.87 3.93 12.27 4.23L14.2 3.44C14.37 3.37 14.57 3.44 14.66 3.6L16.16 6.4C16.25 6.56 16.21 6.76 16.07 6.87L14.44 8.13C14.48 8.41 14.5 8.7 14.5 9Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})))))};var xb=n(716),wb={};wb.styleTagTransform=Om(),wb.setAttributes=km(),wb.insert=wm().bind(null,"head"),wb.domAPI=bm(),wb.insertStyleElement=Cm(),gm()(xb.A,wb),xb.A&&xb.A.locals&&xb.A.locals;const Sb=function(e){var n=e.isPlaying,r=e.replayPosition,o=e.totalBars,i=e.replaySpeed,a=e.data,s=e.replayEndPosition,l=e.onPlay,c=e.onPause,u=e.onStepForward,f=e.onStepBackward,p=e.onSpeedChange,d=e.onPositionChange,h=e.onExit,y=e.onDateSelect,m=e.onEndDateSelect,g=e.onClearEndDate,v=s||o,b=r/v*100,x=function(e){if(a&&a[e-1]){var t=a[e-1];if(t.date)return new Date(t.date).toLocaleDateString()}var n=new Date;return n.setDate(n.getDate()-(o-e)),n.toLocaleDateString()},w=function(e){if(a&&a[e-1]){var t=a[e-1];if(t.date)return new Date(t.date).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}return x(e)};return t.createElement("div",{className:"replay-controls-overlay","data-testid":"replay-controls-overlay"},t.createElement("div",{className:"replay-controls","data-testid":"replay-controls"},t.createElement("div",{className:"replay-header"},t.createElement("span",{className:"replay-title"}," Replay Mode"),t.createElement("button",{className:"replay-exit",onClick:h,title:"Exit replay","data-testid":"replay-exit-button"},"")),t.createElement("div",{className:"replay-date-picker","data-testid":"start-date-picker"},t.createElement("label",null,"Start Date:"),t.createElement("input",{type:"date",className:"date-input",value:function(){if(a&&a[r-1]){var e=a[r-1];if(e.date)return new Date(e.date).toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]}(),onChange:function(e){var t=new Date(e.target.value);if(a){var n=0,r=1/0;a.forEach(function(e,o){if(e.date){var i=new Date(e.date),a=Math.abs(t.getTime()-i.getTime());a<r&&(r=a,n=o)}}),y?y(n+1):d(n+1)}},"data-testid":"start-date-input"}),t.createElement("span",{className:"current-datetime"},w(r))),t.createElement("div",{className:"replay-date-picker","data-testid":"end-date-picker"},t.createElement("label",null,"End Date:"),t.createElement("input",{type:"date",className:"date-input",value:function(){if(a&&s&&a[s-1]){var e=a[s-1];if(e.date)return new Date(e.date).toISOString().split("T")[0]}if(a&&a.length>0){var t=a[a.length-1];if(t.date)return new Date(t.date).toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]}(),onChange:function(e){var t=new Date(e.target.value);if(a&&m){var n=0,r=1/0;a.forEach(function(e,o){if(e.date){var i=new Date(e.date),a=Math.abs(t.getTime()-i.getTime());a<r&&(r=a,n=o)}}),m(n+1)}},"data-testid":"end-date-input"}),s&&g&&t.createElement("button",{className:"clear-end-date-btn",onClick:g,title:"Clear end date limit"},""),t.createElement("span",{className:"end-datetime"},s?w(s):"No limit")),t.createElement("div",{className:"replay-progress"},t.createElement("div",{className:"progress-info"},t.createElement("span",null,"Bar ",r," / ",s||o),t.createElement("span",null,x(r))),t.createElement("div",{className:"progress-bar"},t.createElement("div",{className:"progress-fill",style:{width:"".concat(b,"%")}}),t.createElement("input",{type:"range",className:"progress-slider",min:"1",max:v,value:r,onChange:function(e){return d(parseInt(e.target.value))}}))),t.createElement("div",{className:"replay-buttons"},t.createElement("button",{className:"replay-btn step",onClick:f,title:"Step backward"},""),n?t.createElement("button",{className:"replay-btn play-pause",onClick:c,title:"Pause"},""):t.createElement("button",{className:"replay-btn play-pause",onClick:l,title:"Play"},""),t.createElement("button",{className:"replay-btn step",onClick:u,title:"Step forward"},"")),t.createElement("div",{className:"replay-speed"},t.createElement("label",null,"Speed:"),t.createElement("select",{value:i,onChange:function(e){return p(parseFloat(e.target.value))},className:"speed-selector"},t.createElement("option",{value:"0.5"},"0.5x"),t.createElement("option",{value:"1"},"1x"),t.createElement("option",{value:"2"},"2x"),t.createElement("option",{value:"5"},"5x"),t.createElement("option",{value:"10"},"10x")))))};var kb=n(483),Eb={};Eb.styleTagTransform=Om(),Eb.setAttributes=km(),Eb.insert=wm().bind(null,"head"),Eb.domAPI=bm(),Eb.insertStyleElement=Cm(),gm()(kb.A,Eb),kb.A&&kb.A.locals&&kb.A.locals;const Cb=function(e){var n=e.enabledIndicators,r=e.onToggleIndicator,o=e.onClose;return t.createElement("div",{className:"indicators-panel","data-testid":"indicators-panel"},t.createElement("div",{className:"indicators-header"},t.createElement("h3",null," Indicators"),t.createElement("button",{className:"close-button",onClick:o,"data-testid":"indicators-close-button"},"")),t.createElement("div",{className:"indicators-section"},t.createElement("h4",null,"All indicators"),t.createElement("div",{className:"indicators-list"},[{key:"ema10",label:"EMA 10 days",type:"EMA"},{key:"ema12",label:"EMA 12 days",type:"EMA"},{key:"ema26",label:"EMA 26 days",type:"EMA"},{key:"ema50",label:"EMA 50 days",type:"EMA"},{key:"ema200",label:"EMA 200 days",type:"EMA"},{key:"sma10",label:"SMA 10 days",type:"SMA"},{key:"sma50",label:"SMA 50 days",type:"SMA"},{key:"sma200",label:"SMA 200 days",type:"SMA"},{key:"bollingerBands",label:"Bollinger Bands",type:"BB"},{key:"elderRay",label:"Elder Ray",type:"Momentum"},{key:"volume",label:"Volume",type:"Volume"}].map(function(e){return t.createElement("div",{key:e.key,className:"indicator-item ".concat(n[e.key]?"enabled":""),onClick:function(){return t=e.key,void r(t);var t},"data-testid":"indicator-".concat(e.key)},t.createElement("div",{className:"indicator-checkbox"},n[e.key]&&t.createElement("span",null,"")),t.createElement("span",{className:"indicator-label"},e.label))}))))};var Pb=n(649),Ob={};Ob.styleTagTransform=Om(),Ob.setAttributes=km(),Ob.insert=wm().bind(null,"head"),Ob.domAPI=bm(),Ob.insertStyleElement=Cm(),gm()(Pb.A,Ob),Pb.A&&Pb.A.locals&&Pb.A.locals;const _b=function(e){var n=e.currentChartType,r=e.onChartTypeSelect,o=e.onClose,i=[{key:"candlestick",label:"Candlestick",description:"OHLC data as candlesticks",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("rect",{x:"10",y:"6",width:"4",height:"12",fill:"currentColor",stroke:"currentColor",strokeWidth:"1"}),t.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6",stroke:"currentColor",strokeWidth:"1"}),t.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22",stroke:"currentColor",strokeWidth:"1"}))},{key:"ohlc",label:"OHLC Bars",description:"Traditional bar charts",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("line",{x1:"12",y1:"4",x2:"12",y2:"20",stroke:"currentColor",strokeWidth:"2"}),t.createElement("line",{x1:"8",y1:"8",x2:"12",y2:"8",stroke:"currentColor",strokeWidth:"2"}),t.createElement("line",{x1:"12",y1:"16",x2:"16",y2:"16",stroke:"currentColor",strokeWidth:"2"}))},{key:"line",label:"Line Chart",description:"Simple line connecting closes",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M3 17L9 11L13 15L21 7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),t.createElement("circle",{cx:"3",cy:"17",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"9",cy:"11",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"13",cy:"15",r:"2",fill:"currentColor"}),t.createElement("circle",{cx:"21",cy:"7",r:"2",fill:"currentColor"}))},{key:"area",label:"Area Chart",description:"Line chart with filled area",icon:t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M3 17L9 11L13 15L21 7V20H3V17Z",fill:"currentColor",opacity:"0.3"}),t.createElement("path",{d:"M3 17L9 11L13 15L21 7",stroke:"currentColor",strokeWidth:"2",fill:"none"}))}];return t.createElement("div",{className:"chart-type-panel","data-testid":"chart-type-panel"},t.createElement("div",{className:"chart-type-header"},t.createElement("h3",null," Chart Type"),t.createElement("button",{className:"close-button",onClick:o},"")),t.createElement("div",{className:"chart-types-list"},i.map(function(e){return t.createElement("div",{key:e.key,className:"chart-type-item ".concat(n===e.key?"selected":""),onClick:function(){return t=e.key,void r(t);var t}},t.createElement("div",{className:"chart-type-icon"},e.icon),t.createElement("div",{className:"chart-type-info"},t.createElement("div",{className:"chart-type-label"},e.label),t.createElement("div",{className:"chart-type-description"},e.description)),n===e.key&&t.createElement("div",{className:"chart-type-selected"},""))})))};var jb=n(691),Tb={};Tb.styleTagTransform=Om(),Tb.setAttributes=km(),Tb.insert=wm().bind(null,"head"),Tb.domAPI=bm(),Tb.insertStyleElement=Cm(),gm()(jb.A,Tb),jb.A&&jb.A.locals&&jb.A.locals;const Ab=function(e){var n=e.zoomMultiplier,r=e.onZoomMultiplierChange,o=e.onClose,i=Math.round(100*(n-1));return t.createElement("div",{className:"settings-panel"},t.createElement("div",{className:"settings-header"},t.createElement("h3",null," Settings"),t.createElement("button",{className:"close-button",onClick:o},"")),t.createElement("div",{className:"settings-content"},t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"setting-label"},"Zoom Sensitivity"),t.createElement("div",{className:"setting-description"},"Adjust how much the chart zooms with each scroll"),t.createElement("div",{className:"zoom-control"},t.createElement("div",{className:"zoom-slider-container"},t.createElement("input",{type:"range",className:"zoom-slider",min:"1",max:"30",value:i,onChange:function(e){var t=parseInt(e.target.value);r(1+t/100)}}),t.createElement("div",{className:"zoom-value"},i,"%")),t.createElement("div",{className:"zoom-presets"},[{label:"Very Smooth",value:1.01,percentage:1},{label:"Smooth",value:1.03,percentage:3},{label:"Normal",value:1.05,percentage:5},{label:"Fast",value:1.1,percentage:10},{label:"Very Fast",value:1.2,percentage:20}].map(function(e){return t.createElement("button",{key:e.value,className:"preset-button ".concat(Math.abs(n-e.value)<.001?"active":""),onClick:function(){return r(e.value)}},e.label,t.createElement("span",{className:"preset-value"},e.percentage,"%"))}))),t.createElement("div",{className:"setting-info"},t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Current multiplier:"),t.createElement("span",{className:"info-value"},n.toFixed(3))),t.createElement("div",{className:"info-item"},t.createElement("span",{className:"info-label"},"Zoom per scroll:"),t.createElement("span",{className:"info-value"},i,"%")))),t.createElement("div",{className:"setting-group"},t.createElement("label",{className:"setting-label"},"Other Settings"),t.createElement("div",{className:"setting-description"},"More settings can be added here in the future"))))};var Db=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Mb=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Nb="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Ib={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Rb="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Lb={5:Rb,"5module":Rb+" export import",6:Rb+" const class extends export import super"},Fb=/^in(stanceof)?$/,zb=new RegExp("["+Nb+"]"),Vb=new RegExp("["+Nb+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function Bb(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}return!1}function Ub(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&zb.test(String.fromCharCode(e)):!1!==t&&Bb(e,Mb)))}function Wb(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&Vb.test(String.fromCharCode(e)):!1!==t&&(Bb(e,Mb)||Bb(e,Db)))))}var Hb=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function Yb(e,t){return new Hb(e,{beforeExpr:!0,binop:t})}var qb={beforeExpr:!0},Xb={startsExpr:!0},$b={};function Gb(e,t){return void 0===t&&(t={}),t.keyword=e,$b[e]=new Hb(e,t)}var Qb={num:new Hb("num",Xb),regexp:new Hb("regexp",Xb),string:new Hb("string",Xb),name:new Hb("name",Xb),privateId:new Hb("privateId",Xb),eof:new Hb("eof"),bracketL:new Hb("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Hb("]"),braceL:new Hb("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Hb("}"),parenL:new Hb("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Hb(")"),comma:new Hb(",",qb),semi:new Hb(";",qb),colon:new Hb(":",qb),dot:new Hb("."),question:new Hb("?",qb),questionDot:new Hb("?."),arrow:new Hb("=>",qb),template:new Hb("template"),invalidTemplate:new Hb("invalidTemplate"),ellipsis:new Hb("...",qb),backQuote:new Hb("`",Xb),dollarBraceL:new Hb("${",{beforeExpr:!0,startsExpr:!0}),eq:new Hb("=",{beforeExpr:!0,isAssign:!0}),assign:new Hb("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Hb("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Hb("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Yb("||",1),logicalAND:Yb("&&",2),bitwiseOR:Yb("|",3),bitwiseXOR:Yb("^",4),bitwiseAND:Yb("&",5),equality:Yb("==/!=/===/!==",6),relational:Yb("</>/<=/>=",7),bitShift:Yb("<</>>/>>>",8),plusMin:new Hb("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Yb("%",10),star:Yb("*",10),slash:Yb("/",10),starstar:new Hb("**",{beforeExpr:!0}),coalesce:Yb("??",1),_break:Gb("break"),_case:Gb("case",qb),_catch:Gb("catch"),_continue:Gb("continue"),_debugger:Gb("debugger"),_default:Gb("default",qb),_do:Gb("do",{isLoop:!0,beforeExpr:!0}),_else:Gb("else",qb),_finally:Gb("finally"),_for:Gb("for",{isLoop:!0}),_function:Gb("function",Xb),_if:Gb("if"),_return:Gb("return",qb),_switch:Gb("switch"),_throw:Gb("throw",qb),_try:Gb("try"),_var:Gb("var"),_const:Gb("const"),_while:Gb("while",{isLoop:!0}),_with:Gb("with"),_new:Gb("new",{beforeExpr:!0,startsExpr:!0}),_this:Gb("this",Xb),_super:Gb("super",Xb),_class:Gb("class",Xb),_extends:Gb("extends",qb),_export:Gb("export"),_import:Gb("import",Xb),_null:Gb("null",Xb),_true:Gb("true",Xb),_false:Gb("false",Xb),_in:Gb("in",{beforeExpr:!0,binop:7}),_instanceof:Gb("instanceof",{beforeExpr:!0,binop:7}),_typeof:Gb("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Gb("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Gb("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Zb=/\r\n?|\n|\u2028|\u2029/,Kb=new RegExp(Zb.source,"g");function Jb(e){return 10===e||13===e||8232===e||8233===e}function ex(e,t,n){void 0===n&&(n=e.length);for(var r=t;r<n;r++){var o=e.charCodeAt(r);if(Jb(o))return r<n-1&&13===o&&10===e.charCodeAt(r+1)?r+2:r+1}return-1}var tx=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,nx=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,rx=Object.prototype,ox=rx.hasOwnProperty,ix=rx.toString,ax=Object.hasOwn||function(e,t){return ox.call(e,t)},sx=Array.isArray||function(e){return"[object Array]"===ix.call(e)},lx=Object.create(null);function cx(e){return lx[e]||(lx[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function ux(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}var fx=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,px=function(e,t){this.line=e,this.column=t};px.prototype.offset=function(e){return new px(this.line,this.column+e)};var dx=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function hx(e,t){for(var n=1,r=0;;){var o=ex(e,r,t);if(o<0)return new px(n,t-r);++n,r=o}}var yx={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},mx=!1;function gx(e,t){return 2|(e?4:0)|(t?8:0)}var vx=function(e,t,n){this.options=e=function(e){var t={};for(var n in yx)t[n]=e&&ax(e,n)?e[n]:yx[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!mx&&"object"==typeof console&&console.warn&&(mx=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),sx(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return sx(t.onComment)&&(t.onComment=function(e,t){return function(n,r,o,i,a,s){var l={type:n?"Block":"Line",value:r,start:o,end:i};e.locations&&(l.loc=new dx(this,a,s)),e.ranges&&(l.range=[o,i]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=cx(Lb[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=Ib[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=cx(r);var o=(r?r+" ":"")+Ib.strict;this.reservedWordsStrict=cx(o),this.reservedWordsStrictBind=cx(o+" "+Ib.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Zb).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Qb.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},bx={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};vx.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},bx.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},bx.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},bx.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},bx.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t)return!1;if(2&t)return(4&t)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},bx.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},bx.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},bx.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},bx.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t||2&t&&!(16&t))return!0}return!1},bx.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},vx.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},vx.parse=function(e,t){return new this(t,e).parse()},vx.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},vx.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(vx.prototype,bx);var xx=vx.prototype,wx=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;xx.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){nx.lastIndex=e,e+=nx.exec(this.input)[0].length;var t=wx.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){nx.lastIndex=e+t[0].length;var n=nx.exec(this.input),r=n.index+n[0].length,o=this.input.charAt(r);return";"===o||"}"===o||Zb.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||"!"===o&&"="===this.input.charAt(r+1))}e+=t[0].length,nx.lastIndex=e,e+=nx.exec(this.input)[0].length,";"===this.input[e]&&e++}},xx.eat=function(e){return this.type===e&&(this.next(),!0)},xx.isContextual=function(e){return this.type===Qb.name&&this.value===e&&!this.containsEsc},xx.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},xx.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},xx.canInsertSemicolon=function(){return this.type===Qb.eof||this.type===Qb.braceR||Zb.test(this.input.slice(this.lastTokEnd,this.start))},xx.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},xx.semicolon=function(){this.eat(Qb.semi)||this.insertSemicolon()||this.unexpected()},xx.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},xx.expect=function(e){this.eat(e)||this.unexpected()},xx.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var Sx=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};xx.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},xx.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},xx.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},xx.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var kx=vx.prototype;kx.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==Qb.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,o=Object.keys(this.undefinedExports);r<o.length;r+=1){var i=o[r];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Ex={kind:"loop"},Cx={kind:"switch"};kx.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;nx.lastIndex=this.pos;var t=nx.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r||92===r)return!0;if(e)return!1;if(123===r||r>55295&&r<56320)return!0;if(Ub(r,!0)){for(var o=n+1;Wb(r=this.input.charCodeAt(o),!0);)++o;if(92===r||r>55295&&r<56320)return!0;var i=this.input.slice(n,o);if(!Fb.test(i))return!0}return!1},kx.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;nx.lastIndex=this.pos;var e,t=nx.exec(this.input),n=this.pos+t[0].length;return!(Zb.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(Wb(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},kx.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;nx.lastIndex=this.pos;var n=nx.exec(this.input),r=this.pos+n[0].length;if(Zb.test(this.input.slice(this.pos,r)))return!1;if(e){var o,i=r+5;if("using"!==this.input.slice(r,i)||i===this.input.length||Wb(o=this.input.charCodeAt(i))||o>55295&&o<56320)return!1;nx.lastIndex=i;var a=nx.exec(this.input);if(a&&Zb.test(this.input.slice(i,i+a[0].length)))return!1}if(t){var s,l=r+2;if(!("of"!==this.input.slice(r,l)||l!==this.input.length&&(Wb(s=this.input.charCodeAt(l))||s>55295&&s<56320)))return!1}var c=this.input.charCodeAt(r);return Ub(c,!0)||92===c},kx.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},kx.isUsing=function(e){return this.isUsingKeyword(!1,e)},kx.parseStatement=function(e,t,n){var r,o=this.type,i=this.startNode();switch(this.isLet(e)&&(o=Qb._var,r="let"),o){case Qb._break:case Qb._continue:return this.parseBreakContinueStatement(i,o.keyword);case Qb._debugger:return this.parseDebuggerStatement(i);case Qb._do:return this.parseDoStatement(i);case Qb._for:return this.parseForStatement(i);case Qb._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case Qb._class:return e&&this.unexpected(),this.parseClass(i,!0);case Qb._if:return this.parseIfStatement(i);case Qb._return:return this.parseReturnStatement(i);case Qb._switch:return this.parseSwitchStatement(i);case Qb._throw:return this.parseThrowStatement(i);case Qb._try:return this.parseTryStatement(i);case Qb._const:case Qb._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(i,r);case Qb._while:return this.parseWhileStatement(i);case Qb._with:return this.parseWithStatement(i);case Qb.braceL:return this.parseBlock(!0,i);case Qb.semi:return this.parseEmptyStatement(i);case Qb._export:case Qb._import:if(this.options.ecmaVersion>10&&o===Qb._import){nx.lastIndex=this.pos;var a=nx.exec(this.input),s=this.pos+a[0].length,l=this.input.charCodeAt(s);if(40===l||46===l)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===Qb._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var c=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(c)return t&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===c&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(i,!1,c),this.semicolon(),this.finishNode(i,"VariableDeclaration");var u=this.value,f=this.parseExpression();return o===Qb.name&&"Identifier"===f.type&&this.eat(Qb.colon)?this.parseLabeledStatement(i,u,f,e):this.parseExpressionStatement(i,f)}},kx.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(Qb.semi)||this.insertSemicolon()?e.label=null:this.type!==Qb.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var o=this.labels[r];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},kx.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},kx.parseDoStatement=function(e){return this.next(),this.labels.push(Ex),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(Qb._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Qb.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},kx.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ex),this.enterScope(0),this.expect(Qb.parenL),this.type===Qb.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===Qb._var||this.type===Qb._const||n){var r=this.startNode(),o=n?"let":this.value;return this.next(),this.parseVar(r,!0,o),this.finishNode(r,"VariableDeclaration"),this.parseForAfterInit(e,r,t)}var i=this.isContextual("let"),a=!1,s=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(s){var l=this.startNode();return this.next(),"await using"===s&&this.next(),this.parseVar(l,!0,s),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var c=this.containsEsc,u=new Sx,f=this.start,p=t>-1?this.parseExprSubscripts(u,"await"):this.parseExpression(!0,u);return this.type===Qb._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===Qb._in&&this.unexpected(t),e.await=!0):a&&this.options.ecmaVersion>=8&&(p.start!==f||c||"Identifier"!==p.type||"async"!==p.name?this.options.ecmaVersion>=9&&(e.await=!1):this.unexpected()),i&&a&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,u),this.checkLValPattern(p),this.parseForIn(e,p)):(this.checkExpressionErrors(u,!0),t>-1&&this.unexpected(t),this.parseFor(e,p))},kx.parseForAfterInit=function(e,t,n){return(this.type===Qb._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===t.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Qb._in?n>-1&&this.unexpected(n):e.await=n>-1),this.parseForIn(e,t)):(n>-1&&this.unexpected(n),this.parseFor(e,t))},kx.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Ox|(n?0:_x),!1,t)},kx.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(Qb._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},kx.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Qb.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},kx.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(Qb.braceL),this.labels.push(Cx),this.enterScope(0);for(var n=!1;this.type!==Qb.braceR;)if(this.type===Qb._case||this.type===Qb._default){var r=this.type===Qb._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(Qb.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},kx.parseThrowStatement=function(e){return this.next(),Zb.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Px=[];kx.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(Qb.parenR),e},kx.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===Qb._catch){var t=this.startNode();this.next(),this.eat(Qb.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(Qb._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},kx.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},kx.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Ex),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},kx.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},kx.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},kx.parseLabeledStatement=function(e,t,n,r){for(var o=0,i=this.labels;o<i.length;o+=1)i[o].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===Qb._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var l=this.labels[s];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},kx.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},kx.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(Qb.braceL),e&&this.enterScope(0);this.type!==Qb.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},kx.parseFor=function(e,t){return e.init=t,this.expect(Qb.semi),e.test=this.type===Qb.semi?null:this.parseExpression(),this.expect(Qb.semi),e.update=this.type===Qb.parenR?null:this.parseExpression(),this.expect(Qb.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},kx.parseForIn=function(e,t){var n=this.type===Qb._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(Qb.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},kx.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var o=this.startNode();if(this.parseVarId(o,n),this.eat(Qb.eq)?o.init=this.parseMaybeAssign(t):r||"const"!==n||this.type===Qb._in||this.options.ecmaVersion>=6&&this.isContextual("of")?r||"using"!==n&&"await using"!==n||!(this.options.ecmaVersion>=17)||this.type===Qb._in||this.isContextual("of")?r||"Identifier"===o.id.type||t&&(this.type===Qb._in||this.isContextual("of"))?o.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):this.unexpected(),e.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(Qb.comma))break}return e},kx.parseVarId=function(e,t){e.id="using"===t||"await using"===t?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Ox=1,_x=2;function jx(e,t){var n=t.key.name,r=e[n],o="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(o=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===o||"iset"===r&&"iget"===o||"sget"===r&&"sset"===o||"sset"===r&&"sget"===o?(e[n]="true",!1):!!r||(e[n]=o,!1)}function Tx(e,t){var n=e.computed,r=e.key;return!n&&("Identifier"===r.type&&r.name===t||"Literal"===r.type&&r.value===t)}kx.parseFunction=function(e,t,n,r,o){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===Qb.star&&t&_x&&this.unexpected(),e.generator=this.eat(Qb.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Ox&&(e.id=4&t&&this.type!==Qb.name?null:this.parseIdent(),!e.id||t&_x||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(gx(e.async,e.generator)),t&Ox||(e.id=this.type===Qb.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,o),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(e,t&Ox?"FunctionDeclaration":"FunctionExpression")},kx.parseFunctionParams=function(e){this.expect(Qb.parenL),e.params=this.parseBindingList(Qb.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},kx.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),o=this.startNode(),i=!1;for(o.body=[],this.expect(Qb.braceL);this.type!==Qb.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(o.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(i&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),i=!0):a.key&&"PrivateIdentifier"===a.key.type&&jx(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},kx.parseClassElement=function(e){if(this.eat(Qb.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",o=!1,i=!1,a="method",s=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(Qb.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===Qb.star?s=!0:r="static"}if(n.static=s,!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==Qb.star||this.canInsertSemicolon()?r="async":i=!0),!r&&(t>=9||!i)&&this.eat(Qb.star)&&(o=!0),!r&&!i&&!o){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===Qb.parenL||"method"!==a||o||i){var c=!n.static&&Tx(n,"constructor"),u=c&&e;c&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=c?"constructor":a,this.parseClassMethod(n,o,i,u)}else this.parseClassField(n);return n},kx.isClassElementNameStart=function(){return this.type===Qb.name||this.type===Qb.privateId||this.type===Qb.num||this.type===Qb.string||this.type===Qb.bracketL||this.type.keyword},kx.parseClassElementName=function(e){this.type===Qb.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},kx.parseClassMethod=function(e,t,n,r){var o=e.key;"constructor"===e.kind?(t&&this.raise(o.start,"Constructor can't be a generator"),n&&this.raise(o.start,"Constructor can't be an async method")):e.static&&Tx(e,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var i=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==i.params.length&&this.raiseRecoverable(i.start,"getter should have no params"),"set"===e.kind&&1!==i.params.length&&this.raiseRecoverable(i.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===i.params[0].type&&this.raiseRecoverable(i.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},kx.parseClassField=function(e){return Tx(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Tx(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Qb.eq)?(this.enterScope(576),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},kx.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==Qb.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},kx.parseClassId=function(e,t){this.type===Qb.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},kx.parseClassSuper=function(e){e.superClass=this.eat(Qb._extends)?this.parseExprSubscripts(null,!1):null},kx.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},kx.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,o=0===r?null:this.privateNameStack[r-1],i=0;i<n.length;++i){var a=n[i];ax(t,a.name)||(o?o.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},kx.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==Qb.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},kx.parseExport=function(e,t){if(this.next(),this.eat(Qb.star))return this.parseExportAllDeclaration(e,t);if(this.eat(Qb._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==Qb.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var o=r[n];this.checkUnreserved(o.local),this.checkLocalExport(o.local),"Literal"===o.local.type&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},kx.parseExportDeclaration=function(e){return this.parseStatement(null)},kx.parseExportDefaultDeclaration=function(){var e;if(this.type===Qb._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|Ox,!1,e)}if(this.type===Qb._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var r=this.parseMaybeAssign();return this.semicolon(),r},kx.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),ax(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},kx.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var r=0,o=t.properties;r<o.length;r+=1){var i=o[r];this.checkPatternExport(e,i)}else if("ArrayPattern"===n)for(var a=0,s=t.elements;a<s.length;a+=1){var l=s[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},kx.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var o=r[n];this.checkPatternExport(e,o.id)}},kx.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},kx.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},kx.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(Qb.braceL);!this.eat(Qb.braceR);){if(n)n=!1;else if(this.expect(Qb.comma),this.afterTrailingComma(Qb.braceR))break;t.push(this.parseExportSpecifier(e))}return t},kx.parseImport=function(e){return this.next(),this.type===Qb.string?(e.specifiers=Px,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===Qb.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},kx.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},kx.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},kx.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},kx.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===Qb.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(Qb.comma)))return e;if(this.type===Qb.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(Qb.braceL);!this.eat(Qb.braceR);){if(t)t=!1;else if(this.expect(Qb.comma),this.afterTrailingComma(Qb.braceR))break;e.push(this.parseImportSpecifier())}return e},kx.parseWithClause=function(){var e=[];if(!this.eat(Qb._with))return e;this.expect(Qb.braceL);for(var t={},n=!0;!this.eat(Qb.braceR);){if(n)n=!1;else if(this.expect(Qb.comma),this.afterTrailingComma(Qb.braceR))break;var r=this.parseImportAttribute(),o="Identifier"===r.key.type?r.key.name:r.key.value;ax(t,o)&&this.raiseRecoverable(r.key.start,"Duplicate attribute key '"+o+"'"),t[o]=!0,e.push(r)}return e},kx.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===Qb.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(Qb.colon),this.type!==Qb.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},kx.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Qb.string){var e=this.parseLiteral(this.value);return fx.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},kx.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},kx.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Ax=vx.prototype;Ax.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];this.toAssignable(i,t),"RestElement"!==i.type||"ArrayPattern"!==i.argument.type&&"ObjectPattern"!==i.argument.type||this.raise(i.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Ax.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var o=e[r];o&&this.toAssignable(o,t)}if(n){var i=e[n-1];6===this.options.ecmaVersion&&t&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start)}return e},Ax.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Ax.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Qb.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Ax.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Qb.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(Qb.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case Qb.braceL:return this.parseObj(!0)}return this.parseIdent()},Ax.parseBindingList=function(e,t,n,r){for(var o=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(Qb.comma),t&&this.type===Qb.comma)o.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===Qb.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),o.push(a),this.type===Qb.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}o.push(this.parseAssignableListItem(r))}return o},Ax.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},Ax.parseBindingListItem=function(e){return e},Ax.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Qb.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},Ax.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(ax(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},Ax.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];this.checkLValInnerPattern(i,t,n)}break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var l=s[a];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}},Ax.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Dx=function(e,t,n,r,o){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!o},Mx={b_stat:new Dx("{",!1),b_expr:new Dx("{",!0),b_tmpl:new Dx("${",!1),p_stat:new Dx("(",!1),p_expr:new Dx("(",!0),q_tmpl:new Dx("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Dx("function",!1),f_expr:new Dx("function",!0),f_expr_gen:new Dx("function",!0,!1,null,!0),f_gen:new Dx("function",!1,!1,null,!0)},Nx=vx.prototype;Nx.initialContext=function(){return[Mx.b_stat]},Nx.curContext=function(){return this.context[this.context.length-1]},Nx.braceIsBlock=function(e){var t=this.curContext();return t===Mx.f_expr||t===Mx.f_stat||(e!==Qb.colon||t!==Mx.b_stat&&t!==Mx.b_expr?e===Qb._return||e===Qb.name&&this.exprAllowed?Zb.test(this.input.slice(this.lastTokEnd,this.start)):e===Qb._else||e===Qb.semi||e===Qb.eof||e===Qb.parenR||e===Qb.arrow||(e===Qb.braceL?t===Mx.b_stat:e!==Qb._var&&e!==Qb._const&&e!==Qb.name&&!this.exprAllowed):!t.isExpr)},Nx.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},Nx.updateContext=function(e){var t,n=this.type;n.keyword&&e===Qb.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},Nx.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},Qb.parenR.updateContext=Qb.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Mx.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},Qb.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Mx.b_stat:Mx.b_expr),this.exprAllowed=!0},Qb.dollarBraceL.updateContext=function(){this.context.push(Mx.b_tmpl),this.exprAllowed=!0},Qb.parenL.updateContext=function(e){var t=e===Qb._if||e===Qb._for||e===Qb._with||e===Qb._while;this.context.push(t?Mx.p_stat:Mx.p_expr),this.exprAllowed=!0},Qb.incDec.updateContext=function(){},Qb._function.updateContext=Qb._class.updateContext=function(e){!e.beforeExpr||e===Qb._else||e===Qb.semi&&this.curContext()!==Mx.p_stat||e===Qb._return&&Zb.test(this.input.slice(this.lastTokEnd,this.start))||(e===Qb.colon||e===Qb.braceL)&&this.curContext()===Mx.b_stat?this.context.push(Mx.f_stat):this.context.push(Mx.f_expr),this.exprAllowed=!1},Qb.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},Qb.backQuote.updateContext=function(){this.curContext()===Mx.q_tmpl?this.context.pop():this.context.push(Mx.q_tmpl),this.exprAllowed=!1},Qb.star.updateContext=function(e){if(e===Qb._function){var t=this.context.length-1;this.context[t]===Mx.f_expr?this.context[t]=Mx.f_expr_gen:this.context[t]=Mx.f_gen}this.exprAllowed=!0},Qb.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==Qb.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Ix=vx.prototype;function Rx(e){return"Identifier"===e.type||"ParenthesizedExpression"===e.type&&Rx(e.expression)}function Lx(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&Lx(e.expression)||"ParenthesizedExpression"===e.type&&Lx(e.expression)}Ix.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,o=e.key;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var i=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===i&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[r="$"+r];a?("init"===i?this.strict&&a.init||a.get||a.set:a.init||a[i])&&this.raiseRecoverable(o.start,"Redefinition of property"):a=t[r]={init:!1,get:!1,set:!1},a[i]=!0}}},Ix.parseExpression=function(e,t){var n=this.start,r=this.startLoc,o=this.parseMaybeAssign(e,t);if(this.type===Qb.comma){var i=this.startNodeAt(n,r);for(i.expressions=[o];this.eat(Qb.comma);)i.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(i,"SequenceExpression")}return o},Ix.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,o=-1,i=-1,a=-1;t?(o=t.parenthesizedAssign,i=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Sx,r=!0);var s=this.start,l=this.startLoc;this.type!==Qb.parenL&&this.type!==Qb.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var c=this.parseMaybeConditional(e,t);if(n&&(c=n.call(this,c,s,l)),this.type.isAssign){var u=this.startNodeAt(s,l);return u.operator=this.value,this.type===Qb.eq&&(c=this.toAssignable(c,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.start&&(t.shorthandAssign=-1),this.type===Qb.eq?this.checkLValPattern(c):this.checkLValSimple(c),u.left=c,this.next(),u.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),o>-1&&(t.parenthesizedAssign=o),i>-1&&(t.trailingComma=i),c},Ix.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,o=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return o;if(this.eat(Qb.question)){var i=this.startNodeAt(n,r);return i.test=o,i.consequent=this.parseMaybeAssign(),this.expect(Qb.colon),i.alternate=this.parseMaybeAssign(e),this.finishNode(i,"ConditionalExpression")}return o},Ix.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,o=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||o.start===n&&"ArrowFunctionExpression"===o.type?o:this.parseExprOp(o,n,r,-1,e)},Ix.parseExprOp=function(e,t,n,r,o){var i=this.type.binop;if(null!=i&&(!o||this.type!==Qb._in)&&i>r){var a=this.type===Qb.logicalOR||this.type===Qb.logicalAND,s=this.type===Qb.coalesce;s&&(i=Qb.logicalAND.binop);var l=this.value;this.next();var c=this.start,u=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),c,u,i,o),p=this.buildBinary(t,n,e,f,l,a||s);return(a&&this.type===Qb.coalesce||s&&(this.type===Qb.logicalOR||this.type===Qb.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,o)}return e},Ix.buildBinary=function(e,t,n,r,o,i){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=n,a.operator=o,a.right=r,this.finishNode(a,i?"LogicalExpression":"BinaryExpression")},Ix.parseMaybeUnary=function(e,t,n,r){var o,i=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var s=this.startNode(),l=this.type===Qb.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(s.argument):this.strict&&"delete"===s.operator&&Rx(s.argument)?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):"delete"===s.operator&&Lx(s.argument)?this.raiseRecoverable(s.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(s,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==Qb.privateId){if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(i,a);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==Qb._in&&this.unexpected();return n||!this.eat(Qb.starstar)?o:t?void this.unexpected(this.lastTokStart):this.buildBinary(i,a,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},Ix.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,o=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===o.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return o;var i=this.parseSubscripts(o,n,r,!1,t);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1),e.trailingComma>=i.start&&(e.trailingComma=-1)),i},Ix.parseSubscripts=function(e,t,n,r,o){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,a=!1;;){var s=this.parseSubscript(e,t,n,r,i,a,o);if(s.optional&&(a=!0),s===e||"ArrowFunctionExpression"===s.type){if(a){var l=this.startNodeAt(t,n);l.expression=s,s=this.finishNode(l,"ChainExpression")}return s}e=s}},Ix.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(Qb.arrow)},Ix.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)},Ix.parseSubscript=function(e,t,n,r,o,i,a){var s=this.options.ecmaVersion>=11,l=s&&this.eat(Qb.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(Qb.bracketL);if(c||l&&this.type!==Qb.parenL&&this.type!==Qb.backQuote||this.eat(Qb.dot)){var u=this.startNodeAt(t,n);u.object=e,c?(u.property=this.parseExpression(),this.expect(Qb.bracketR)):this.type===Qb.privateId&&"Super"!==e.type?u.property=this.parsePrivateIdent():u.property=this.parseIdent("never"!==this.options.allowReserved),u.computed=!!c,s&&(u.optional=l),e=this.finishNode(u,"MemberExpression")}else if(!r&&this.eat(Qb.parenL)){var f=new Sx,p=this.yieldPos,d=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(Qb.parenR,this.options.ecmaVersion>=8,!1,f);if(o&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=d,this.awaitIdentPos=h,this.parseSubscriptAsyncArrow(t,n,y,a);this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var m=this.startNodeAt(t,n);m.callee=e,m.arguments=y,s&&(m.optional=l),e=this.finishNode(m,"CallExpression")}else if(this.type===Qb.backQuote){(l||i)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e},Ix.parseExprAtom=function(e,t,n){this.type===Qb.slash&&this.readRegexp();var r,o=this.potentialArrowAt===this.start;switch(this.type){case Qb._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type!==Qb.parenL||this.allowDirectSuper||this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==Qb.dot&&this.type!==Qb.bracketL&&this.type!==Qb.parenL&&this.unexpected(),this.finishNode(r,"Super");case Qb._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case Qb.name:var i=this.start,a=this.startLoc,s=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(Qb._function))return this.overrideContext(Mx.f_expr),this.parseFunction(this.startNodeAt(i,a),0,!1,!0,t);if(o&&!this.canInsertSemicolon()){if(this.eat(Qb.arrow))return this.parseArrowExpression(this.startNodeAt(i,a),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===Qb.name&&!s&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(Qb.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,a),[l],!0,t)}return l;case Qb.regexp:var c=this.value;return(r=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},r;case Qb.num:case Qb.string:return this.parseLiteral(this.value);case Qb._null:case Qb._true:case Qb._false:return(r=this.startNode()).value=this.type===Qb._null?null:this.type===Qb._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case Qb.parenL:var u=this.start,f=this.parseParenAndDistinguishExpression(o,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),f;case Qb.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(Qb.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case Qb.braceL:return this.overrideContext(Mx.b_expr),this.parseObj(!1,e);case Qb._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case Qb._class:return this.parseClass(this.startNode(),!1);case Qb._new:return this.parseNew();case Qb.backQuote:return this.parseTemplate();case Qb._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},Ix.parseExprAtomDefault=function(){this.unexpected()},Ix.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===Qb.parenL&&!e)return this.parseDynamicImport(t);if(this.type===Qb.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},Ix.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(Qb.parenR)?e.options=null:(this.expect(Qb.comma),this.afterTrailingComma(Qb.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(Qb.parenR)||(this.expect(Qb.comma),this.afterTrailingComma(Qb.parenR)||this.unexpected())));else if(!this.eat(Qb.parenR)){var t=this.start;this.eat(Qb.comma)&&this.eat(Qb.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Ix.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Ix.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=null!=t.value?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Ix.parseParenExpression=function(){this.expect(Qb.parenL);var e=this.parseExpression();return this.expect(Qb.parenR),e},Ix.shouldParseArrow=function(e){return!this.canInsertSemicolon()},Ix.parseParenAndDistinguishExpression=function(e,t){var n,r=this.start,o=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,s=this.start,l=this.startLoc,c=[],u=!0,f=!1,p=new Sx,d=this.yieldPos,h=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Qb.parenR;){if(u?u=!1:this.expect(Qb.comma),i&&this.afterTrailingComma(Qb.parenR,!0)){f=!0;break}if(this.type===Qb.ellipsis){a=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===Qb.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var y=this.lastTokEnd,m=this.lastTokEndLoc;if(this.expect(Qb.parenR),e&&this.shouldParseArrow(c)&&this.eat(Qb.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(r,o,c,t);c.length&&!f||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,c.length>1?((n=this.startNodeAt(s,l)).expressions=c,this.finishNodeAt(n,"SequenceExpression",y,m)):n=c[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(r,o);return g.expression=n,this.finishNode(g,"ParenthesizedExpression")}return n},Ix.parseParenItem=function(e){return e},Ix.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Fx=[];Ix.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===Qb.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,o=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,o,!0,!1),this.eat(Qb.parenL)?e.arguments=this.parseExprList(Qb.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Fx,this.finishNode(e,"NewExpression")},Ix.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===Qb.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===Qb.backQuote,this.finishNode(n,"TemplateElement")},Ix.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===Qb.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Qb.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(Qb.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Ix.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===Qb.name||this.type===Qb.num||this.type===Qb.string||this.type===Qb.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Qb.star)&&!Zb.test(this.input.slice(this.lastTokEnd,this.start))},Ix.parseObj=function(e,t){var n=this.startNode(),r=!0,o={};for(n.properties=[],this.next();!this.eat(Qb.braceR);){if(r)r=!1;else if(this.expect(Qb.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Qb.braceR))break;var i=this.parseProperty(e,t);e||this.checkPropClash(i,o,t),n.properties.push(i)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Ix.parseProperty=function(e,t){var n,r,o,i,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Qb.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===Qb.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,t),this.type===Qb.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(o=this.start,i=this.startLoc),e||(n=this.eat(Qb.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(Qb.star),this.parsePropertyName(a)):r=!1,this.parsePropertyValue(a,e,n,r,o,i,t,s),this.finishNode(a,"Property")},Ix.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var n="get"===e.kind?0:1;if(e.value.params.length!==n){var r=e.value.start;"get"===e.kind?this.raiseRecoverable(r,"getter should have no params"):this.raiseRecoverable(r,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Ix.parsePropertyValue=function(e,t,n,r,o,i,a,s){(n||r)&&this.type===Qb.colon&&this.unexpected(),this.eat(Qb.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init"):this.options.ecmaVersion>=6&&this.type===Qb.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(n,r),e.kind="init"):t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===Qb.comma||this.type===Qb.braceR||this.type===Qb.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=o),t?e.value=this.parseMaybeDefault(o,i,this.copyNode(e.key)):this.type===Qb.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(o,i,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected():((n||r)&&this.unexpected(),this.parseGetterSetter(e))},Ix.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(Qb.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(Qb.bracketR),e.key;e.computed=!1}return e.key=this.type===Qb.num||this.type===Qb.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Ix.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Ix.parseMethod=function(e,t,n){var r=this.startNode(),o=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|gx(t,r.generator)|(n?128:0)),this.expect(Qb.parenL),r.params=this.parseBindingList(Qb.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=o,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},Ix.parseArrowExpression=function(e,t,n,r){var o=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|gx(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=o,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},Ix.parseFunctionBody=function(e,t,n,r){var o=t&&this.type!==Qb.braceL,i=this.strict,a=!1;if(o)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!s||(a=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!i&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},Ix.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},Ix.checkParams=function(e,t){for(var n=Object.create(null),r=0,o=e.params;r<o.length;r+=1){var i=o[r];this.checkLValInnerPattern(i,1,t?null:n)}},Ix.parseExprList=function(e,t,n,r){for(var o=[],i=!0;!this.eat(e);){if(i)i=!1;else if(this.expect(Qb.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===Qb.comma?a=null:this.type===Qb.ellipsis?(a=this.parseSpread(r),r&&this.type===Qb.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),o.push(a)}return o},Ix.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),259&this.currentThisScope().flags||"arguments"!==r||this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},Ix.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Ix.parseIdentNode=function(){var e=this.startNode();return this.type===Qb.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,"class"!==e.name&&"function"!==e.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=Qb.name):this.unexpected(),e},Ix.parsePrivateIdent=function(){var e=this.startNode();return this.type===Qb.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},Ix.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===Qb.semi||this.canInsertSemicolon()||this.type!==Qb.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(Qb.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Ix.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var zx=vx.prototype;zx.raise=function(e,t){var n=hx(this.input,e);t+=" ("+n.line+":"+n.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},zx.raiseRecoverable=zx.raise,zx.curPosition=function(){if(this.options.locations)return new px(this.curLine,this.pos-this.lineStart)};var Vx=vx.prototype,Bx=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};Vx.enterScope=function(e){this.scopeStack.push(new Bx(e))},Vx.exitScope=function(){this.scopeStack.pop()},Vx.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Vx.declareName=function(e,t,n){var r=!1;if(2===t){var o=this.currentScope();r=o.lexical.indexOf(e)>-1||o.functions.indexOf(e)>-1||o.var.indexOf(e)>-1,o.lexical.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var i=this.currentScope();r=this.treatFunctionsAsVar?i.lexical.indexOf(e)>-1:i.lexical.indexOf(e)>-1||i.var.indexOf(e)>-1,i.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var s=this.scopeStack[a];if(s.lexical.indexOf(e)>-1&&!(32&s.flags&&s.lexical[0]===e)||!this.treatFunctionsAsVarInScope(s)&&s.functions.indexOf(e)>-1){r=!0;break}if(s.var.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e],259&s.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Vx.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Vx.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Vx.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags)return t}},Vx.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags&&!(16&t.flags))return t}};var Ux=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new dx(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Wx=vx.prototype;function Hx(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}Wx.startNode=function(){return new Ux(this,this.start,this.startLoc)},Wx.startNodeAt=function(e,t){return new Ux(this,e,t)},Wx.finishNode=function(e,t){return Hx.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Wx.finishNodeAt=function(e,t,n,r){return Hx.call(this,e,t,n,r)},Wx.copyNode=function(e){var t=new Ux(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Yx="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",qx=Yx+" Extended_Pictographic",Xx=qx+" EBase EComp EMod EPres ExtPict",$x={9:Yx,10:qx,11:qx,12:Xx,13:Xx,14:Xx},Gx={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},Qx="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Zx="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Kx=Zx+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Jx=Kx+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ew=Jx+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",tw=ew+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",nw={9:Zx,10:Kx,11:Jx,12:ew,13:tw,14:tw+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},rw={};function ow(e){var t=rw[e]={binary:cx($x[e]+" "+Qx),binaryOfStrings:cx(Gx[e]),nonBinary:{General_Category:cx(Qx),Script:cx(nw[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var iw=0,aw=[9,10,11,12,13,14];iw<aw.length;iw+=1)ow(aw[iw]);var sw=vx.prototype,lw=function(e,t){this.parent=e,this.base=t||this};lw.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var n=e;n;n=n.parent)if(t.base===n.base&&t!==n)return!0;return!1},lw.prototype.sibling=function(){return new lw(this.parent,this.base)};var cw=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=rw[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function uw(e){return 105===e||109===e||115===e}function fw(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function pw(e){return e>=65&&e<=90||e>=97&&e<=122}function dw(e){return pw(e)||95===e}function hw(e){return dw(e)||yw(e)}function yw(e){return e>=48&&e<=57}function mw(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function gw(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function vw(e){return e>=48&&e<=55}cw.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("v"),o=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)},cw.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},cw.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var o=n.charCodeAt(e);if(!t&&!this.switchU||o<=55295||o>=57344||e+1>=r)return o;var i=n.charCodeAt(e+1);return i>=56320&&i<=57343?(o<<10)+i-56613888:o},cw.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var o,i=n.charCodeAt(e);return!t&&!this.switchU||i<=55295||i>=57344||e+1>=r||(o=n.charCodeAt(e+1))<56320||o>57343?e+1:e+2},cw.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},cw.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},cw.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},cw.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},cw.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,r=0,o=e;r<o.length;r+=1){var i=o[r],a=this.at(n,t);if(-1===a||a!==i)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},sw.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,o=!1,i=0;i<n.length;i++){var a=n.charAt(i);-1===t.indexOf(a)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(a,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===a&&(r=!0),"v"===a&&(o=!0)}this.options.ecmaVersion>=15&&r&&o&&this.raise(e.start,"Invalid regular expression flag")},sw.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&function(e){for(var t in e)return!0;return!1}(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},sw.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames[r]||e.raise("Invalid named capture referenced")}},sw.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new lw(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},sw.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},sw.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},sw.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},sw.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},sw.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},sw.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,o=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(o=e.lastIntValue),e.eat(125)))return-1!==o&&o<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},sw.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},sw.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},sw.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),r=e.eat(45);if(n||r){for(var o=0;o<n.length;o++){var i=n.charAt(o);n.indexOf(i,o+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(r){var a=this.regexp_eatModifiers(e);n||a||58!==e.current()||e.raise("Invalid regular expression modifiers");for(var s=0;s<a.length;s++){var l=a.charAt(s);(a.indexOf(l,s+1)>-1||n.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},sw.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},sw.regexp_eatModifiers=function(e){for(var t="",n=0;-1!==(n=e.current())&&uw(n);)t+=ux(n),e.advance();return t},sw.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},sw.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},sw.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!fw(t)&&(e.lastIntValue=t,e.advance(),!0)},sw.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!fw(n);)e.advance();return e.pos!==t},sw.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},sw.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var r=0,o=n;r<o.length;r+=1)o[r].separatedFrom(e.branchID)||e.raise("Duplicate capture group name");else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},sw.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},sw.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ux(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ux(e.lastIntValue);return!0}return!1},sw.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return Ub(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},sw.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return Wb(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},sw.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},sw.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},sw.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},sw.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},sw.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},sw.regexp_eatZero=function(e){return 48===e.current()&&!yw(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},sw.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},sw.regexp_eatControlLetter=function(e){var t=e.current();return!!pw(t)&&(e.lastIntValue=t%32,e.advance(),!0)},sw.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,r=e.pos,o=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(o&&i>=55296&&i<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(i-55296)+(s-56320)+65536,!0}e.pos=a,e.lastIntValue=i}return!0}if(o&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(n=e.lastIntValue)>=0&&n<=1114111)return!0;o&&e.raise("Invalid unicode escape"),e.pos=r}return!1},sw.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},sw.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},sw.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===t)||112===t)){var r;if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===r&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return 0},sw.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var o=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,o)}return 0},sw.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){ax(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},sw.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},sw.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";dw(t=e.current());)e.lastStringValue+=ux(t),e.advance();return""!==e.lastStringValue},sw.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";hw(t=e.current());)e.lastStringValue+=ux(t),e.advance();return""!==e.lastStringValue},sw.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},sw.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},sw.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},sw.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},sw.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||vw(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},sw.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},sw.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var r=e.pos;e.eatChars([38,38]);)38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))?2!==t&&(n=1):e.raise("Invalid character in character class");if(r!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},sw.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return-1!==n&&-1!==r&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},sw.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},sw.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&2===r&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var o=this.regexp_eatCharacterClassEscape(e);if(o)return o;e.pos=t}return null},sw.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},sw.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},sw.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},sw.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!(!this.regexp_eatCharacterEscape(e)&&!this.regexp_eatClassSetReservedPunctuator(e)&&(e.eat(98)?(e.lastIntValue=8,0):(e.pos=t,1)));var n=e.current();return!(n<0||n===e.lookahead()&&function(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}(n)||function(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}(n)||(e.advance(),e.lastIntValue=n,0))},sw.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!function(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}(t)&&(e.lastIntValue=t,e.advance(),!0)},sw.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!yw(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},sw.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},sw.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;yw(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},sw.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;mw(n=e.current());)e.lastIntValue=16*e.lastIntValue+gw(n),e.advance();return e.pos!==t},sw.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},sw.regexp_eatOctalDigit=function(e){var t=e.current();return vw(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},sw.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var o=e.current();if(!mw(o))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+gw(o),e.advance()}return!0};var bw=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new dx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},xw=vx.prototype;function ww(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}xw.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new bw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},xw.getToken=function(){return this.next(),new bw(this)},"undefined"!=typeof Symbol&&(xw[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===Qb.eof,value:t}}}}),xw.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Qb.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},xw.readToken=function(e){return Ub(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},xw.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},xw.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,o=t;(r=ex(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},xw.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Jb(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},xw.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&tx.test(String.fromCharCode(e))))break e;++this.pos}}},xw.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},xw.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(Qb.ellipsis)):(++this.pos,this.finishToken(Qb.dot))},xw.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(Qb.assign,2):this.finishOp(Qb.slash,1)},xw.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?Qb.star:Qb.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=Qb.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(Qb.assign,n+1):this.finishOp(r,n)},xw.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Qb.assign,3):this.finishOp(124===e?Qb.logicalOR:Qb.logicalAND,2):61===t?this.finishOp(Qb.assign,2):this.finishOp(124===e?Qb.bitwiseOR:Qb.bitwiseAND,1)},xw.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Qb.assign,2):this.finishOp(Qb.bitwiseXOR,1)},xw.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!Zb.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Qb.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(Qb.assign,2):this.finishOp(Qb.plusMin,1)},xw.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(Qb.assign,n+1):this.finishOp(Qb.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(Qb.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},xw.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(Qb.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Qb.arrow)):this.finishOp(61===e?Qb.eq:Qb.prefix,1)},xw.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(Qb.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Qb.assign,3):this.finishOp(Qb.coalesce,2)}return this.finishOp(Qb.question,1)},xw.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,Ub(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(Qb.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ux(e)+"'")},xw.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Qb.parenL);case 41:return++this.pos,this.finishToken(Qb.parenR);case 59:return++this.pos,this.finishToken(Qb.semi);case 44:return++this.pos,this.finishToken(Qb.comma);case 91:return++this.pos,this.finishToken(Qb.bracketL);case 93:return++this.pos,this.finishToken(Qb.bracketR);case 123:return++this.pos,this.finishToken(Qb.braceL);case 125:return++this.pos,this.finishToken(Qb.braceR);case 58:return++this.pos,this.finishToken(Qb.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Qb.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(Qb.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ux(e)+"'")},xw.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},xw.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Zb.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var o=this.input.slice(n,this.pos);++this.pos;var i=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(i);var s=this.regexpState||(this.regexpState=new cw(this));s.reset(n,o,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(o,a)}catch(e){}return this.finishToken(Qb.regexp,{pattern:o,flags:a,value:l})},xw.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,o=n&&48===this.input.charCodeAt(this.pos),i=this.pos,a=0,s=0,l=0,c=null==t?1/0:t;l<c;++l,++this.pos){var u=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===u)o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=u;else{if((f=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;s=u,a=a*e+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||null!=t&&this.pos-i!==t?null:a},xw.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=ww(this.input.slice(t,this.pos)),++this.pos):Ub(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Qb.num,n)},xw.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var o=ww(this.input.slice(t,this.pos));return++this.pos,Ub(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Qb.num,o)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),Ub(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i,a=(i=this.input.slice(t,this.pos),n?parseInt(i,8):parseFloat(i.replace(/_/g,"")));return this.finishToken(Qb.num,a)},xw.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},xw.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Jb(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(Qb.string,t)};var Sw={};function kw(e,t,n,r,o){n||(n=Ow),function e(r,o,i){var a=i||r.type;n[a](r,o,e),t[a]&&t[a](r,o)}(e,r,o)}function Ew(e,t,n,r,o){var i=n?function(e,t){var n=Object.create(t||Ow);for(var r in e)n[r]=e[r];return n}(n,r||void 0):r;!function e(t,n,r){i[r||t.type](t,n,e)}(e,t,o)}function Cw(e,t,n){n(e,t)}function Pw(e,t,n){}xw.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Sw)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},xw.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Sw;this.raise(e,t)},xw.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Qb.template&&this.type!==Qb.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(Qb.template,e)):36===n?(this.pos+=2,this.finishToken(Qb.dollarBraceL)):(++this.pos,this.finishToken(Qb.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Jb(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},xw.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Qb.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},xw.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ux(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(r,8);return o>255&&(r=r.slice(0,-1),o=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return Jb(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},xw.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},xw.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Wb(o,r))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var i=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?Ub:Wb)(a,r)||this.invalidStringToken(i,"Invalid Unicode escape"),e+=ux(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},xw.readWord=function(){var e=this.readWord1(),t=Qb.name;return this.keywords.test(e)&&(t=$b[e]),this.finishToken(t,e)},vx.acorn={Parser:vx,version:"8.15.0",defaultOptions:yx,Position:px,SourceLocation:dx,getLineInfo:hx,Node:Ux,TokenType:Hb,tokTypes:Qb,keywordTypes:$b,TokContext:Dx,tokContexts:Mx,isIdentifierChar:Wb,isIdentifierStart:Ub,Token:bw,isNewLine:Jb,lineBreak:Zb,lineBreakG:Kb,nonASCIIwhitespace:tx};var Ow={};Ow.Program=Ow.BlockStatement=Ow.StaticBlock=function(e,t,n){for(var r=0,o=e.body;r<o.length;r+=1)n(o[r],t,"Statement")},Ow.Statement=Cw,Ow.EmptyStatement=Pw,Ow.ExpressionStatement=Ow.ParenthesizedExpression=Ow.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},Ow.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},Ow.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},Ow.BreakStatement=Ow.ContinueStatement=Pw,Ow.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},Ow.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var r=0,o=e.cases;r<o.length;r+=1)n(o[r],t)},Ow.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var r=0,o=e.consequent;r<o.length;r+=1)n(o[r],t,"Statement")},Ow.ReturnStatement=Ow.YieldExpression=Ow.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},Ow.ThrowStatement=Ow.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},Ow.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},Ow.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},Ow.WhileStatement=Ow.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},Ow.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},Ow.ForInStatement=Ow.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},Ow.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},Ow.DebuggerStatement=Pw,Ow.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},Ow.VariableDeclaration=function(e,t,n){for(var r=0,o=e.declarations;r<o.length;r+=1)n(o[r],t)},Ow.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},Ow.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var r=0,o=e.params;r<o.length;r+=1)n(o[r],t,"Pattern");n(e.body,t,e.expression?"Expression":"Statement")},Ow.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},Ow.VariablePattern=Pw,Ow.MemberPattern=Cw,Ow.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},Ow.ArrayPattern=function(e,t,n){for(var r=0,o=e.elements;r<o.length;r+=1){var i=o[r];i&&n(i,t,"Pattern")}},Ow.ObjectPattern=function(e,t,n){for(var r=0,o=e.properties;r<o.length;r+=1){var i=o[r];"Property"===i.type?(i.computed&&n(i.key,t,"Expression"),n(i.value,t,"Pattern")):"RestElement"===i.type&&n(i.argument,t,"Pattern")}},Ow.Expression=Cw,Ow.ThisExpression=Ow.Super=Ow.MetaProperty=Pw,Ow.ArrayExpression=function(e,t,n){for(var r=0,o=e.elements;r<o.length;r+=1){var i=o[r];i&&n(i,t,"Expression")}},Ow.ObjectExpression=function(e,t,n){for(var r=0,o=e.properties;r<o.length;r+=1)n(o[r],t)},Ow.FunctionExpression=Ow.ArrowFunctionExpression=Ow.FunctionDeclaration,Ow.SequenceExpression=function(e,t,n){for(var r=0,o=e.expressions;r<o.length;r+=1)n(o[r],t,"Expression")},Ow.TemplateLiteral=function(e,t,n){for(var r=0,o=e.quasis;r<o.length;r+=1)n(o[r],t);for(var i=0,a=e.expressions;i<a.length;i+=1)n(a[i],t,"Expression")},Ow.TemplateElement=Pw,Ow.UnaryExpression=Ow.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},Ow.BinaryExpression=Ow.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},Ow.AssignmentExpression=Ow.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},Ow.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},Ow.NewExpression=Ow.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var r=0,o=e.arguments;r<o.length;r+=1)n(o[r],t,"Expression")},Ow.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},Ow.ExportNamedDeclaration=Ow.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},Ow.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},Ow.ImportDeclaration=function(e,t,n){for(var r=0,o=e.specifiers;r<o.length;r+=1)n(o[r],t);n(e.source,t,"Expression")},Ow.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},Ow.ImportSpecifier=Ow.ImportDefaultSpecifier=Ow.ImportNamespaceSpecifier=Ow.Identifier=Ow.PrivateIdentifier=Ow.Literal=Pw,Ow.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},Ow.ClassDeclaration=Ow.ClassExpression=function(e,t,n){return n(e,t,"Class")},Ow.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},Ow.ClassBody=function(e,t,n){for(var r=0,o=e.body;r<o.length;r+=1)n(o[r],t)},Ow.MethodDefinition=Ow.PropertyDefinition=Ow.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")};const{stringify:_w}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const jw={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Tw=17,Aw={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Tw,ClassExpression:Tw,FunctionExpression:Tw,ObjectExpression:Tw,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Dw(e,t){const{generator:n}=e;if(e.write("("),null!=t&&t.length>0){n[t[0].type](t[0],e);const{length:r}=t;for(let o=1;o<r;o++){const r=t[o];e.write(", "),n[r.type](r,e)}}e.write(")")}function Mw(e,t,n,r){const o=e.expressionsPrecedence[t.type];if(o===Tw)return!0;const i=e.expressionsPrecedence[n.type];return o!==i?!r&&15===o&&14===i&&"**"===n.operator||o<i:(13===o||14===o)&&("**"===t.operator&&"**"===n.operator?!r:13===o&&13===i&&("??"===t.operator||"??"===n.operator)||(r?jw[t.operator]<=jw[n.operator]:jw[t.operator]<jw[n.operator]))}function Nw(e,t,n,r){const{generator:o}=e;Mw(e,t,n,r)?(e.write("("),o[t.type](t,e),e.write(")")):o[t.type](t,e)}function Iw(e,t,n,r){const o=t.split("\n"),i=o.length-1;if(e.write(o[0].trim()),i>0){e.write(r);for(let t=1;t<i;t++)e.write(n+o[t].trim()+r);e.write(n+o[i].trim())}}function Rw(e,t,n,r){const{length:o}=t;for(let i=0;i<o;i++){const o=t[i];e.write(n),"L"===o.type[0]?e.write("// "+o.value.trim()+"\n",o):(e.write("/*"),Iw(e,o.value,n,r),e.write("*/"+r))}}function Lw(e,t){const{generator:n}=e,{declarations:r}=t;e.write(t.kind+" ");const{length:o}=r;if(o>0){n.VariableDeclarator(r[0],e);for(let t=1;t<o;t++)e.write(", "),n.VariableDeclarator(r[t],e)}}let Fw,zw,Vw,Bw,Uw,Ww;const Hw={Program(e,t){const n=t.indent.repeat(t.indentLevel),{lineEnd:r,writeComments:o}=t;o&&null!=e.comments&&Rw(t,e.comments,n,r);const i=e.body,{length:a}=i;for(let e=0;e<a;e++){const a=i[e];o&&null!=a.comments&&Rw(t,a.comments,n,r),t.write(n),this[a.type](a,t),t.write(r)}o&&null!=e.trailingComments&&Rw(t,e.trailingComments,n,r)},BlockStatement:Ww=function(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t,i=n+t.indent;t.write("{");const a=e.body;if(null!=a&&a.length>0){t.write(r),o&&null!=e.comments&&Rw(t,e.comments,i,r);const{length:s}=a;for(let e=0;e<s;e++){const n=a[e];o&&null!=n.comments&&Rw(t,n.comments,i,r),t.write(i),this[n.type](n,t),t.write(r)}t.write(n)}else o&&null!=e.comments&&(t.write(r),Rw(t,e.comments,i,r),t.write(n));o&&null!=e.trailingComments&&Rw(t,e.trailingComments,i,r),t.write("}"),t.indentLevel--},ClassBody:Ww,StaticBlock(e,t){t.write("static "),this.BlockStatement(e,t)},EmptyStatement(e,t){t.write(";")},ExpressionStatement(e,t){const n=t.expressionsPrecedence[e.expression.type];n===Tw||3===n&&"O"===e.expression.left.type[0]?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),null!=e.alternate&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement(e,t){t.write("break"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement(e,t){t.write("continue"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t;t.indentLevel++;const i=n+t.indent,a=i+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+r);const{cases:s}=e,{length:l}=s;for(let e=0;e<l;e++){const n=s[e];o&&null!=n.comments&&Rw(t,n.comments,i,r),n.test?(t.write(i+"case "),this[n.test.type](n.test,t),t.write(":"+r)):t.write(i+"default:"+r);const{consequent:l}=n,{length:c}=l;for(let e=0;e<c;e++){const n=l[e];o&&null!=n.comments&&Rw(t,n.comments,a,r),t.write(a),this[n.type](n,t),t.write(r)}}t.indentLevel-=2,t.write(n+"}")},ReturnStatement(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){const{handler:n}=e;null==n.param?t.write(" catch "):(t.write(" catch ("),this[n.param.type](n.param,t),t.write(") ")),this[n.body.type](n.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement(e,t){if(t.write("for ("),null!=e.init){const{init:n}=e;"V"===n.type[0]?Lw(t,n):this[n.type](n,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:Fw=function(e,t){t.write(`for ${e.await?"await ":""}(`);const{left:n}=e;"V"===n.type[0]?Lw(t,n):this[n.type](n,t),t.write("I"===e.type[3]?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:Fw,DebuggerStatement(e,t){t.write("debugger;",e)},FunctionDeclaration:zw=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),Dw(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:zw,VariableDeclaration(e,t){Lw(t,e),t.write(";")},VariableDeclarator(e,t){this[e.id.type](e.id,t),null!=e.init&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration(e,t){if(t.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){t.write("extends ");const{superClass:n}=e,{type:r}=n,o=t.expressionsPrecedence[r];"C"===r[0]&&"l"===r[1]&&"E"===r[5]||!(o===Tw||o<t.expressionsPrecedence.ClassExpression)?this[n.type](n,t):(t.write("("),this[e.superClass.type](n,t),t.write(")")),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration(e,t){t.write("import ");const{specifiers:n,attributes:r}=e,{length:o}=n;let i=0;if(o>0){for(;i<o;){i>0&&t.write(", ");const e=n[i],r=e.type[6];if("D"===r)t.write(e.local.name,e),i++;else{if("N"!==r)break;t.write("* as "+e.local.name,e),i++}}if(i<o){for(t.write("{");;){const e=n[i],{name:r}=e.imported;if(t.write(r,e),r!==e.local.name&&t.write(" as "+e.local.name),!(++i<o))break;t.write(", ")}t.write("}")}t.write(" from ")}if(this.Literal(e.source,t),r&&r.length>0){t.write(" with { ");for(let e=0;e<r.length;e++)this.ImportAttribute(r[e],t),e<r.length-1&&t.write(", ");t.write(" }")}t.write(";")},ImportAttribute(e,t){this.Identifier(e.key,t),t.write(": "),this.Literal(e.value,t)},ImportExpression(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),null!=t.expressionsPrecedence[e.declaration.type]&&"F"!==e.declaration.type[0]&&t.write(";")},ExportNamedDeclaration(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");const{specifiers:n}=e,{length:r}=n;if(r>0)for(let e=0;;){const o=n[e],{name:i}=o.local;if(t.write(i,o),i!==o.exported.name&&t.write(" as "+o.exported.name),!(++e<r))break;t.write(", ")}if(t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),e.attributes&&e.attributes.length>0){t.write(" with { ");for(let n=0;n<e.attributes.length;n++)this.ImportAttribute(e.attributes[n],t),n<e.attributes.length-1&&t.write(", ");t.write(" }")}t.write(";")}},ExportAllDeclaration(e,t){if(null!=e.exported?t.write("export * as "+e.exported.name+" from "):t.write("export * from "),this.Literal(e.source,t),e.attributes&&e.attributes.length>0){t.write(" with { ");for(let n=0;n<e.attributes.length;n++)this.ImportAttribute(e.attributes[n],t),n<e.attributes.length-1&&t.write(", ");t.write(" }")}t.write(";")},MethodDefinition(e,t){e.static&&t.write("static ");const n=e.kind[0];"g"!==n&&"s"!==n||t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),Dw(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression(e,t){t.write(e.async?"async ":"",e);const{params:n}=e;null!=n&&(1===n.length&&"I"===n[0].type[0]?t.write(n[0].name,n[0]):Dw(t,e.params)),t.write(" => "),"O"===e.body.type[0]?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression(e,t){t.write("this",e)},Super(e,t){t.write("super",e)},RestElement:Vw=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:Vw,YieldExpression(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression(e,t){t.write("await ",e),Nw(t,e.argument,e)},TemplateLiteral(e,t){const{quasis:n,expressions:r}=e;t.write("`");const{length:o}=r;for(let e=0;e<o;e++){const o=r[e],i=n[e];t.write(i.value.raw,i),t.write("${"),this[o.type](o,t),t.write("}")}const i=n[n.length-1];t.write(i.value.raw,i),t.write("`")},TemplateElement(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression(e,t){Nw(t,e.tag,e),this[e.quasi.type](e.quasi,t)},ArrayExpression:Uw=function(e,t){if(t.write("["),e.elements.length>0){const{elements:n}=e,{length:r}=n;for(let e=0;;){const o=n[e];if(null!=o&&this[o.type](o,t),!(++e<r)){null==o&&t.write(", ");break}t.write(", ")}}t.write("]")},ArrayPattern:Uw,ObjectExpression(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:o}=t,i=n+t.indent;if(t.write("{"),e.properties.length>0){t.write(r),o&&null!=e.comments&&Rw(t,e.comments,i,r);const a=","+r,{properties:s}=e,{length:l}=s;for(let e=0;;){const n=s[e];if(o&&null!=n.comments&&Rw(t,n.comments,i,r),t.write(i),this[n.type](n,t),!(++e<l))break;t.write(a)}t.write(r),o&&null!=e.trailingComments&&Rw(t,e.trailingComments,i,r),t.write(n+"}")}else o?null!=e.comments?(t.write(r),Rw(t,e.comments,i,r),null!=e.trailingComments&&Rw(t,e.trailingComments,i,r),t.write(n+"}")):null!=e.trailingComments?(t.write(r),Rw(t,e.trailingComments,i,r),t.write(n+"}")):t.write("}"):t.write("}");t.indentLevel--},Property(e,t){e.method||"i"!==e.kind[0]?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},PropertyDefinition(e,t){e.static&&t.write("static "),e.computed&&t.write("["),this[e.key.type](e.key,t),e.computed&&t.write("]"),null!=e.value?(t.write(" = "),this[e.value.type](e.value,t),t.write(";")):"F"!==e.key.type[0]&&t.write(";")},ObjectPattern(e,t){if(t.write("{"),e.properties.length>0){const{properties:n}=e,{length:r}=n;for(let e=0;this[n[e].type](n[e],t),++e<r;)t.write(", ")}t.write("}")},SequenceExpression(e,t){Dw(t,e.expressions)},UnaryExpression(e,t){if(e.prefix){const{operator:n,argument:r,argument:{type:o}}=e;t.write(n);const i=Mw(t,r,e);i||!(n.length>1)&&("U"!==o[0]||"n"!==o[1]&&"p"!==o[1]||!r.prefix||r.operator[0]!==n||"+"!==n&&"-"!==n)||t.write(" "),i?(t.write(n.length>1?" (":"("),this[o](r,t),t.write(")")):this[o](r,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:Bw=function(e,t){const n="in"===e.operator;n&&t.write("("),Nw(t,e.left,e,!1),t.write(" "+e.operator+" "),Nw(t,e.right,e,!0),n&&t.write(")")},LogicalExpression:Bw,ConditionalExpression(e,t){const{test:n}=e,r=t.expressionsPrecedence[n.type];r===Tw||r<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[n.type](n,t),t.write(")")):this[n.type](n,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression(e,t){t.write("new ");const n=t.expressionsPrecedence[e.callee.type];n===Tw||n<t.expressionsPrecedence.CallExpression||function(e){let t=e;for(;null!=t;){const{type:e}=t;if("C"===e[0]&&"a"===e[1])return!0;if("M"!==e[0]||"e"!==e[1]||"m"!==e[2])return!1;t=t.object}}(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),Dw(t,e.arguments)},CallExpression(e,t){const n=t.expressionsPrecedence[e.callee.type];n===Tw||n<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),Dw(t,e.arguments)},ChainExpression(e,t){this[e.expression.type](e.expression,t)},MemberExpression(e,t){const n=t.expressionsPrecedence[e.object.type];n===Tw||n<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(e.optional?t.write("?."):t.write("."),this[e.property.type](e.property,t))},MetaProperty(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier(e,t){t.write(e.name,e)},PrivateIdentifier(e,t){t.write(`#${e.name}`,e)},Literal(e,t){null!=e.raw?t.write(e.raw,e):null!=e.regex?this.RegExpLiteral(e,t):null!=e.bigint?t.write(e.bigint+"n",e):t.write(_w(e.value),e)},RegExpLiteral(e,t){const{regex:n}=e;t.write(`/${n.pattern}/${n.flags}`,e)}},Yw={};class qw{constructor(e){const t=null==e?Yw:e;this.output="",null!=t.output?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=null!=t.generator?t.generator:Hw,this.expressionsPrecedence=null!=t.expressionsPrecedence?t.expressionsPrecedence:Aw,this.indent=null!=t.indent?t.indent:"  ",this.lineEnd=null!=t.lineEnd?t.lineEnd:"\n",this.indentLevel=null!=t.startingIndentLevel?t.startingIndentLevel:0,this.writeComments=!!t.comments&&t.comments,null!=t.sourceMap&&(this.write=null==t.output?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split("\n").length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,t){this.output+=e,this.map(e,t)}writeToStreamAndMap(e,t){this.output.write(e),this.map(e,t)}map(e,t){if(null!=t){const{type:n}=t;if("L"===n[0]&&"n"===n[2])return this.column=0,void this.line++;if(null!=t.loc){const{mapping:e}=this;e.original=t.loc.start,e.name=t.name,this.sourceMap.addMapping(e)}if("T"===n[0]&&"E"===n[8]||"L"===n[0]&&"i"===n[1]&&"string"==typeof t.value){const{length:t}=e;let{column:n,line:r}=this;for(let o=0;o<t;o++)"\n"===e[o]?(n=0,r++):n++;return this.column=n,void(this.line=r)}}const{length:n}=e,{lineEnd:r}=this;n>0&&(this.lineEndSize>0&&(1===r.length?e[n-1]===r:e.endsWith(r))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}}var Xw=Object.defineProperty,$w=(e,t,n)=>((e,t,n)=>t in e?Xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Gw{constructor(){$w(this,"scopes",[]),$w(this,"scopeTypes",[]),$w(this,"scopeCounts",new Map),$w(this,"contextBoundVars",new Set),$w(this,"arrayPatternElements",new Set),$w(this,"rootParams",new Set),$w(this,"varKinds",new Map),$w(this,"loopVars",new Set),$w(this,"loopVarNames",new Map),$w(this,"paramIdCounter",0),$w(this,"cacheIdCounter",0),$w(this,"tempVarCounter",0),this.pushScope("glb")}get nextParamIdArg(){return{type:"Identifier",name:`'p${this.paramIdCounter++}'`}}get nextCacheIdArg(){return{type:"Identifier",name:`'cache_${this.cacheIdCounter++}'`}}pushScope(e){this.scopes.push(new Map),this.scopeTypes.push(e),this.scopeCounts.set(e,(this.scopeCounts.get(e)||0)+1)}popScope(){this.scopes.pop(),this.scopeTypes.pop()}getCurrentScopeType(){return this.scopeTypes[this.scopeTypes.length-1]}getCurrentScopeCount(){return this.scopeCounts.get(this.getCurrentScopeType())||1}addContextBoundVar(e,t=!1){this.contextBoundVars.add(e),t&&this.rootParams.add(e)}addArrayPatternElement(e){this.arrayPatternElements.add(e)}isContextBound(e){return this.contextBoundVars.has(e)}isArrayPatternElement(e){return this.arrayPatternElements.has(e)}isRootParam(e){return this.rootParams.has(e)}addLoopVariable(e,t){this.loopVars.add(e),this.loopVarNames.set(e,t)}getLoopVariableName(e){return this.loopVarNames.get(e)}isLoopVariable(e){return this.loopVars.has(e)}addVariable(e,t){if(this.isContextBound(e))return e;const n=this.scopes[this.scopes.length-1],r=this.scopeTypes[this.scopeTypes.length-1],o=`${r}${this.scopeCounts.get(r)||1}_${e}`;return n.set(e,o),this.varKinds.set(o,t),o}getVariable(e){if(this.loopVars.has(e)){const t=this.loopVarNames.get(e);if(t)return[t,"let"]}if(this.isContextBound(e))return[e,"let"];for(let t=this.scopes.length-1;t>=0;t--){const n=this.scopes[t];if(n.has(e)){const t=n.get(e);return[t,this.varKinds.get(t)||"let"]}}return[e,"let"]}generateTempVar(){return"temp_"+ ++this.tempVarCounter}}const Qw="$",Zw={type:"Identifier",name:"undefined"};function Kw(e,t){if(e.computed&&"Identifier"===e.property.type){if(t.isLoopVariable(e.property.name))return;if(!t.isContextBound(e.property.name)){const[n,r]=t.getVariable(e.property.name);e.property={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},e.property={type:"MemberExpression",object:e.property,property:{type:"Literal",value:0},computed:!0}}}if(e.computed&&"Identifier"===e.object.type){if(t.isLoopVariable(e.object.name))return;if(!t.isContextBound(e.object.name)){const[n,r]=t.getVariable(e.object.name);e.object={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}if("MemberExpression"===e.property.type){const n=e.property;n._indexTransformed||(Kw(n,t),n._indexTransformed=!0)}}}function Jw(e,t,n){if(e.object&&"Identifier"===e.object.type&&"Math"===e.object.name)return;const r="if"==n.getCurrentScopeType(),o="els"==n.getCurrentScopeType(),i="for"==n.getCurrentScopeType();(r||o||i||!e.object||"Identifier"!==e.object.type||!n.isContextBound(e.object.name)||n.isRootParam(e.object.name))&&(e._indexTransformed||(Kw(e,n),e._indexTransformed=!0))}function eS(e,t){e.declarations.forEach(n=>{"na"==n.init.name&&(n.init.name="NaN");const r=n.init&&"MemberExpression"===n.init.type&&n.init.object&&("context"===n.init.object.name||n.init.object.name===Qw||"context2"===n.init.object.name),o=n.init&&"MemberExpression"===n.init.type&&n.init.object?.object&&("context"===n.init.object.object.name||n.init.object.object.name===Qw||"context2"===n.init.object.object.name),i=n.init&&"ArrowFunctionExpression"===n.init.type;if(r)return n.id.name&&t.addContextBoundVar(n.id.name),n.id.properties&&n.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}),void(n.init.object.name=Qw);if(o)return n.id.name&&t.addContextBoundVar(n.id.name),n.id.properties&&n.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}),void(n.init.object.object.name=Qw);i&&n.init.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name)});const a=t.addVariable(n.id.name,e.kind),s=e.kind;n.init&&!i&&("CallExpression"===n.init.type&&"MemberExpression"===n.init.callee.type&&n.init.callee.object&&"Identifier"===n.init.callee.object.type&&t.isContextBound(n.init.callee.object.name)?cS(n.init,t):Ew(n.init,{parent:n.init},{Identifier(e,n){e.parent=n.parent,tS(e,t);const r=e.parent&&"BinaryExpression"===e.parent.type,o=e.parent&&"ConditionalExpression"===e.parent.type;"Identifier"===e.type&&(r||o)&&Object.assign(e,{type:"MemberExpression",object:{type:"Identifier",name:e.name},property:{type:"Literal",value:0},computed:!0})},CallExpression(e,n,r){"Identifier"===e.callee.type&&(e.callee.parent=e),e.arguments.forEach(t=>{"Identifier"===t.type&&(t.parent=e)}),cS(e,t),e.arguments.forEach(t=>r(t,{parent:e}))},BinaryExpression(e,t,n){"Identifier"===e.left.type&&(e.left.parent=e),"Identifier"===e.right.type&&(e.right.parent=e),n(e.left,{parent:e}),n(e.right,{parent:e})},MemberExpression(e,n,r){"Identifier"===e.object.type&&(e.object.parent=e),"Identifier"===e.property.type&&(e.property.parent=e),Kw(e,t),e.object&&r(e.object,{parent:e})}}));const l={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:s},computed:!1},property:{type:"Identifier",name:a},computed:!1},c=t.isArrayPatternElement(n.id.name),u=!c&&n.init&&"MemberExpression"===n.init.type&&n.init.computed&&n.init.property&&("Literal"===n.init.property.type||"MemberExpression"===n.init.property.type);"MemberExpression"===n.init?.property?.type&&(n.init.property._indexTransformed||(Kw(n.init.property,t),n.init.property._indexTransformed=!0));const f={type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:l,right:n.init?i||c?n.init:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:"init"},computed:!1},arguments:u?[l,n.init.object,n.init.property]:[l,n.init]}:{type:"Identifier",name:"undefined"}}};if(c){f.expression.right.object.property.name+=`?.[0][${n.init.property.value}]`;const e=f.expression.right.object;f.expression.right={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:"init"},computed:!1},arguments:[l,e]}}i&&(t.pushScope("fn"),Ew(n.init.body,t,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},IfStatement(e,t,n){t.pushScope("if"),n(e.consequent,t),e.alternate&&(t.pushScope("els"),n(e.alternate,t),t.popScope()),t.popScope()},VariableDeclaration(e,t){eS(e,t)},Identifier(e,t){tS(e,t)},AssignmentExpression(e,t){nS(e,t)}}),t.popScope()),Object.assign(e,f)})}function tS(e,t){if(e.name!==Qw){if("Math"===e.name||"NaN"===e.name||"undefined"===e.name||"Infinity"===e.name||"null"===e.name||e.name.startsWith("'")&&e.name.endsWith("'")||e.name.startsWith('"')&&e.name.endsWith('"')||e.name.startsWith("`")&&e.name.endsWith("`"))return;if(t.isLoopVariable(e.name))return;if(t.isContextBound(e.name)&&!t.isRootParam(e.name))return;const n=e.parent&&"MemberExpression"===e.parent.type&&e.parent.object===e&&t.isContextBound(e.name),r=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee&&"MemberExpression"===e.parent.callee.type&&"param"===e.parent.callee.property.name;e.parent&&"AssignmentExpression"===e.parent.type&&e.parent.left;const o=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee&&"MemberExpression"===e.parent.callee.type&&t.isContextBound(e.parent.callee.object.name),i=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed,a=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.property===e&&e.parent.parent&&"CallExpression"===e.parent.parent.type&&e.parent.parent.callee&&"MemberExpression"===e.parent.parent.callee.type&&t.isContextBound(e.parent.parent.callee.object.name),s=e.parent&&"CallExpression"===e.parent.type&&e.parent.callee===e;if(n||r||o||a||s){if(s)return;const[n,r]=t.getVariable(e.name);return void Object.assign(e,{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1})}const[l,c]=t.getVariable(e.name),u={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:c},computed:!1},property:{type:"Identifier",name:l},computed:!1};e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.object===e||i?Object.assign(e,u):Object.assign(e,{type:"MemberExpression",object:u,property:{type:"Literal",value:0},computed:!0})}}function nS(e,t){if("Identifier"===e.left.type){const[n,r]=t.getVariable(e.left.name),o={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1};e.left={type:"MemberExpression",object:o,property:{type:"Literal",value:0},computed:!0}}Ew(e.right,{parent:e.right,inNamespaceCall:!1},{Identifier(e,n,r){"na"==e.name&&(e.name="NaN"),e.parent=n.parent,tS(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type,i=e.parent&&"ConditionalExpression"===e.parent.type,a=t.isContextBound(e.name)&&!t.isRootParam(e.name),s=e.parent&&"MemberExpression"===e.parent.type&&e.parent.computed&&e.parent.object===e,l=e.parent&&e.parent._isParamCall,c=e.parent&&"MemberExpression"===e.parent.type,u="NaN"===e.name;(a||i||o)&&("MemberExpression"===e.type?Kw(e,t):"Identifier"!==e.type||c||s||l||u||uS(e))},MemberExpression(e,n,r){Kw(e,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})},CallExpression(e,n,r){const o=e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&t.isContextBound(e.callee.object.name);cS(e,t),e.arguments.forEach(t=>r(t,{parent:e,inNamespaceCall:o||n.inNamespaceCall}))}})}function rS(e,t){const n=t.getCurrentScopeType();if(e.argument){if("ArrayExpression"===e.argument.type)e.argument.elements=e.argument.elements.map(e=>{if("Identifier"===e.type){if(t.isContextBound(e.name)&&!t.isRootParam(e.name))return{type:"MemberExpression",object:e,property:{type:"Literal",value:0},computed:!0};const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},property:{type:"Literal",value:0},computed:!0}}return"MemberExpression"===e.type?(e.computed&&"Identifier"===e.object.type&&t.isContextBound(e.object.name)&&!t.isRootParam(e.object.name)||Jw(e,0,t),e):e}),e.argument={type:"ArrayExpression",elements:[e.argument]};else if("BinaryExpression"===e.argument.type)Ew(e.argument,t,{Identifier(e,t){tS(e,t),"Identifier"===e.type&&uS(e)},MemberExpression(e){Jw(e,0,t)}});else if("ObjectExpression"===e.argument.type)e.argument.properties=e.argument.properties.map(e=>{if(e.shorthand){const[n,r]=t.getVariable(e.value.name);return{type:"Property",key:{type:"Identifier",name:e.key.name},value:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},kind:"init",method:!1,shorthand:!1,computed:!1}}return e});else if("Identifier"===e.argument.type){const[n,r]=t.getVariable(e.argument.name);e.argument={type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1},e.argument={type:"MemberExpression",object:e.argument,property:{type:"Literal",value:0},computed:!0}}"fn"===n&&(e.argument={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:"precision"}},arguments:[e.argument]})}}function oS(e,t){if("Identifier"===e.type){if("na"===e.name)return e.name="NaN",e;if(t.isLoopVariable(e.name))return e;if(t.isRootParam(e.name)){const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}if(t.isContextBound(e.name))return e;const[n,r]=t.getVariable(e.name);return{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:n},computed:!1}}return e}function iS(e,t,n){const r=aS(e.argument,t,n);return{type:"UnaryExpression",operator:e.operator,prefix:e.prefix,argument:r,start:e.start,end:e.end}}function aS(e,t,n=""){switch(e.type){case"BinaryExpression":return sS(e,t,n);case"MemberExpression":return{type:"MemberExpression",object:"Identifier"===e.object.type?oS(e.object,t):e.object,property:e.property,computed:e.computed};case"Identifier":return t.isLoopVariable(e.name)||e.parent&&"MemberExpression"===e.parent.type&&e.parent.property===e?e:{type:"MemberExpression",object:oS(e,t),property:{type:"Literal",value:0},computed:!0};case"UnaryExpression":return iS(e,t,n)}return e}function sS(e,t,n){const r=aS(e.left,t,n),o=aS(e.right,t,n),i={type:"BinaryExpression",operator:e.operator,left:r,right:o,start:e.start,end:e.end};return Ew(i,t,{CallExpression(e,t){e._transformed||cS(e,t)},MemberExpression(e){Jw(e,0,t)}}),i}function lS(e,t,n){switch(e?.type){case"BinaryExpression":e=sS(e,n,t);break;case"LogicalExpression":e=function(e,t,n){const r=aS(e.left,t,n),o=aS(e.right,t,n),i={type:"LogicalExpression",operator:e.operator,left:r,right:o,start:e.start,end:e.end};return Ew(i,t,{CallExpression(e,t){e._transformed||cS(e,t)}}),i}(e,n,t);break;case"ConditionalExpression":return function(e,t,n){return Ew(e,{parent:e,inNamespaceCall:!1},{Identifier(e,n,r){if("NaN"==e.name)return;if("na"==e.name)return void(e.name="NaN");e.parent=n.parent,tS(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type;(e.parent&&"ConditionalExpression"===e.parent.type||o)&&("MemberExpression"===e.type?Kw(e,t):"Identifier"===e.type&&uS(e))},MemberExpression(e,n,r){Kw(e,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})},CallExpression(e,n,r){const o=e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&t.isContextBound(e.callee.object.name);cS(e,t),e.arguments.forEach(t=>r(t,{parent:e,inNamespaceCall:o||n.inNamespaceCall}))}}),{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Identifier",name:"param"}},arguments:[e,Zw,t.nextParamIdArg],_transformed:!0,_isParamCall:!0}}(e,n,t);case"UnaryExpression":e=iS(e,n,t)}if("MemberExpression"===e.type&&e.computed&&e.property)return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:["Identifier"===e.object.type&&n.isContextBound(e.object.name)&&!n.isRootParam(e.object.name)?e.object:oS(e.object,n),"Identifier"!==e.property.type||n.isContextBound(e.property.name)||n.isLoopVariable(e.property.name)?e.property:oS(e.property,n),n.nextParamIdArg],_transformed:!0,_isParamCall:!0};if("ObjectExpression"===e.type&&(e.properties=e.properties.map(e=>{if(e.value.name){const[t,r]=n.getVariable(e.value.name);return{type:"Property",key:{type:"Identifier",name:e.key.name},value:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:Qw},property:{type:"Identifier",name:r},computed:!1},property:{type:"Identifier",name:t},computed:!1},kind:"init",method:!1,shorthand:!1,computed:!1}}return e})),"Identifier"===e.type){if("na"===e.name)return e.name="NaN",e;if(n.isContextBound(e.name)&&!n.isRootParam(e.name))return{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:[e,Zw,n.nextParamIdArg],_transformed:!0,_isParamCall:!0}}return"CallExpression"===e?.type&&cS(e,n),{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t},property:{type:"Identifier",name:"param"},computed:!1},arguments:["Identifier"===e.type?oS(e,n):e,Zw,n.nextParamIdArg],_transformed:!0,_isParamCall:!0}}function cS(e,t,n){if(!e._transformed){if(e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&(t.isContextBound(e.callee.object.name)||"math"===e.callee.object.name||"ta"===e.callee.object.name)){const n=e.callee.object.name;e.arguments=e.arguments.map(e=>e._isParamCall?e:lS(e,n,t)),e._transformed=!0}else e.callee&&"Identifier"===e.callee.type&&(e.arguments=e.arguments.map(e=>e._isParamCall?e:lS(e,Qw,t)),e._transformed=!0);e.arguments.forEach(e=>{Ew(e,t,{Identifier(e,n,r){e.parent=n.parent,tS(e,t);const o=e.parent&&"BinaryExpression"===e.parent.type;(e.parent&&"ConditionalExpression"===e.parent.type||o)&&("MemberExpression"===e.type?Kw(e,t):"Identifier"===e.type&&uS(e))},CallExpression(e,t,n){e._transformed||cS(e,t)},MemberExpression(e,n,r){Jw(e,0,t),e.object&&r(e.object,{parent:e,inNamespaceCall:n.inNamespaceCall})}})})}}function uS(e,t){Object.assign(e,{type:"MemberExpression",object:{type:"Identifier",name:e.name,start:e.start,end:e.end},property:{type:"Literal",value:0},computed:!0,_indexTransformed:!0})}function fS(e,t,n){if(e.init&&"VariableDeclaration"===e.init.type){const n=e.init.declarations[0],r=n.id.name;t.addLoopVariable(r,r),e.init={type:"VariableDeclaration",kind:e.init.kind,declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:r},init:n.init}]},n.init&&Ew(n.init,t,{Identifier(e,n){t.isLoopVariable(e.name)||(t.pushScope("for"),tS(e,n),t.popScope())},MemberExpression(e){t.pushScope("for"),Jw(e,0,t),t.popScope()}})}e.test&&Ew(e.test,t,{Identifier(e,n){t.isLoopVariable(e.name)||e.computed||(t.pushScope("for"),tS(e,n),"Identifier"===e.type&&(e.computed=!0,uS(e)),t.popScope())},MemberExpression(e){t.pushScope("for"),Jw(e,0,t),t.popScope()}}),e.update&&Ew(e.update,t,{Identifier(e,n){t.isLoopVariable(e.name)||(t.pushScope("for"),tS(e,n),t.popScope())}}),t.pushScope("for"),n(e.body,t),t.popScope()}function pS(e,t,n){e.test&&(t.pushScope("if"),function(e,t){Ew(e,t,{MemberExpression(e){Jw(e,0,t)},CallExpression(e,t){cS(e,t)},Identifier(e,n){tS(e,n);const r="if"===t.getCurrentScopeType();t.isContextBound(e.name)&&!t.isRootParam(e.name)&&r&&uS(e)}})}(e.test,t),t.popScope()),t.pushScope("if"),n(e.consequent,t),t.popScope(),e.alternate&&(t.pushScope("els"),n(e.alternate,t),t.popScope())}function dS(e){const t=(n=("function"==typeof e?e.toString():e).trim(),vx.parse(n,{ecmaVersion:"latest",sourceType:"module"}));var n;!function(e){Ew(e,null,{VariableDeclaration(e,t,n){e.declarations&&e.declarations.length>0&&e.declarations.forEach(t=>{if(t.init&&"ArrowFunctionExpression"===t.init.type&&0!==t.init.start){const n={type:"FunctionDeclaration",id:t.id,params:t.init.params,body:"BlockStatement"===t.init.body.type?t.init.body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:t.init.body}]},async:t.init.async,generator:!1};Object.assign(e,n)}}),e.body&&e.body.body&&e.body.body.forEach(e=>n(e,t))}})}(t);const r=new Gw;let o;!function(e,t){kw(e,{VariableDeclaration(e){e.declarations.forEach(e=>{const n=e.init&&"MemberExpression"===e.init.type&&e.init.object&&("context"===e.init.object.name||e.init.object.name===Qw||"context2"===e.init.object.name),r=e.init&&"MemberExpression"===e.init.type&&e.init.object?.object&&("context"===e.init.object.object.name||e.init.object.object.name===Qw||"context2"===e.init.object.object.name);(n||r)&&(e.id.name&&t.addContextBoundVar(e.id.name),e.id.properties&&e.id.properties.forEach(e=>{e.key.name&&t.addContextBoundVar(e.key.name)}))})}})}(t,r),kw(t,{FunctionDeclaration(e){!function(e,t){e.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name,!1)}),e.body&&"BlockStatement"===e.body.type&&(t.pushScope("fn"),Ew(e.body,t,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},ReturnStatement(e,t){rS(e,t)},VariableDeclaration(e,t){eS(e,t)},Identifier(e,t){tS(e,t)},CallExpression(e,t){cS(e,t),e.arguments.forEach(e=>{"BinaryExpression"===e.type&&Ew(e,t,{CallExpression(e,t){cS(e,t)},MemberExpression(e){Jw(e,0,t)}})})},MemberExpression(e){Jw(e,0,t)},AssignmentExpression(e,t){nS(e,t)},ForStatement(e,t,n){fS(e,t,n)},IfStatement(e,t,n){pS(e,t,n)},BinaryExpression(e,t,n){Ew(e,t,{CallExpression(e,t){cS(e,t)},MemberExpression(e){Jw(e,0,t)}})}}),t.popScope())}(e,r)},ArrowFunctionExpression(e){const t=0===e.start;t&&e.params&&e.params.length>0&&(o=e.params[0].name,e.params[0].name=Qw),function(e,t,n=!1){e.params.forEach(e=>{"Identifier"===e.type&&t.addContextBoundVar(e.name,n)})}(e,r,t)},VariableDeclaration(e){e.declarations.forEach(t=>{if("ArrayPattern"===t.id.type){const n=r.generateTempVar(),o={type:"VariableDeclaration",kind:e.kind,declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:n},init:t.init}]};t.id.elements?.forEach(e=>{"Identifier"===e.type&&r.addArrayPatternElement(e.name)});const i=t.id.elements.map((t,r)=>({type:"VariableDeclaration",kind:e.kind,declarations:[{type:"VariableDeclarator",id:t,init:{type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Literal",value:r},computed:!0}}]}));Object.assign(e,{type:"BlockStatement",body:[o,...i]})}})},ForStatement(e){}}),Ew(t,r,{BlockStatement(e,t,n){e.body.forEach(e=>n(e,t))},ReturnStatement(e,t){rS(e,t)},VariableDeclaration(e,t){eS(e,t)},Identifier(e,t){tS(e,t)},CallExpression(e,t){cS(e,t)},MemberExpression(e){Jw(e,0,r)},AssignmentExpression(e,t){nS(e,t)},FunctionDeclaration(e,t){},ForStatement(e,t,n){fS(e,t,n)},IfStatement(e,t,n){pS(e,t,n)}});const i=function(e){const t=new qw(void 0);return t.generator[e.type](e,t),t.output}(t);return new Function("",`return ${i}`)(this)}var hS=Object.defineProperty,yS=(e,t,n)=>((e,t,n)=>t in e?hS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mS{constructor(e,t,n,r,o,i){this.source=e,this.tickerId=t,this.timeframe=n,this.limit=r,this.sDate=o,this.eDate=i,yS(this,"data",[]),yS(this,"open",[]),yS(this,"high",[]),yS(this,"low",[]),yS(this,"close",[]),yS(this,"volume",[]),yS(this,"hl2",[]),yS(this,"hlc3",[]),yS(this,"ohlc4",[]),yS(this,"openTime",[]),yS(this,"closeTime",[]),yS(this,"_periods"),yS(this,"_readyPromise",null),yS(this,"_ready",!1),this._readyPromise=new Promise(a=>{this.loadMarketData(e,t,n,r,o,i).then(e=>{const t=e.reverse();this._periods=t.length,this.data=t;const n=t.map(e=>e.open),r=t.map(e=>e.close),o=t.map(e=>e.high),i=t.map(e=>e.low),s=t.map(e=>e.volume),l=t.map(e=>(e.high+e.low+e.close)/3),c=t.map(e=>(e.high+e.low)/2),u=t.map(e=>(e.high+e.low+e.open+e.close)/4),f=t.map(e=>e.openTime),p=t.map(e=>e.closeTime);this.open=n,this.close=r,this.high=o,this.low=i,this.volume=s,this.hl2=c,this.hlc3=l,this.ohlc4=u,this.openTime=f,this.closeTime=p,this._ready=!0,a(!0)})})}get periods(){return this._periods}async loadMarketData(e,t,n,r,o,i){return Array.isArray(e)?e:e.getMarketData(t,n,r,o,i)}async ready(){if(this._ready)return!0;if(!this._readyPromise)throw new Error("PineTS is not ready");return this._readyPromise}async run(e,t,n){await this.ready(),t||(t=this._periods);const r=new NS({marketData:this.data,source:this.source,tickerId:this.tickerId,timeframe:this.timeframe,limit:this.limit,sDate:this.sDate,eDate:this.eDate});r.pineTSCode=e,r.useTACache=n;let o=dS.bind(this)(e);const i=["const","var","let","params"];for(let e=this._periods-t,n=t-1;e<this._periods;e++,n--){r.idx=e,r.data.close=this.close.slice(n),r.data.open=this.open.slice(n),r.data.high=this.high.slice(n),r.data.low=this.low.slice(n),r.data.volume=this.volume.slice(n),r.data.hl2=this.hl2.slice(n),r.data.hlc3=this.hlc3.slice(n),r.data.ohlc4=this.ohlc4.slice(n),r.data.openTime=this.openTime.slice(n),r.data.closeTime=this.closeTime.slice(n);const t=await o(r);if("object"==typeof t){"object"!=typeof r.result&&(r.result={});for(let e in t){void 0===r.result[e]&&(r.result[e]=[]);const n=Array.isArray(t[e])?t[e][0]:t[e];r.result[e].push(n)}}else Array.isArray(r.result)||(r.result=[]),r.result.push(t);for(let e of i)for(let t in r[e])if(Array.isArray(r[e][t])){const n=r[e][t][0];r[e][t].unshift(n)}}return r}}var gS=Object.defineProperty;class vS{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?gS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"color",{param:(e,t=0)=>Array.isArray(e)?e[t]:e,rgb:(e,t,n,r)=>r?`rgba(${e}, ${t}, ${n}, ${r})`:`rgb(${e}, ${t}, ${n})`,new:(e,t)=>{if(e&&e.startsWith("#")){const n=e.slice(1),r=parseInt(n.slice(0,2),16),o=parseInt(n.slice(2,4),16),i=parseInt(n.slice(4,6),16);return t?`rgba(${r}, ${o}, ${i}, ${t})`:`rgb(${r}, ${o}, ${i})`}return t?`rgba(${e}, ${t})`:e},white:"white",lime:"lime",green:"green",red:"red",maroon:"maroon",black:"black",gray:"gray",blue:"blue"})}extractPlotOptions(e){const t={};for(let n in e)Array.isArray(e[n])?t[n]=e[n][0]:t[n]=e[n];return t}indicator(e,t,n){}plotchar(e,t,n){this.context.plots[t]||(this.context.plots[t]={data:[],options:this.extractPlotOptions(n),title:t}),this.context.plots[t].data.push({time:this.context.marketData[this.context.marketData.length-this.context.idx-1].openTime,value:e[0],options:{...this.extractPlotOptions(n),style:"char"}})}plot(e,t,n){this.context.plots[t]||(this.context.plots[t]={data:[],options:this.extractPlotOptions(n),title:t}),this.context.plots[t].data.push({time:this.context.marketData[this.context.marketData.length-this.context.idx-1].openTime,value:e[0],options:this.extractPlotOptions(n)})}na(e){return Array.isArray(e)?isNaN(e[0]):isNaN(e)}nz(e,t=0){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?t[0]:t;return isNaN(n)?r:n}}class bS{constructor(e){this.context=e}param(e,t=0){return Array.isArray(e)?[e[t]]:[e]}any(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}int(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}float(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}bool(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}string(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}timeframe(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}time(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}price(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}session(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}source(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}symbol(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}text_area(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}enum(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}color(e,{title:t,group:n}={}){return Array.isArray(e)?e[0]:e}}var xS=Object.defineProperty;class wS{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?xS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?t?(this.context.params[n]=e.slice(t),this.context.params[n].length=e.length,this.context.params[n]):(this.context.params[n]=e.slice(0),this.context.params[n]):(this.context.params[n][0]=e,this.context.params[n])}abs(e){return Math.abs(e[0])}pow(e,t){return Math.pow(e[0],t[0])}sqrt(e){return Math.sqrt(e[0])}log(e){return Math.log(e[0])}ln(e){return Math.log(e[0])}exp(e){return Math.exp(e[0])}floor(e){return Math.floor(e[0])}ceil(e){return Math.ceil(e[0])}round(e){return Math.round(e[0])}random(){return Math.random()}max(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return Math.max(...t)}min(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return Math.min(...t)}sum(e,t){const n=Array.isArray(t)?t[0]:t;return Array.isArray(e)?e.slice(0,n).reduce((e,t)=>e+t,0):e}sin(e){return Math.sin(e[0])}cos(e){return Math.cos(e[0])}tan(e){return Math.tan(e[0])}acos(e){return Math.acos(e[0])}asin(e){return Math.asin(e[0])}atan(e){return Math.atan(e[0])}avg(...e){const t=e.map(e=>Array.isArray(e)?e[0]:e);return t.reduce((e,t)=>(Array.isArray(e)?e[0]:e)+(Array.isArray(t)?t[0]:t),0)/t.length}}var SS=Object.defineProperty;const kS=["1","3","5","15","30","45","60","120","180","240","D","W","M"];class ES{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?SS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?(this.context.params[n]=t?e.slice(t):e.slice(0),[e[t],n]):(this.context.params[n][0]=e,[e,n])}async security(e,t,n,r=!1,o=!1,i=!1,a=null,s=null){const l=e[0],c=t[0],u=n[0],f=n[1],p=kS.indexOf(this.context.timeframe),d=kS.indexOf(c);if(-1==p||-1==d)throw new Error("Invalid timeframe");if(p>d)throw new Error("Only higher timeframes are supported for now");if(p===d)return u;const h=this.context.data.openTime[0],y=this.context.data.closeTime[0];if(this.context.cache[f]){const e=this.context.cache[f],t=this._findSecContextIdx(h,y,e.data.openTime,e.data.closeTime,o);return-1==t?NaN:e.params[f][t]}const m=new mS(this.context.source,l,c,this.context.limit||1e3,this.context.sDate,this.context.eDate),g=await m.run(this.context.pineTSCode);this.context.cache[f]=g;const v=this._findSecContextIdx(h,y,g.data.openTime,g.data.closeTime,o);return-1==v?NaN:g.params[f][v]}_findSecContextIdx(e,t,n,r,o=!1){for(let i=0;i<n.length;i++)if(n[i]<=e&&t<=r[i])return i+(o?1:2);return-1}}class CS{constructor(e){this.context=e}get tr(){return this.context.math.max(this.context.data.high[0]-this.context.data.low[0],this.context.math.abs(this.context.data.high[0]-this.context.data.close[1]),this.context.math.abs(this.context.data.low[0]-this.context.data.close[1]))}param(e,t,n){return this.context.params[n]||(this.context.params[n]=[]),Array.isArray(e)?t?(this.context.params[n]=e.slice(t),this.context.params[n].length=e.length,this.context.params[n]):(this.context.params[n]=e.slice(0),this.context.params[n]):(this.context.params[n][0]=e,this.context.params[n])}ema(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=2/(t+1);let o=0;for(let n=0;n<t;n++)o+=e[n]||0;n[t-1]=o/t;for(let o=t;o<e.length;o++)n[o]=e[o]*r+n[o-1]*(1-r);return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}sma(e,t,n){const r=Array.isArray(t)?t[0]:t,o=e.slice(0).reverse();if(this.context.useTACache&&n){this.context.cache[n]||(this.context.cache[n]={});const e=this.context.cache[n];if(e){const t=function(e,t,n){const r=n.previousResult||new Array(e.length).fill(NaN),o=n.lastProcessedIndex||-1;let i=n.previousSum||0;if(-1===o||e.length!==o+1){i=0;for(let n=0;n<t;n++)i+=e[n]||0;r[t-1]=i/t;for(let e=0;e<t-1;e++)r[e]=NaN;for(let n=t;n<e.length;n++)i=i-(e[n-t]||0)+(e[n]||0),r[n]=i/t}else{if(e.length!==o+2)return OS(e,t);{const n=e.length-1;i=i-(e[n-t]||0)+(e[n]||0),r[n]=i/t}}return n.previousSum=i,n.lastProcessedIndex=e.length-1,n.previousResult=r,r}(o,r,e),n=this.context.idx;return this.context.precision(t[n])}}const i=OS(o,r),a=this.context.idx;return this.context.precision(i[a])}vwma(e,t){const n=Array.isArray(t)?t[0]:t,r=this.context.data.volume,o=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=n-1;o<e.length;o++){let i=0,a=0;for(let r=0;r<n;r++)i+=t[o-r],a+=e[o-r]*t[o-r];r[o]=a/i}return r}(e.slice(0).reverse(),r.slice(0).reverse(),n),i=this.context.idx;return this.context.precision(o[i])}wma(e,t){const n=Array.isArray(t)?t[0]:t,r=_S(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}hma(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=_S(e,Math.floor(t/2)),r=_S(e,t),o=n.map((e,t)=>2*e-r[t]);return _S(o,Math.floor(Math.sqrt(t)))}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}rma(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=1/t;let o=0;for(let n=0;n<t;n++)o+=e[n]||0;n[t-1]=o/t;for(let o=t;o<e.length;o++){const t=e[o]||0;n[o]=t*r+n[o-1]*(1-r)}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}change(e,t=1){const n=Array.isArray(t)?t[0]:t,r=function(e,t=1){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=e[r]-e[r-t];return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}rsi(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=new Array(e.length).fill(0),o=new Array(e.length).fill(0);for(let t=1;t<e.length;t++){const n=e[t]-e[t-1];r[t]=n>0?n:0,o[t]=n<0?-n:0}let i=0,a=0;for(let e=1;e<=t;e++)i+=r[e],a+=o[e];i/=t,a/=t,n[t]=0===a?100:100-100/(1+i/a);for(let s=t+1;s<e.length;s++)i=(i*(t-1)+r[s])/t,a=(a*(t-1)+o[s])/t,n[s]=0===a?100:100-100/(1+i/a);return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}atr(e){const t=Array.isArray(e)?e[0]:e,n=PS(this.context.data.high.slice().reverse(),this.context.data.low.slice().reverse(),this.context.data.close.slice().reverse(),t),r=this.context.idx;return this.context.precision(n[r])}mom(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=e[r]-e[r-t];return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}roc(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t;r<e.length;r++)n[r]=(e[r]-e[r-t])/e[r-t]*100;return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}dev(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN),r=OS(e,t);for(let o=t-1;o<e.length;o++){let i=0;for(let n=0;n<t;n++)i+=Math.abs(e[o-n]-r[o]);n[o]=i/t}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}variance(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=0,i=0;for(let n=0;n<t;n++)o+=e[r-n],i+=e[r-n]*e[r-n];const a=o/t;n[r]=i/t-a*a}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}highest(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=-1/0;for(let n=0;n<t;n++){const t=e[r-n];o=isNaN(t)?o===-1/0?NaN:o:Math.max(o,t)}n[r]=o}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}lowest(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=1/0;for(let n=0;n<t;n++){const t=e[r-n];o=isNaN(t)||void 0===t?o===1/0?NaN:o:Math.min(o,t)}n[r]=o}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}median(e,t){const n=Array.isArray(t)?t[0]:t,r=function(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){const o=e.slice(r-t+1,r+1).slice().sort((e,t)=>e-t),i=Math.floor(t/2);n[r]=t%2==0?(o[i-1]+o[i])/2:o[i]}return n}(e.slice(0).reverse(),n),o=this.context.idx;return this.context.precision(r[o])}stdev(e,t,n=!0){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n=!0){const r=new Array(e.length).fill(NaN),o=OS(e,t);for(let i=t-1;i<e.length;i++){let a=0;for(let n=0;n<t;n++)a+=Math.pow(e[i-n]-o[i],2);const s=n?t:t-1;r[i]=Math.sqrt(a/s)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}linreg(e,t,n){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=e.length,o=new Array(r).fill(NaN);for(let i=t-1;i<r;i++){let r=0,a=0,s=0,l=0;const c=t;for(let n=0;n<t;n++){const o=n,c=e[i-t+1+n];r+=o,a+=c,s+=o*c,l+=o*o}const u=c*l-r*r;if(0===u){o[i]=NaN;continue}const f=(c*s-r*a)/u,p=(a-f*r)/c+f*(t-1-n);o[i]=p}return o}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}supertrend(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t,o=this.context.data.high.slice().reverse(),i=this.context.data.low.slice().reverse(),a=this.context.data.close.slice().reverse(),[s,l]=function(e,t,n,r,o){const i=e.length,a=new Array(i).fill(NaN),s=new Array(i).fill(0),l=PS(e,t,n,o),c=new Array(i).fill(NaN),u=new Array(i).fill(NaN);for(let n=0;n<i;n++){const o=(e[n]+t[n])/2,i=l[n];isNaN(i)||(c[n]=o+r*i,u[n]=o-r*i)}let f=c[o],p=u[o],d=n[o]<=f?f:p,h=n[o]<=f?-1:1;a[o]=d,s[o]=h;for(let e=o+1;e<i;e++){let t=c[e];t<f||n[e-1]>f?c[e]=t:c[e]=f;let r=u[e];r>p||n[e-1]<p?u[e]=r:u[e]=p,d===f?n[e]>c[e]?(s[e]=1,a[e]=u[e]):(s[e]=-1,a[e]=c[e]):n[e]<u[e]?(s[e]=-1,a[e]=c[e]):(s[e]=1,a[e]=u[e]),f=c[e],p=u[e],d=a[e]}return[a,s]}(o,i,a,n,r),c=this.context.idx;return[[this.context.precision(s[c]),l[c]]]}crossover(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return(Array.isArray(e)?e[1]:this.context.data.series[e][1])<(Array.isArray(t)?t[1]:this.context.data.series[t][1])&&n>r}crossunder(e,t){const n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return(Array.isArray(e)?e[1]:this.context.data.series[e][1])>(Array.isArray(t)?t[1]:this.context.data.series[t][1])&&n<r}pivothigh(e,t,n){null==n&&(n=t,t=e,e=this.context.data.high);const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=t+n;o<e.length;o++){const i=e[o-n];let a=!0;for(let r=1;r<=t;r++)if(e[o-n-r]>=i){a=!1;break}if(a)for(let t=1;t<=n;t++)if(e[o-n+t]>=i){a=!1;break}a&&(r[o]=i)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}pivotlow(e,t,n){null==n&&(n=t,t=e,e=this.context.data.low);const r=Array.isArray(t)?t[0]:t,o=Array.isArray(n)?n[0]:n,i=function(e,t,n){const r=new Array(e.length).fill(NaN);for(let o=t+n;o<e.length;o++){const i=e[o-n];let a=!0;for(let r=1;r<=t;r++)if(e[o-n-r]<=i){a=!1;break}if(a)for(let t=1;t<=n;t++)if(e[o-n+t]<=i){a=!1;break}a&&(r[o]=i)}return r}(e.slice(0).reverse(),r,o),a=this.context.idx;return this.context.precision(i[a])}}function PS(e,t,n,r){const o=new Array(e.length);o[0]=e[0]-t[0];for(let r=1;r<e.length;r++){const i=e[r]-t[r],a=Math.abs(e[r]-n[r-1]),s=Math.abs(t[r]-n[r-1]);o[r]=Math.max(i,a,s)}const i=new Array(e.length).fill(NaN);let a=0;for(let e=0;e<r;e++)a+=o[e];i[r-1]=a/r;for(let e=r;e<o.length;e++)i[e]=(i[e-1]*(r-1)+o[e])/r;return i}function OS(e,t){const n=new Array(e.length).fill(NaN);for(let r=t-1;r<e.length;r++){let o=0;for(let n=0;n<t;n++)o+=e[r-n]||0;n[r]=o/t}return n}function _S(e,t){const n=new Array(e.length);for(let r=t-1;r<e.length;r++){let o=0,i=0;for(let n=0;n<t;n++)o+=e[r-n]*(t-n),i+=t-n;n[r]=o/i}for(let e=0;e<t-1;e++)n[e]=NaN;return n}var jS=Object.defineProperty;class TS{constructor(e){this.array=e}}class AS{constructor(e){this.context=e,((e,t,n)=>{((e,t,n)=>{t in e?jS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"_cache",{})}param(e,t=0){return Array.isArray(e)?e[t]:e}get(e,t){return e.array[t]}set(e,t,n){e.array[t]=n}push(e,t){e.array.push(t)}sum(e){return e.array.reduce((e,t)=>e+(isNaN(t)?0:t),0)}avg(e){return this.sum(e)/e.array.length}min(e,t=0){return[...e.array].sort((e,t)=>e-t)[t]??this.context.NA}max(e,t=0){return[...e.array].sort((e,t)=>t-e)[t]??this.context.NA}size(e){return e.array.length}new_bool(e,t=!1){return new TS(Array(e).fill(t))}new_float(e,t=NaN){return new TS(Array(e).fill(t))}new_int(e,t=0){return new TS(Array(e).fill(Math.round(t)))}new_string(e,t=""){return new TS(Array(e).fill(t))}new(e,t){return new TS(Array(e).fill(t))}slice(e,t,n){const r=void 0!==n?n+1:void 0;return new TS(e.array.slice(t,r))}reverse(e){e.array.reverse()}includes(e,t){return e.array.includes(t)}indexof(e,t){return e.array.indexOf(t)}lastindexof(e,t){return e.array.lastIndexOf(t)}stdev(e,t=!0){const n=this.avg(e),r=e.array.map(e=>Math.pow(e-n,2)),o=t?e.array.length:e.array.length-1;return Math.sqrt(this.sum(new TS(r))/o)}variance(e,t=!0){const n=this.avg(e),r=e.array.map(e=>Math.pow(e-n,2)),o=t?e.array.length:e.array.length-1;return this.sum(new TS(r))/o}covariance(e,t,n=!0){if(e.array.length!==t.array.length||e.array.length<2)return NaN;const r=n?e.array.length:e.array.length-1,o=this.avg(e),i=this.avg(t);let a=0;for(let n=0;n<e.array.length;n++)a+=(e.array[n]-o)*(t.array[n]-i);return a/r}first(e){return e.array.length>0?e.array[0]:this.context.NA}last(e){return e.array.length>0?e.array[e.array.length-1]:this.context.NA}clear(e){e.array.length=0}join(e,t=","){return e.array.join(t)}abs(e){return new TS(e.array.map(e=>Math.abs(e)))}concat(e,t){return e.array.push(...t.array),e}copy(e){return new TS([...e.array])}every(e,t){return e.array.every(t)}fill(e,t,n=0,r){const o=e.array.length,i=void 0!==r?Math.min(r,o):o;for(let r=n;r<i;r++)e.array[r]=t}from(e){return new TS([...e])}insert(e,t,n){e.array.splice(t,0,n)}pop(e){return e.array.pop()}range(e){return this.max(e)-this.min(e)}remove(e,t){return t>=0&&t<e.array.length?e.array.splice(t,1)[0]:this.context.NA}shift(e){return e.array.shift()}sort(e,t="asc"){e.array.sort((e,n)=>"asc"===t?e-n:n-e)}sort_indices(e,t){const n=e.array.map((e,t)=>t);return n.sort((n,r)=>{const o=e.array[n],i=e.array[r];return t?t(o,i):o-i}),new TS(n)}standardize(e){const t=this.avg(e),n=this.stdev(e);return new TS(0===n?e.array.map(()=>0):e.array.map(e=>(e-t)/n))}unshift(e,t){e.array.unshift(t)}some(e,t){return e.array.some(t)}}var DS=Object.defineProperty,MS=(e,t,n)=>((e,t,n)=>t in e?DS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class NS{constructor({marketData:e,source:t,tickerId:n,timeframe:r,limit:o,sDate:i,eDate:a}){MS(this,"data",{open:[],high:[],low:[],close:[],volume:[],hl2:[],hlc3:[],ohlc4:[]}),MS(this,"cache",{}),MS(this,"useTACache",!1),MS(this,"NA",NaN),MS(this,"math"),MS(this,"ta"),MS(this,"input"),MS(this,"request"),MS(this,"array"),MS(this,"core"),MS(this,"lang"),MS(this,"idx",0),MS(this,"params",{}),MS(this,"const",{}),MS(this,"var",{}),MS(this,"let",{}),MS(this,"result"),MS(this,"plots",{}),MS(this,"marketData"),MS(this,"source"),MS(this,"tickerId"),MS(this,"timeframe",""),MS(this,"limit"),MS(this,"sDate"),MS(this,"eDate"),MS(this,"pineTSCode"),this.marketData=e,this.source=t,this.tickerId=n,this.timeframe=r,this.limit=o,this.sDate=i,this.eDate=a,this.math=new wS(this),this.ta=new CS(this),this.input=new bS(this),this.request=new ES(this),this.array=new AS(this);const s=new vS(this);this.core={plotchar:s.plotchar.bind(s),na:s.na.bind(s),color:s.color,plot:s.plot.bind(s),nz:s.nz.bind(s)}}init(e,t,n=0){return e?!Array.isArray(t)||Array.isArray(t[0])?e[0]=Array.isArray(t?.[0])?t[0]:this.precision(t):e[0]=this.precision(t[t.length-this.idx-1+n]):e=Array.isArray(t)?[this.precision(t[t.length-this.idx-1+n])]:[this.precision(t)],e}precision(e,t=10){return"number"!=typeof e||isNaN(e)?e:Number(e.toFixed(t))}param(e,t,n){return"string"==typeof e?e:Array.isArray(e)||"object"!=typeof e?(this.params[n]||(this.params[n]=[]),Array.isArray(e)?t?(this.params[n]=e.slice(t),this.params[n].length=e.length,this.params[n]):(this.params[n]=e.slice(0),this.params[n]):(this.params[n][0]=e,this.params[n])):e}}var IS=Object.defineProperty,RS=(e,t,n)=>((e,t,n)=>t in e?IS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const LS={1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",45:null,60:"1h",120:"2h",180:null,240:"4h","4H":"4h","1D":"1d",D:"1d","1W":"1w",W:"1w","1M":"1M",M:"1M"};class FS{constructor(e=3e5){RS(this,"cache"),RS(this,"cacheDuration"),this.cache=new Map,this.cacheDuration=e}generateKey(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>`${e}:${t}`).join("|")}get(e){const t=this.generateKey(e),n=this.cache.get(t);return n?Date.now()-n.timestamp>this.cacheDuration?(this.cache.delete(t),null):n.data:null}set(e,t){const n=this.generateKey(e);this.cache.set(n,{data:t,timestamp:Date.now()})}clear(){this.cache.clear()}cleanup(){const e=Date.now();for(const[t,n]of this.cache.entries())e-n.timestamp>this.cacheDuration&&this.cache.delete(t)}}function zS(e){return zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zS(e)}function VS(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return BS(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(BS(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,BS(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,BS(f,"constructor",c),BS(c,"constructor",l),l.displayName="GeneratorFunction",BS(c,o,"GeneratorFunction"),BS(f),BS(f,o,"Generator"),BS(f,r,function(){return this}),BS(f,"toString",function(){return"[object Generator]"}),(VS=function(){return{w:i,m:p}})()}function BS(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}BS=function(e,t,n,r){function i(t,n){BS(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},BS(e,t,n,r)}function US(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function WS(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){US(i,r,o,a,s,"next",e)}function s(e){US(i,r,o,a,s,"throw",e)}a(void 0)})}}function HS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YS(r.key),r)}}function YS(e){var t=function(e){if("object"!=zS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zS(t)?t:t+""}new class{constructor(){RS(this,"cacheManager"),this.cacheManager=new FS(3e5)}async getMarketDataInterval(e,t,n,r){try{const o=LS[t.toUpperCase()];if(!o)return console.error(`Unsupported timeframe: ${t}`),[];let i=[],a=n;const s=r,l={"1m":6e4,"3m":18e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"2h":72e5,"4h":144e5,"1d":864e5,"1w":6048e5,"1M":2592e6}[o];if(!l)return console.error(`Duration not defined for interval: ${o}`),[];for(;a<s;){const n=Math.min(a+1e3*l,s),r=await this.getMarketData(e,t,1e3,a,n);if(0===r.length)break;if(i=i.concat(r),a=r[r.length-1].closeTime+1,r.length<1e3)break}return i}catch(e){return console.error("Error in getMarketDataInterval:",e),[]}}async getMarketData(e,t,n,r,o){try{const i={tickerId:e,timeframe:t,limit:n,sDate:r,eDate:o},a=this.cacheManager.get(i);if(a)return console.log("cache hit",e,t,n,r,o),a;const s=LS[t.toUpperCase()];if(!s)return console.error(`Unsupported timeframe: ${t}`),[];let l=`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${s}`;if(!n&&r&&o)return this.getMarketDataInterval(e,t,r,o);n&&(l+=`&limit=${n}`),r&&(l+=`&startTime=${r}`),o&&(l+=`&endTime=${o}`);const c=await fetch(l);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const u=(await c.json()).map(e=>({openTime:parseInt(e[0]),open:parseFloat(e[1]),high:parseFloat(e[2]),low:parseFloat(e[3]),close:parseFloat(e[4]),volume:parseFloat(e[5]),closeTime:parseInt(e[6]),quoteAssetVolume:parseFloat(e[7]),numberOfTrades:parseInt(e[8]),takerBuyBaseAssetVolume:parseFloat(e[9]),takerBuyQuoteAssetVolume:parseFloat(e[10]),ignore:e[11]}));return this.cacheManager.set(i,u),u}catch(e){return console.error("Error in binance.klines:",e),[]}}};var qS=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pineInstance=null},t=[{key:"initialize",value:(o=WS(VS().m(function e(t){var n;return VS().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.pineInstance=new mS,e.n=1,this.pineInstance.setData({timestamps:t.map(function(e){return e.timestamp}),open:t.map(function(e){return e.open}),high:t.map(function(e){return e.high}),low:t.map(function(e){return e.low}),close:t.map(function(e){return e.close}),volume:t.map(function(e){return e.volume})});case 1:console.log(" PineScript engine initialized with",t.length,"data points"),e.n=3;break;case 2:throw e.p=2,n=e.v,console.error(" Failed to initialize PineScript engine:",n),n;case 3:return e.a(2)}},e,this,[[0,2]])})),function(e){return o.apply(this,arguments)})},{key:"executeIndicator",value:(r=WS(VS().m(function e(t){var n,r,o;return VS().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.pineInstance){e.n=1;break}throw new Error("PineScript engine not initialized. Call initialize() first.");case 1:return e.p=1,console.log(" Executing PineScript indicator:",t.name),e.n=2,this.pineInstance.execute(t.script,t.parameters);case 2:return n=e.v,r=this.parseResults(n),console.log(" PineScript execution completed"),e.a(2,r);case 3:throw e.p=3,o=e.v,console.error(" PineScript execution failed:",o),o;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return r.apply(this,arguments)})},{key:"parseResults",value:function(e){var t=this,n=[],r=[],o=[];return e.plots&&e.plots.forEach(function(e){n.push({name:e.name||"Plot",values:e.values,color:e.color||"#2196F3",style:t.mapPlotStyle(e.style),lineWidth:e.linewidth||1})}),e.fills&&e.fills.forEach(function(e){r.push({name:e.name||"Fill",upperValues:e.upperValues,lowerValues:e.lowerValues,color:e.color||"#E3F2FD",opacity:e.opacity||.2})}),e.shapes&&e.shapes.forEach(function(e){o.push({name:e.name||"Shape",timestamps:e.timestamps,values:e.values,shape:t.mapShapeType(e.shape),color:e.color||"#FF9800",size:e.size||8})}),{plots:n,fills:r,shapes:o}}},{key:"mapPlotStyle",value:function(e){switch(e){case"circles":return"circles";case"cross":return"cross";case"dashed":return"dashed";default:return"line"}}},{key:"mapShapeType",value:function(e){switch(e){case"circle":return"circle";case"square":return"square";default:return"cross"}}},{key:"getBuiltinFunctions",value:function(){return["ta.sma","ta.ema","ta.rsi","ta.macd","ta.bb","ta.crossover","ta.crossunder","ta.highest","ta.lowest","math.abs","math.max","math.min","math.sqrt","math.log","nz","na","barssince","valuewhen","plot","hline","fill"]}},{key:"validateScript",value:(n=WS(VS().m(function e(t){var n;return VS().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!this.pineInstance){e.n=1;break}return e.n=1,this.pineInstance.parse(t);case 1:return e.a(2,{valid:!0,errors:[]});case 2:return e.p=2,n=e.v,e.a(2,{valid:!1,errors:[n instanceof Error?n.message:"Unknown parsing error"]})}},e,this,[[0,2]])})),function(e){return n.apply(this,arguments)})}],t&&HS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o}());function XS(e){return XS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XS(e)}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(t){QS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QS(e,t,n){return(t=function(e){var t=function(e){if("object"!=XS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=XS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==XS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZS(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return KS(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(KS(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,KS(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,KS(f,"constructor",c),KS(c,"constructor",l),l.displayName="GeneratorFunction",KS(c,o,"GeneratorFunction"),KS(f),KS(f,o,"Generator"),KS(f,r,function(){return this}),KS(f,"toString",function(){return"[object Generator]"}),(ZS=function(){return{w:i,m:p}})()}function KS(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}KS=function(e,t,n,r){function i(t,n){KS(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},KS(e,t,n,r)}function JS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ek(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){JS(i,r,o,a,s,"next",e)}function s(e){JS(i,r,o,a,s,"throw",e)}a(void 0)})}}function tk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||nk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(e,t){if(e){if("string"==typeof e)return rk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rk(e,t):void 0}}function rk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ok=function(e){var n=e.onIndicatorImported,r=e.onClose,o=tk((0,t.useState)(""),2),i=o[0],a=o[1],s=tk((0,t.useState)(""),2),l=s[0],c=s[1],u=tk((0,t.useState)(!1),2),f=u[0],p=u[1],d=tk((0,t.useState)(null),2),h=d[0],y=d[1],m=tk((0,t.useState)([]),2),g=m[0],v=m[1],b={"COG Double Channel":'study("COG Double Channel [LazyBear]", shorttitle="COGChannel_LB", overlay=true)\nsrc = close\nlength = input(34)\nmedian=0\nmult=input(2.5)\noffset = input(20)\n\ntr_custom() => \n    x1=high-low\n    x2=abs(high-close[1])\n    x3=abs(low-close[1])\n    max(x1, max(x2,x3))\n    \natr_custom(x,y) => \n    sma(x,y)\n    \ndev = (mult * stdev(src, length))\nbasis=linreg(src, length, median)\nul = (basis + dev)\nll = (basis - dev)\ntr_v = tr_custom()\nacustom=(2*atr_custom(tr_v, length))\nuls=basis+acustom\nlls=basis-acustom\n\nplot(basis, linewidth=1, color=navy, style=line, linewidth=1, title="Median")\nplot(ul, color=red, linewidth=1, title="BB+", style=dashed)\nplot(ll, color=green, linewidth=1, title="BB-", style=dashed)\nplot(uls, color=red, linewidth=1, title="Starc+", style=circles)\nplot(lls, color=green, linewidth=1, title="Star-", style=circles)',"Simple Moving Average":'study("Simple SMA", overlay=true)\nlength = input(20, title="Length")\nsrc = input(close, title="Source")\nsma_value = sma(src, length)\nplot(sma_value, color=blue, linewidth=2, title="SMA")',"RSI Oscillator":'study("RSI", shorttitle="RSI")\nlength = input(14, title="Length") \nsrc = input(close, title="Source")\nrsi_value = rsi(src, length)\nplot(rsi_value, color=purple, linewidth=2, title="RSI")\nhline(70, "Overbought", color=red)\nhline(30, "Oversold", color=green)'},x=function(){var e=ek(ZS().m(function e(){var t,n;return ZS().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.trim()){e.n=1;break}return y({valid:!1,errors:["Script cannot be empty"]}),e.a(2);case 1:return p(!0),e.p=2,e.n=3,qS.validateScript(i);case 3:t=e.v,y(t),e.n=5;break;case 4:e.p=4,n=e.v,y({valid:!1,errors:[n instanceof Error?n.message:"Validation failed"]});case 5:return e.p=5,p(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=ek(ZS().m(function e(){var t,r,o,s;return ZS().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.trim()&&l.trim()){e.n=1;break}return e.a(2);case 1:return p(!0),e.p=2,t={name:l,script:i,parameters:{}},e.n=3,qS.executeIndicator(t);case 3:r=e.v,o={name:l,script:i,output:r,enabled:!0},v(function(e){return[].concat(function(e){if(Array.isArray(e))return rk(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||nk(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]);var t}),n(r,l),a(""),c(""),y(null),e.n=5;break;case 4:e.p=4,s=e.v,y({valid:!1,errors:[s instanceof Error?s.message:"Import failed"]});case 5:return e.p=5,p(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}();return t.createElement("div",{className:"pinescript-importer-overlay","data-testid":"pinescript-importer"},t.createElement("div",{className:"pinescript-importer-panel"},t.createElement("div",{className:"importer-header"},t.createElement("h3",null," Import PineScript Indicator"),t.createElement("button",{className:"close-button",onClick:r,"data-testid":"importer-close-button"},"")),t.createElement("div",{className:"importer-content"},t.createElement("div",{className:"sample-indicators"},t.createElement("h4",null," Sample Indicators"),t.createElement("div",{className:"sample-buttons"},Object.keys(b).map(function(e){return t.createElement("button",{key:e,className:"sample-button",onClick:function(){return function(e){a(b[e]),c(e),y(null)}(e)},"data-testid":"sample-".concat(e.toLowerCase().replace(/\s+/g,"-"))},e)}))),t.createElement("div",{className:"script-input-section"},t.createElement("h4",null," PineScript Code"),t.createElement("div",{className:"input-group"},t.createElement("label",null,"Indicator Name:"),t.createElement("input",{type:"text",value:l,onChange:function(e){return c(e.target.value)},placeholder:"Enter indicator name","data-testid":"indicator-name-input"})),t.createElement("div",{className:"script-textarea-container"},t.createElement("textarea",{value:i,onChange:function(e){return a(e.target.value)},placeholder:"Paste your PineScript code here...",rows:12,className:"script-textarea","data-testid":"script-textarea"})),t.createElement("div",{className:"script-actions"},t.createElement("button",{onClick:x,disabled:f||!i.trim(),className:"validate-button","data-testid":"validate-button"},f?" Validating...":" Validate Script"),t.createElement("button",{onClick:w,disabled:f||!i.trim()||!l.trim()||h&&!h.valid,className:"import-button","data-testid":"import-button"},f?" Importing...":" Import Indicator"))),h&&t.createElement("div",{className:"validation-result ".concat(h.valid?"valid":"invalid")},h.valid?t.createElement("div",{className:"validation-success"}," Script is valid and ready to import"):t.createElement("div",{className:"validation-errors"},t.createElement("h5",null," Validation Errors:"),t.createElement("ul",null,h.errors.map(function(e,n){return t.createElement("li",{key:n},e)})))),g.length>0&&t.createElement("div",{className:"imported-indicators"},t.createElement("h4",null," Imported Indicators"),t.createElement("div",{className:"indicators-list"},g.map(function(e,n){return t.createElement("div",{key:n,className:"indicator-item ".concat(e.enabled?"enabled":"disabled")},t.createElement("div",{className:"indicator-info"},t.createElement("span",{className:"indicator-name"},e.name),t.createElement("span",{className:"indicator-plots"},e.output.plots.length," plots")),t.createElement("button",{onClick:function(){return function(e){v(function(t){return t.map(function(t,n){return n===e?GS(GS({},t),{},{enabled:!t.enabled}):t})})}(n)},className:"toggle-button","data-testid":"toggle-indicator-".concat(n)},e.enabled?"":""))}))),t.createElement("div",{className:"builtin-functions"},t.createElement("h4",null," Available Functions"),t.createElement("div",{className:"functions-grid"},qS.getBuiltinFunctions().slice(0,12).map(function(e){return t.createElement("span",{key:e,className:"function-tag"},e)}),t.createElement("span",{className:"function-more"},"+",qS.getBuiltinFunctions().length-12," more..."))))))};function ik(e){return ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ik(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ak.apply(null,arguments)}function sk(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return lk(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(lk(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,lk(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,lk(f,"constructor",c),lk(c,"constructor",l),l.displayName="GeneratorFunction",lk(c,o,"GeneratorFunction"),lk(f),lk(f,o,"Generator"),lk(f,r,function(){return this}),lk(f,"toString",function(){return"[object Generator]"}),(sk=function(){return{w:i,m:p}})()}function lk(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}lk=function(e,t,n,r){function i(t,n){lk(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},lk(e,t,n,r)}function ck(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function uk(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ck(i,r,o,a,s,"next",e)}function s(e){ck(i,r,o,a,s,"throw",e)}a(void 0)})}}function fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yk(r.key),r)}}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pk=function(){return!!e})()}function dk(e){return dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dk(e)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hk(e,t)}function yk(e){var t=function(e){if("object"!=ik(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ik(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ik(t)?t:t+""}Q("%Y-%m-%d");var mk=n(626),gk={};gk.styleTagTransform=Om(),gk.setAttributes=km(),gk.insert=wm().bind(null,"head"),gk.domAPI=bm(),gk.insertStyleElement=Cm(),gm()(mk.A,gk),mk.A&&mk.A.locals&&mk.A.locals;var vk=n(210),bk={};function xk(e){return xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xk(e)}function wk(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Sk(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,s=0,l=e,p.n=n,a}};function d(n,r){for(s=n,l=r,t=0;!f&&c&&!o&&t<u.length;t++){var o,i=u[t],d=p.p,h=i[2];n>3?(o=h===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(s=0,p.v=r,p.n=i[1]):d<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,h),s=u,l=h;(t=s<2?e:l)||!f;){i||(s?s<3?(s>1&&(p.n=-1),d(s,l)):p.n=l:p.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=p.n<0)?l:n.call(r,p))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Sk(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Sk(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,Sk(f,"constructor",c),Sk(c,"constructor",l),l.displayName="GeneratorFunction",Sk(c,o,"GeneratorFunction"),Sk(f),Sk(f,o,"Generator"),Sk(f,r,function(){return this}),Sk(f,"toString",function(){return"[object Generator]"}),(wk=function(){return{w:i,m:p}})()}function Sk(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Sk=function(e,t,n,r){function i(t,n){Sk(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Sk(e,t,n,r)}function kk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ck(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(t){Pk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pk(e,t,n){return(t=function(e){var t=function(e){if("object"!=xk(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xk(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ok(e){return function(e){if(Array.isArray(e))return Tk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||jk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jk(e,t){if(e){if("string"==typeof e)return Tk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tk(e,t):void 0}}function Tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}bk.styleTagTransform=Om(),bk.setAttributes=km(),bk.insert=wm().bind(null,"head"),bk.domAPI=bm(),bk.insertStyleElement=Cm(),gm()(vk.A,bk),vk.A&&vk.A.locals&&vk.A.locals;var Ak=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DAILY";return function(n){return function(r){function o(t){var n,r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=function(e,t,n){return t=dk(t),function(e,t){if(t&&("object"==ik(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pk()?Reflect.construct(t,n||[],dk(e).constructor):t.apply(e,n))}(this,o,[t]),r=n,i="loadData",a=uk(sk().m(function e(){var t,r,o,i,a;return sk().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=n.props.symbol||"SNOW",r=n.props.interval||"1day",n.setState({data:void 0,message:"Loading ".concat(t," (").concat(r,") data..."),currentSymbol:t}),e.p=1,e.n=2,ub(t,r);case 2:if(!((o=e.v)&&o.length>0)){e.n=3;break}return console.log(" Setting new data: ".concat(o.length," items for ").concat(t,"@").concat(r)),console.log(" First data point:",o[0]),console.log(" Last data point:",o[o.length-1]),(i=n.props.onDataLoaded)&&i(o),n.setState({data:o,message:""}),e.a(2);case 3:e.n=5;break;case 4:e.p=4,a=e.v,console.log("Error generating data:",a),n.setState({data:[],message:"No data available for ".concat(t," (").concat(r,"). Please try a different symbol or interval.")});case 5:return e.a(2)}},e,null,[[1,4]])})),(i=yk(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.state={message:"Loading ".concat(e," data...")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}(o,r),i=o,(a=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.symbol||"SNOW",n=this.props.interval||"1day",r=e?e.symbol||"SNOW":null,o=e?e.interval||"1day":null,i=this.props.isReplayMode||!1,a=e&&e.isReplayMode||!1;!e||r===t&&o===n||(console.log(" Data reload triggered: ".concat(r,"@").concat(o,"  ").concat(t,"@").concat(n)),this.loadData()),i&&a&&this.props.replayPosition!==e.replayPosition&&this.forceUpdate()}},{key:"render",value:function(){var e=this.state,r=e.data,o=e.message,i=e.currentSymbol,a=this.props.interval||"1day",s=this.props.isReplayMode||!1,l=this.props.replayPosition||0;if(void 0===r)return t.createElement("div",{className:"center"},o);if(0===r.length)return t.createElement("div",{className:"center"},o||"No data available for ".concat(i," (").concat(a,")"));var c=r;s&&l>0&&(c=r.slice(0,Math.min(l,r.length)));var u="".concat(i,"-").concat(a);return t.createElement(n,ak({},this.props,{data:c,key:u}))}}])&&fk(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,a}(t.Component)}}()(ym);const Dk=function(){var e=_k((0,t.useState)("SNOW"),2),n=e[0],r=e[1],o=_k((0,t.useState)("1day"),2),i=o[0],a=o[1],s=_k((0,t.useState)(null),2),l=s[0],c=s[1],u=_k((0,t.useState)(!1),2),f=u[0],p=u[1],d=_k((0,t.useState)(!1),2),h=d[0],y=d[1],m=_k((0,t.useState)(!1),2),g=m[0],v=m[1],b=_k((0,t.useState)([]),2),x=b[0],w=b[1],S=_k((0,t.useState)([]),2),k=S[0],E=S[1],C=_k((0,t.useState)([]),2),P=C[0],O=C[1],_=_k((0,t.useState)([]),2),j=_[0],T=_[1],A=_k((0,t.useState)([]),2),D=A[0],M=A[1],N=_k((0,t.useState)([]),2),I=N[0],R=N[1],L=_k((0,t.useState)(null),2),F=L[0],z=L[1],V=_k((0,t.useState)([{trendLines:[],fibonacciRetracements:[],trianglePatterns:[]}]),2),B=V[0],U=V[1],W=_k((0,t.useState)(0),2),H=W[0],Y=W[1],q=_k((0,t.useState)(!1),2),X=q[0],$=q[1],G=_k((0,t.useState)(!1),2),Q=G[0],Z=G[1],K=_k((0,t.useState)(0),2),J=K[0],ee=K[1],te=_k((0,t.useState)(1),2),ne=te[0],re=te[1],oe=_k((0,t.useState)([]),2),ie=oe[0],ae=oe[1],se=_k((0,t.useState)(null),2),le=se[0],ce=se[1],ue=t.useRef(null),fe=_k((0,t.useState)(null),2),pe=fe[0],de=fe[1],he=_k((0,t.useState)({ema10:!1,ema12:!0,ema26:!0,ema50:!1,ema200:!1,sma10:!1,sma50:!1,sma200:!1,bollingerBands:!1,elderRay:!0,volume:!0}),2),ye=he[0],me=he[1],ge=_k((0,t.useState)(!1),2),ve=ge[0],be=ge[1],xe=_k((0,t.useState)("candlestick"),2),we=xe[0],Se=xe[1],ke=_k((0,t.useState)(!1),2),Ee=ke[0],Ce=ke[1],Pe=_k((0,t.useState)(!1),2),Oe=Pe[0],_e=Pe[1],je=_k((0,t.useState)(1.03),2),Te=je[0],Ae=je[1],De=_k((0,t.useState)(!1),2),Me=De[0],Ne=De[1],Ie=_k((0,t.useState)([]),2),Re=(Ie[0],Ie[1]),Le=_k((0,t.useState)(100),2),Fe=Le[0],ze=Le[1],Ve=_k((0,t.useState)(150),2),Be=Ve[0],Ue=Ve[1];t.useEffect(function(){console.log(" TrendLines state changed. New count:",x.length),x.forEach(function(e,t){console.log("  Line ".concat(t,":"),e.start,"->",e.end)})},[x]);var We=(0,t.useCallback)(function(e){console.log(" Saving to history:",e),U(function(t){var n=t.slice(0,H+1);return n.push(e),n.length>50?n.slice(-50):n}),Y(function(e){return e+1})},[H]),He=(0,t.useCallback)(function(){if(H>0){console.log(" Undo: Moving from history index",H,"to",H-1);var e=B[H-1];w(e.trendLines),E(e.fibonacciRetracements),O(e.trianglePatterns),Y(H-1),T([]),M([]),R([]),z(null)}else console.log(" Cannot undo: Already at the beginning of history")},[B,H]),Ye=(0,t.useCallback)(function(){if(H<B.length-1){console.log(" Redo: Moving from history index",H,"to",H+1);var e=B[H+1];w(e.trendLines),E(e.fibonacciRetracements),O(e.trianglePatterns),Y(H+1),T([]),M([]),R([]),z(null)}else console.log(" Cannot redo: Already at the end of history")},[B,H]),qe=function(){console.log(" Exiting replay mode"),$(!1),Z(!1),ee(0),ue.current&&(clearInterval(ue.current),ue.current=null),pe?(console.log(" Restoring pre-replay drawings:",pe),w(pe.trendLines),E(pe.fibonacciRetracements),O(pe.trianglePatterns),de(null)):console.log(" No pre-replay drawings to restore"),r(n+"_replay_exit"),setTimeout(function(){r(n.replace("_replay_exit",""))},0)},Xe=function(){console.log(" Playing replay"),Z(!0);var e=200,t=1;ne<=2?(e=1e3/ne,t=1):(e=100,t=Math.max(1,Math.round(ne/2))),console.log(" Replay speed: ".concat(ne,"x (").concat(e,"ms interval, ").concat(t," steps/tick)")),ue.current=setInterval(function(){ee(function(e){var n=e+t,r=le||ie.length;return n>=r?($e(),r):n})},e)},$e=function(){console.log(" Pausing replay"),Z(!1),ue.current&&(clearInterval(ue.current),ue.current=null)},Ge=function(){ee(function(e){return Math.min(e+1,ie.length)})},Qe=function(){ee(function(e){return Math.max(e-1,1)})},Ze=function(e){re(e),Q&&($e(),setTimeout(function(){return Xe()},0))},Ke=(0,t.useCallback)(function(){var e,t=(e=wk().m(function e(t,n){return wk().w(function(e){for(;;)switch(e.n){case 0:Re(function(e){return[].concat(Ok(e),[{name:n,output:t}])}),console.log(" Indicator imported successfully:",n),console.log(" Output:",t);case 1:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){kk(i,r,o,a,s,"next",e)}function s(e){kk(i,r,o,a,s,"throw",e)}a(void 0)})});return function(e,n){return t.apply(this,arguments)}}(),[]);t.useEffect(function(){var e=function(e){var t=e.target;!ve||t.closest(".indicators-panel")||t.closest(".indicators-button")||be(!1),!Ee||t.closest(".chart-type-panel")||t.closest(".chart-type-button")||Ce(!1),!Oe||t.closest(".settings-panel")||t.closest('[title="Settings"]')||_e(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[ve,Ee,Oe]);var Je=t.useRef({selectedTrendLines:j,selectedFibs:D,selectedTriangles:I,lastSelectedObject:F,trendLines:x,fibonacciRetracements:k,trianglePatterns:P});return t.useEffect(function(){Je.current={selectedTrendLines:j,selectedFibs:D,selectedTriangles:I,lastSelectedObject:F,trendLines:x,fibonacciRetracements:k,trianglePatterns:P}}),t.useEffect(function(){var e=function(e){var t=Je.current;if((e.metaKey||e.ctrlKey)&&"z"===e.key)return e.preventDefault(),void(e.shiftKey?(console.log(" Redo keyboard shortcut detected"),Ye()):(console.log(" Undo keyboard shortcut detected"),He()));if(X){if(" "===e.key)return e.preventDefault(),void(Q?$e():Xe());if("ArrowLeft"===e.key)return e.preventDefault(),void Qe();if("ArrowRight"===e.key)return e.preventDefault(),void Ge();if("Escape"===e.key)return e.preventDefault(),void qe();if(e.key>="1"&&e.key<="5"){e.preventDefault();var n=parseInt(e.key)-1;return void Ze([.5,1,2,5,10][n])}}if("Delete"===e.key||"Backspace"===e.key){console.log(" Delete key pressed - current state:"),console.log("  selectedTrendLines:",t.selectedTrendLines),console.log("  selectedFibs:",t.selectedFibs),console.log("  selectedTriangles:",t.selectedTriangles),console.log("  lastSelectedObject:",t.lastSelectedObject),console.log("  trendLines.length:",t.trendLines.length),console.log("  trianglePatterns.length:",t.trianglePatterns.length);var r=!1,o=null;if(t.selectedTrendLines.length>0){console.log(" DELETING selectedTrendLines:",t.selectedTrendLines);var i=t.trendLines.filter(function(e,n){return!t.selectedTrendLines.includes(n)});console.log(" OLD count:",t.trendLines.length,"-> NEW count:",i.length),w(i),T([]),z(null),o={trendLines:i,fibonacciRetracements:t.fibonacciRetracements,trianglePatterns:t.trianglePatterns},r=!0}else if(t.selectedFibs.length>0){console.log("   Using selectedFibs for deletion:",t.selectedFibs);var a=t.fibonacciRetracements.filter(function(e,n){return!t.selectedFibs.includes(n)});E(a),M([]),z(null),o={trendLines:t.trendLines,fibonacciRetracements:a,trianglePatterns:t.trianglePatterns},r=!0}else if(t.selectedTriangles.length>0){console.log(" DELETING selectedTriangles:",t.selectedTriangles);var s=t.trianglePatterns.filter(function(e,n){return!t.selectedTriangles.includes(n)});console.log(" OLD count:",t.trianglePatterns.length,"-> NEW count:",s.length),O(s),R([]),z(null),o={trendLines:t.trendLines,fibonacciRetracements:t.fibonacciRetracements,trianglePatterns:s},r=!0}else if(t.lastSelectedObject)if("trendline"===t.lastSelectedObject.type&&t.lastSelectedObject.index<t.trendLines.length){var l=t.trendLines.filter(function(e,n){return n!==t.lastSelectedObject.index});w(l),z(null),o={trendLines:l,fibonacciRetracements:t.fibonacciRetracements,trianglePatterns:t.trianglePatterns},r=!0}else if("fibonacci"===t.lastSelectedObject.type&&t.lastSelectedObject.index<t.fibonacciRetracements.length){var c=t.fibonacciRetracements.filter(function(e,n){return n!==t.lastSelectedObject.index});E(c),z(null),o={trendLines:t.trendLines,fibonacciRetracements:c,trianglePatterns:t.trianglePatterns},r=!0}else if("triangle"===t.lastSelectedObject.type&&t.lastSelectedObject.index<t.trianglePatterns.length){var u=t.trianglePatterns.filter(function(e,n){return n!==t.lastSelectedObject.index});O(u),z(null),o={trendLines:t.trendLines,fibonacciRetracements:t.fibonacciRetracements,trianglePatterns:u},r=!0}r&&o&&(console.log("   Deletion occurred - saving to history"),We(o))}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[He,Ye,We]),t.createElement("div",{className:"app-container"},t.createElement(bb,{currentSymbol:n,onSymbolChange:function(e){console.log(" Symbol changed to:",e),r(e),w([]),E([]),O([]),T([]),M([]),R([]),z(null),U([{trendLines:[],fibonacciRetracements:[],trianglePatterns:[]}]),Y(0)},currentInterval:i,onIntervalChange:function(e){console.log(" Interval changed to:",e),a(e),U([{trendLines:[],fibonacciRetracements:[],trianglePatterns:[]}]),Y(0)},onUndo:He,onRedo:Ye,onReplay:function(){console.log(" Starting replay mode");var e={trendLines:Ok(x),fibonacciRetracements:Ok(k),trianglePatterns:Ok(P)};de(e),console.log(" Saved drawings before replay:",e),$(!0),Z(!1),w([]),E([]),O([]),ee(Math.min(50,ie.length))},onIndicatorsClick:function(){be(!ve)},onChartTypeClick:function(){Ce(!Ee)},onSettingsClick:function(){_e(!Oe)},onPineScriptImport:function(){Ne(!0)}}),t.createElement(Nm,{currentTool:l,onToolSelect:function(e){c(e),p("trendline"===e),y("fibonacci"===e),v("patterns"===e)}}),t.createElement("div",{className:"price-info-area","data-testid":"price-info-area",style:{padding:"4px 8px",fontSize:"12px",color:"#666",borderBottom:"1px solid #eee"}},"Symbol: ",n," | Last Price: $229.33 | Range: $227.84 - $236.50"),t.createElement("div",{className:"chart-container","data-testid":"main-chart-container"},t.createElement(Ak,{symbol:n,interval:i,enableTrendLine:f,enableFibonacci:h,enablePatterns:g,trendLines:x,fibonacciRetracements:k,trianglePatterns:P,selectedTrendLines:j,selectedFibs:D,selectedTriangles:I,onTrendLineComplete:function(e){console.log(" handleTrendLineComplete called"),console.log("  Previous trendLines count:",x.length),console.log("  New trendLines from library:",e),console.log("  New trendLines count:",e.length);var t=e.map(function(e,t){return{idx:t,selected:e.selected}});console.log("   Selection status from library:",t),console.log("   Using complete array from library"),w(e),e.length>x.length&&(console.log("   New trendline added - saving to history"),We({trendLines:e,fibonacciRetracements:k,trianglePatterns:P}));var n=e.map(function(e,t){return e.selected?t:-1}).filter(function(e){return-1!==e});n.length>0?(console.log("   Updating selection to indices:",n),T(n),z({type:"trendline",index:n[0]})):console.log("   No selected lines found in library data"),f?(console.log("   Auto-switching back to cursor after drawing"),c(null),p(!1)):console.log("   This was a drag update, not switching tools")},onFibonacciComplete:function(e){console.log(" handleFibonacciComplete called"),console.log("  New fibonacci retracements:",e),E(e),e.length>k.length&&(console.log("   New fibonacci added - saving to history"),We({trendLines:x,fibonacciRetracements:e,trianglePatterns:P})),c(null),y(!1)},onTriangleComplete:function(e){console.log(" handleTriangleComplete called"),console.log("  New triangles from library:",e),O(e),e.length>P.length&&(console.log("   New triangle added - saving to history"),We({trendLines:x,fibonacciRetracements:k,trianglePatterns:e})),c(null),v(!1)},onTrendLineSelect:function(e,t){if(console.log(" TrendLine Select Called"),console.log("  Current trendLines:",x),console.log("  Interactives received:",t),t.length>0){var n=[];t.forEach(function(e){console.log("  Looking for match for interactive:",e);var t=x.findIndex(function(t){return t.start&&e.start&&t.start[0]===e.start[0]&&t.start[1]===e.start[1]&&t.end&&e.end&&t.end[0]===e.end[0]&&t.end[1]===e.end[1]});console.log("  Found index:",t),-1!==t?n.push(t):void 0!==e.index?(console.log("  Using interactive.index:",e.index),n.push(e.index)):(console.log("  No match found, using last index"),n.push(x.length-1))});var r={type:"trendline",index:n[0]||0};z(r),T(n),M([])}else T([]),M([]),z(null)},onFibonacciSelect:function(e,t){if(console.log(" Fibonacci Select Called"),console.log("  Current fibonacci retracements:",k),console.log("  Interactives received:",t),t.length>0){var n=[];t.forEach(function(e){var t=k.findIndex(function(t){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2});-1!==t?n.push(t):n.push(0)});var r={type:"fibonacci",index:n[0]||0};z(r),M(n),T([]),R([])}else M([]),T([]),R([]),z(null)},onTriangleSelect:function(e,t){if(console.log(" Triangle Select Called"),console.log("  Current triangles:",P),console.log("  Interactives received:",t),t.length>0){var n=[];t.forEach(function(e){var t=P.findIndex(function(t){return t.point1&&e.point1&&t.point1[0]===e.point1[0]&&t.point1[1]===e.point1[1]&&t.point2&&e.point2&&t.point2[0]===e.point2[0]&&t.point2[1]===e.point2[1]&&t.point3&&e.point3&&t.point3[0]===e.point3[0]&&t.point3[1]===e.point3[1]});-1!==t?n.push(t):void 0!==e.index?n.push(e.index):n.push(P.length-1)});var r={type:"triangle",index:n[0]||0};z(r),R(n),T([]),M([])}else R([]),T([]),M([]),z(null)},onRefresh:function(){console.log(" Refreshing chart..."),w([]),E([]),O([]),T([]),M([]),R([]),z(null),U([{trendLines:[],fibonacciRetracements:[],trianglePatterns:[]}]),Y(0),r(n+"_refresh"),setTimeout(function(){r(n.replace("_refresh",""))},0)},isReplayMode:X,replayPosition:J,fullData:ie,onDataLoaded:ae,enabledIndicators:ye,chartType:we,zoomMultiplier:Te,elderRayHeight:Fe,volumeHeight:Be,onElderRayHeightChange:ze,onVolumeHeightChange:Ue})),X&&t.createElement(Sb,{isPlaying:Q,replayPosition:J,totalBars:ie.length,replaySpeed:ne,data:ie,replayEndPosition:le,onPlay:Xe,onPause:$e,onStepForward:Ge,onStepBackward:Qe,onSpeedChange:Ze,onPositionChange:ee,onDateSelect:ee,onEndDateSelect:function(e){console.log(" End date selected, position:",e),ce(e),J>e&&ee(e)},onClearEndDate:function(){console.log(" Clearing end date"),ce(null)},onExit:qe}),ve&&t.createElement(Cb,{enabledIndicators:ye,onToggleIndicator:function(e){me(function(t){return Ck(Ck({},t),{},Pk({},e,!t[e]))})},onClose:function(){return be(!1)}}),Ee&&t.createElement(_b,{currentChartType:we,onChartTypeSelect:function(e){Se(e),Ce(!1)},onClose:function(){return Ce(!1)}}),Oe&&t.createElement(Ab,{zoomMultiplier:Te,onZoomMultiplierChange:function(e){Ae(e)},onClose:function(){return _e(!1)}}),Me&&t.createElement(ok,{onIndicatorImported:Ke,onClose:function(){Ne(!1)}}))};var Mk=n(523),Nk={};Nk.styleTagTransform=Om(),Nk.setAttributes=km(),Nk.insert=wm().bind(null,"head"),Nk.domAPI=bm(),Nk.insertStyleElement=Cm(),gm()(Mk.A,Nk),Mk.A&&Mk.A.locals&&Mk.A.locals,r.createRoot(document.getElementById("root")).render(t.createElement(Dk,null))})()})();